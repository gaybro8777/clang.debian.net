DC-Build-Header: mailavenger 0.8.5-2 / 2020-02-25 01:51:25 +0000
DC-Task: type:rebuild-binarch-only source:mailavenger version:0.8.5-2 chroot:unstable esttime:121 logfile:/tmp/mailavenger_0.8.5-2_unstable_clang8.log modes:clang8:binarch-only
DC-Sbuild-call: su user42 -c 'sbuild -n --arch-any --apt-update -d unstable -v --no-run-lintian --chroot-setup-commands=/tmp/clang8 mailavenger_0.8.5-2'
sbuild (Debian sbuild) 0.78.1 (09 February 2019) on ip-172-31-12-41.eu-central-1.compute.internal

+==============================================================================+
| mailavenger 0.8.5-2 (amd64)                  Tue, 25 Feb 2020 01:51:25 +0000 |
+==============================================================================+

Package: mailavenger
Version: 0.8.5-2
Source Version: 0.8.5-2
Distribution: unstable
Machine Architecture: amd64
Host Architecture: amd64
Build Architecture: amd64
Build Type: binary

I: NOTICE: Log filtering will replace 'var/run/schroot/mount/sid-amd64-sbuild-3be188f2-d1b2-4fe1-92fb-b55f60f358e9' with '<<CHROOT>>'

+------------------------------------------------------------------------------+
| Chroot Setup Commands                                                        |
+------------------------------------------------------------------------------+


/tmp/clang8
-----------

+ echo 'Entering customization script...'
Entering customization script...
+ CLANG_VERSION=8
+ echo 'Install of clang-8'
Install of clang-8
+ apt-get update
Get:1 http://127.0.0.1:12990/debian sid InRelease [142 kB]
Get:2 http://127.0.0.1:12990/debian sid/main Sources.diff/Index [27.9 kB]
Get:3 http://127.0.0.1:12990/debian sid/main amd64 Packages.diff/Index [27.9 kB]
Get:4 http://127.0.0.1:12990/debian sid/main Sources 2020-02-24-0823.32.pdiff [11.0 kB]
Get:5 http://127.0.0.1:12990/debian sid/main Sources 2020-02-24-1420.34.pdiff [30.2 kB]
Get:6 http://127.0.0.1:12990/debian sid/main Sources 2020-02-24-2014.03.pdiff [16.9 kB]
Get:6 http://127.0.0.1:12990/debian sid/main Sources 2020-02-24-2014.03.pdiff [16.9 kB]
Get:7 http://127.0.0.1:12990/debian sid/main amd64 Packages 2020-02-24-0823.32.pdiff [15.5 kB]
Get:8 http://127.0.0.1:12990/debian sid/main amd64 Packages 2020-02-24-1420.34.pdiff [27.5 kB]
Get:9 http://127.0.0.1:12990/debian sid/main amd64 Packages 2020-02-24-2014.03.pdiff [21.6 kB]
Get:9 http://127.0.0.1:12990/debian sid/main amd64 Packages 2020-02-24-2014.03.pdiff [21.6 kB]
Get:10 http://127.0.0.1:12990/debian sid/main Translation-en [6193 kB]
Fetched 6514 kB in 2s (3720 kB/s)
Reading package lists...
+ apt-get install --yes --no-install-recommends --force-yes clang-8 libomp-8-dev libobjc-9-dev
Reading package lists...
Building dependency tree...
The following additional packages will be installed:
  gcc-8-base lib32gcc-s1 lib32gcc1 lib32stdc++6 libbsd0 libc6-i386
  libclang-common-8-dev libclang1-8 libedit2 libgc1c2 libgcc-8-dev libllvm8
  libmpx2 libobjc-8-dev libobjc4 libomp5-8 libstdc++-8-dev
Suggested packages:
  clang-8-doc libomp-8-doc libstdc++-8-doc
Recommended packages:
  llvm-8-dev python3
The following NEW packages will be installed:
  clang-8 gcc-8-base lib32gcc-s1 lib32gcc1 lib32stdc++6 libbsd0 libc6-i386
  libclang-common-8-dev libclang1-8 libedit2 libgc1c2 libgcc-8-dev libllvm8
  libmpx2 libobjc-8-dev libobjc-9-dev libobjc4 libomp-8-dev libomp5-8
  libstdc++-8-dev
0 upgraded, 20 newly installed, 0 to remove and 1 not upgraded.
Need to get 39.9 MB of archives.
After this operation, 223 MB of additional disk space will be used.
Get:1 http://127.0.0.1:12990/debian sid/main amd64 libbsd0 amd64 0.10.0-1 [107 kB]
Get:2 http://127.0.0.1:12990/debian sid/main amd64 libedit2 amd64 3.1-20191231-1 [95.4 kB]
Get:3 http://127.0.0.1:12990/debian sid/main amd64 libllvm8 amd64 1:8.0.1-7 [13.8 MB]
Get:4 http://127.0.0.1:12990/debian sid/main amd64 gcc-8-base amd64 8.3.0-29 [194 kB]
Get:5 http://127.0.0.1:12990/debian sid/main amd64 libmpx2 amd64 8.3.0-29 [11.4 kB]
Get:6 http://127.0.0.1:12990/debian sid/main amd64 libgcc-8-dev amd64 8.3.0-29 [2297 kB]
Get:7 http://127.0.0.1:12990/debian sid/main amd64 libstdc++-8-dev amd64 8.3.0-29 [1543 kB]
Get:8 http://127.0.0.1:12990/debian sid/main amd64 libgc1c2 amd64 1:7.6.4-0.4 [224 kB]
Get:9 http://127.0.0.1:12990/debian sid/main amd64 libobjc4 amd64 10-20200222-1 [41.6 kB]
Get:10 http://127.0.0.1:12990/debian sid/main amd64 libobjc-8-dev amd64 8.3.0-29 [227 kB]
Get:11 http://127.0.0.1:12990/debian sid/main amd64 libc6-i386 amd64 2.29-10 [2918 kB]
Get:12 http://127.0.0.1:12990/debian sid/main amd64 lib32gcc-s1 amd64 10-20200222-1 [49.4 kB]
Get:13 http://127.0.0.1:12990/debian sid/main amd64 lib32gcc1 amd64 1:10-20200222-1 [1104 B]
Get:14 http://127.0.0.1:12990/debian sid/main amd64 lib32stdc++6 amd64 10-20200222-1 [510 kB]
Get:15 http://127.0.0.1:12990/debian sid/main amd64 libclang-common-8-dev amd64 1:8.0.1-7 [2989 kB]
Get:16 http://127.0.0.1:12990/debian sid/main amd64 libclang1-8 amd64 1:8.0.1-7 [6244 kB]
Get:17 http://127.0.0.1:12990/debian sid/main amd64 clang-8 amd64 1:8.0.1-7 [8010 kB]
Get:18 http://127.0.0.1:12990/debian sid/main amd64 libobjc-9-dev amd64 9.2.1-29 [219 kB]
Get:19 http://127.0.0.1:12990/debian sid/main amd64 libomp5-8 amd64 1:8.0.1-7 [331 kB]
Get:20 http://127.0.0.1:12990/debian sid/main amd64 libomp-8-dev amd64 1:8.0.1-7 [62.3 kB]
debconf: delaying package configuration, since apt-utils is not installed
Fetched 39.9 MB in 0s (105 MB/s)
Selecting previously unselected package libbsd0:amd64.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 12119 files and directories currently installed.)
Preparing to unpack .../00-libbsd0_0.10.0-1_amd64.deb ...
Unpacking libbsd0:amd64 (0.10.0-1) ...
Selecting previously unselected package libedit2:amd64.
Preparing to unpack .../01-libedit2_3.1-20191231-1_amd64.deb ...
Unpacking libedit2:amd64 (3.1-20191231-1) ...
Selecting previously unselected package libllvm8:amd64.
Preparing to unpack .../02-libllvm8_1%3a8.0.1-7_amd64.deb ...
Unpacking libllvm8:amd64 (1:8.0.1-7) ...
Selecting previously unselected package gcc-8-base:amd64.
Preparing to unpack .../03-gcc-8-base_8.3.0-29_amd64.deb ...
Unpacking gcc-8-base:amd64 (8.3.0-29) ...
Selecting previously unselected package libmpx2:amd64.
Preparing to unpack .../04-libmpx2_8.3.0-29_amd64.deb ...
Unpacking libmpx2:amd64 (8.3.0-29) ...
Selecting previously unselected package libgcc-8-dev:amd64.
Preparing to unpack .../05-libgcc-8-dev_8.3.0-29_amd64.deb ...
Unpacking libgcc-8-dev:amd64 (8.3.0-29) ...
Selecting previously unselected package libstdc++-8-dev:amd64.
Preparing to unpack .../06-libstdc++-8-dev_8.3.0-29_amd64.deb ...
Unpacking libstdc++-8-dev:amd64 (8.3.0-29) ...
Selecting previously unselected package libgc1c2:amd64.
Preparing to unpack .../07-libgc1c2_1%3a7.6.4-0.4_amd64.deb ...
Unpacking libgc1c2:amd64 (1:7.6.4-0.4) ...
Selecting previously unselected package libobjc4:amd64.
Preparing to unpack .../08-libobjc4_10-20200222-1_amd64.deb ...
Unpacking libobjc4:amd64 (10-20200222-1) ...
Selecting previously unselected package libobjc-8-dev:amd64.
Preparing to unpack .../09-libobjc-8-dev_8.3.0-29_amd64.deb ...
Unpacking libobjc-8-dev:amd64 (8.3.0-29) ...
Selecting previously unselected package libc6-i386.
Preparing to unpack .../10-libc6-i386_2.29-10_amd64.deb ...
Unpacking libc6-i386 (2.29-10) ...
Selecting previously unselected package lib32gcc-s1.
Preparing to unpack .../11-lib32gcc-s1_10-20200222-1_amd64.deb ...
Unpacking lib32gcc-s1 (10-20200222-1) ...
Selecting previously unselected package lib32gcc1.
Preparing to unpack .../12-lib32gcc1_1%3a10-20200222-1_amd64.deb ...
Unpacking lib32gcc1 (1:10-20200222-1) ...
Selecting previously unselected package lib32stdc++6.
Preparing to unpack .../13-lib32stdc++6_10-20200222-1_amd64.deb ...
Unpacking lib32stdc++6 (10-20200222-1) ...
Selecting previously unselected package libclang-common-8-dev.
Preparing to unpack .../14-libclang-common-8-dev_1%3a8.0.1-7_amd64.deb ...
Unpacking libclang-common-8-dev (1:8.0.1-7) ...
Selecting previously unselected package libclang1-8.
Preparing to unpack .../15-libclang1-8_1%3a8.0.1-7_amd64.deb ...
Unpacking libclang1-8 (1:8.0.1-7) ...
Selecting previously unselected package clang-8.
Preparing to unpack .../16-clang-8_1%3a8.0.1-7_amd64.deb ...
Unpacking clang-8 (1:8.0.1-7) ...
Selecting previously unselected package libobjc-9-dev:amd64.
Preparing to unpack .../17-libobjc-9-dev_9.2.1-29_amd64.deb ...
Unpacking libobjc-9-dev:amd64 (9.2.1-29) ...
Selecting previously unselected package libomp5-8:amd64.
Preparing to unpack .../18-libomp5-8_1%3a8.0.1-7_amd64.deb ...
Unpacking libomp5-8:amd64 (1:8.0.1-7) ...
Selecting previously unselected package libomp-8-dev.
Preparing to unpack .../19-libomp-8-dev_1%3a8.0.1-7_amd64.deb ...
Unpacking libomp-8-dev (1:8.0.1-7) ...
Setting up libgc1c2:amd64 (1:7.6.4-0.4) ...
Setting up libobjc4:amd64 (10-20200222-1) ...
Setting up gcc-8-base:amd64 (8.3.0-29) ...
Setting up libobjc-9-dev:amd64 (9.2.1-29) ...
Setting up libmpx2:amd64 (8.3.0-29) ...
Setting up libc6-i386 (2.29-10) ...
Setting up libbsd0:amd64 (0.10.0-1) ...
Setting up libomp5-8:amd64 (1:8.0.1-7) ...
Setting up libomp-8-dev (1:8.0.1-7) ...
Setting up libedit2:amd64 (3.1-20191231-1) ...
Setting up lib32gcc-s1 (10-20200222-1) ...
Setting up libgcc-8-dev:amd64 (8.3.0-29) ...
Setting up libstdc++-8-dev:amd64 (8.3.0-29) ...
Setting up libllvm8:amd64 (1:8.0.1-7) ...
Setting up libclang1-8 (1:8.0.1-7) ...
Setting up lib32gcc1 (1:10-20200222-1) ...
Setting up libobjc-8-dev:amd64 (8.3.0-29) ...
Setting up lib32stdc++6 (10-20200222-1) ...
Setting up libclang-common-8-dev (1:8.0.1-7) ...
Setting up clang-8 (1:8.0.1-7) ...
Processing triggers for libc-bin (2.29-10) ...
W: --force-yes is deprecated, use one of the options starting with --allow instead.
+ echo 'Replace gcc, g++ & cpp by clang'
Replace gcc, g++ & cpp by clang
+ VERSIONS='4.6 4.7 4.8 4.9 5 6 7 8 9 10'
+ cd /usr/bin
+ for VERSION in $VERSIONS
+ rm -f g++-4.6 gcc-4.6 cpp-4.6 gcc
+ ln -s clang++-8 g++-4.6
+ ln -s clang-8 gcc-4.6
+ ln -s clang-8 cpp-4.6
+ ln -s clang-8 gcc
+ echo 'gcc-4.6 hold'
+ dpkg --set-selections
dpkg: warning: package not in status nor available database at line 1: gcc-4.6
dpkg: warning: found unknown packages; this might mean the available database
is outdated, and needs to be updated through a frontend method;
please see the FAQ <https://wiki.debian.org/Teams/Dpkg/FAQ>
+ echo 'g++-4.6 hold'
+ dpkg --set-selections
dpkg: warning: package not in status nor available database at line 1: g++-4.6
dpkg: warning: found unknown packages; this might mean the available database
is outdated, and needs to be updated through a frontend method;
please see the FAQ <https://wiki.debian.org/Teams/Dpkg/FAQ>
+ for VERSION in $VERSIONS
+ rm -f g++-4.7 gcc-4.7 cpp-4.7 gcc
+ ln -s clang++-8 g++-4.7
+ ln -s clang-8 gcc-4.7
+ ln -s clang-8 cpp-4.7
+ ln -s clang-8 gcc
+ echo 'gcc-4.7 hold'
+ dpkg --set-selections
dpkg: warning: package not in status nor available database at line 1: gcc-4.7
dpkg: warning: found unknown packages; this might mean the available database
is outdated, and needs to be updated through a frontend method;
please see the FAQ <https://wiki.debian.org/Teams/Dpkg/FAQ>
+ echo 'g++-4.7 hold'
+ dpkg --set-selections
dpkg: warning: package not in status nor available database at line 1: g++-4.7
dpkg: warning: found unknown packages; this might mean the available database
is outdated, and needs to be updated through a frontend method;
please see the FAQ <https://wiki.debian.org/Teams/Dpkg/FAQ>
+ for VERSION in $VERSIONS
+ rm -f g++-4.8 gcc-4.8 cpp-4.8 gcc
+ ln -s clang++-8 g++-4.8
+ ln -s clang-8 gcc-4.8
+ ln -s clang-8 cpp-4.8
+ ln -s clang-8 gcc
+ echo 'gcc-4.8 hold'
+ dpkg --set-selections
dpkg: warning: package not in status nor available database at line 1: gcc-4.8
dpkg: warning: found unknown packages; this might mean the available database
is outdated, and needs to be updated through a frontend method;
please see the FAQ <https://wiki.debian.org/Teams/Dpkg/FAQ>
+ echo 'g++-4.8 hold'
+ dpkg --set-selections
dpkg: warning: package not in status nor available database at line 1: g++-4.8
dpkg: warning: found unknown packages; this might mean the available database
is outdated, and needs to be updated through a frontend method;
please see the FAQ <https://wiki.debian.org/Teams/Dpkg/FAQ>
+ for VERSION in $VERSIONS
+ rm -f g++-4.9 gcc-4.9 cpp-4.9 gcc
+ ln -s clang++-8 g++-4.9
+ ln -s clang-8 gcc-4.9
+ ln -s clang-8 cpp-4.9
+ ln -s clang-8 gcc
+ echo 'gcc-4.9 hold'
+ dpkg --set-selections
dpkg: warning: package not in status nor available database at line 1: gcc-4.9
dpkg: warning: found unknown packages; this might mean the available database
is outdated, and needs to be updated through a frontend method;
please see the FAQ <https://wiki.debian.org/Teams/Dpkg/FAQ>
+ echo 'g++-4.9 hold'
+ dpkg --set-selections
dpkg: warning: package not in status nor available database at line 1: g++-4.9
dpkg: warning: found unknown packages; this might mean the available database
is outdated, and needs to be updated through a frontend method;
please see the FAQ <https://wiki.debian.org/Teams/Dpkg/FAQ>
+ for VERSION in $VERSIONS
+ rm -f g++-5 gcc-5 cpp-5 gcc
+ ln -s clang++-8 g++-5
+ ln -s clang-8 gcc-5
+ ln -s clang-8 cpp-5
+ ln -s clang-8 gcc
+ echo 'gcc-5 hold'
+ dpkg --set-selections
dpkg: warning: package not in status nor available database at line 1: gcc-5
dpkg: warning: found unknown packages; this might mean the available database
is outdated, and needs to be updated through a frontend method;
please see the FAQ <https://wiki.debian.org/Teams/Dpkg/FAQ>
+ echo 'g++-5 hold'
+ dpkg --set-selections
dpkg: warning: package not in status nor available database at line 1: g++-5
dpkg: warning: found unknown packages; this might mean the available database
is outdated, and needs to be updated through a frontend method;
please see the FAQ <https://wiki.debian.org/Teams/Dpkg/FAQ>
+ for VERSION in $VERSIONS
+ rm -f g++-6 gcc-6 cpp-6 gcc
+ ln -s clang++-8 g++-6
+ ln -s clang-8 gcc-6
+ ln -s clang-8 cpp-6
+ ln -s clang-8 gcc
+ echo 'gcc-6 hold'
+ dpkg --set-selections
dpkg: warning: package not in status nor available database at line 1: gcc-6
dpkg: warning: found unknown packages; this might mean the available database
is outdated, and needs to be updated through a frontend method;
please see the FAQ <https://wiki.debian.org/Teams/Dpkg/FAQ>
+ echo 'g++-6 hold'
+ dpkg --set-selections
dpkg: warning: package not in status nor available database at line 1: g++-6
dpkg: warning: found unknown packages; this might mean the available database
is outdated, and needs to be updated through a frontend method;
please see the FAQ <https://wiki.debian.org/Teams/Dpkg/FAQ>
+ for VERSION in $VERSIONS
+ rm -f g++-7 gcc-7 cpp-7 gcc
+ ln -s clang++-8 g++-7
+ ln -s clang-8 gcc-7
+ ln -s clang-8 cpp-7
+ ln -s clang-8 gcc
+ echo 'gcc-7 hold'
+ dpkg --set-selections
dpkg: warning: package not in status nor available database at line 1: gcc-7
dpkg: warning: found unknown packages; this might mean the available database
is outdated, and needs to be updated through a frontend method;
please see the FAQ <https://wiki.debian.org/Teams/Dpkg/FAQ>
+ echo 'g++-7 hold'
+ dpkg --set-selections
dpkg: warning: package not in status nor available database at line 1: g++-7
dpkg: warning: found unknown packages; this might mean the available database
is outdated, and needs to be updated through a frontend method;
please see the FAQ <https://wiki.debian.org/Teams/Dpkg/FAQ>
+ for VERSION in $VERSIONS
+ rm -f g++-8 gcc-8 cpp-8 gcc
+ ln -s clang++-8 g++-8
+ ln -s clang-8 gcc-8
+ ln -s clang-8 cpp-8
+ ln -s clang-8 gcc
+ echo 'gcc-8 hold'
+ dpkg --set-selections
dpkg: warning: package not in status nor available database at line 1: gcc-8
dpkg: warning: found unknown packages; this might mean the available database
is outdated, and needs to be updated through a frontend method;
please see the FAQ <https://wiki.debian.org/Teams/Dpkg/FAQ>
+ echo 'g++-8 hold'
+ dpkg --set-selections
dpkg: warning: package not in status nor available database at line 1: g++-8
dpkg: warning: found unknown packages; this might mean the available database
is outdated, and needs to be updated through a frontend method;
please see the FAQ <https://wiki.debian.org/Teams/Dpkg/FAQ>
+ for VERSION in $VERSIONS
+ rm -f g++-9 gcc-9 cpp-9 gcc
+ ln -s clang++-8 g++-9
+ ln -s clang-8 gcc-9
+ ln -s clang-8 cpp-9
+ ln -s clang-8 gcc
+ echo 'gcc-9 hold'
+ dpkg --set-selections
+ echo 'g++-9 hold'
+ dpkg --set-selections
+ for VERSION in $VERSIONS
+ rm -f g++-10 gcc-10 cpp-10 gcc
+ ln -s clang++-8 g++-10
+ ln -s clang-8 gcc-10
+ ln -s clang-8 cpp-10
+ ln -s clang-8 gcc
+ echo 'gcc-10 hold'
+ dpkg --set-selections
dpkg: warning: package not in status nor available database at line 1: gcc-10
dpkg: warning: found unknown packages; this might mean the available database
is outdated, and needs to be updated through a frontend method;
please see the FAQ <https://wiki.debian.org/Teams/Dpkg/FAQ>
+ echo 'g++-10 hold'
+ dpkg --set-selections
dpkg: warning: package not in status nor available database at line 1: g++-10
dpkg: warning: found unknown packages; this might mean the available database
is outdated, and needs to be updated through a frontend method;
please see the FAQ <https://wiki.debian.org/Teams/Dpkg/FAQ>
+ cd -
/build/mailavenger-JcMLCz
+ echo 'Check if gcc, g++ & cpp are actually clang'
Check if gcc, g++ & cpp are actually clang
+ gcc --version
+ grep clang
+ cpp --version
+ grep clang
+ g++ --version
+ grep clang

I: Finished running '/tmp/clang8'.

Finished processing commands.
--------------------------------------------------------------------------------
I: NOTICE: Log filtering will replace 'build/mailavenger-JcMLCz/resolver-2mudXb' with '<<RESOLVERDIR>>'

+------------------------------------------------------------------------------+
| Update chroot                                                                |
+------------------------------------------------------------------------------+

Hit:1 http://127.0.0.1:12990/debian sid InRelease
Reading package lists...
Reading package lists...
Building dependency tree...
Reading state information...
Calculating upgrade...
The following packages will be upgraded:
  libgmp10
1 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
Need to get 253 kB of archives.
After this operation, 0 B of additional disk space will be used.
Get:1 http://127.0.0.1:12990/debian sid/main amd64 libgmp10 amd64 2:6.2.0+dfsg-4 [253 kB]
debconf: delaying package configuration, since apt-utils is not installed
Fetched 253 kB in 0s (4973 kB/s)
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 13887 files and directories currently installed.)
Preparing to unpack .../libgmp10_2%3a6.2.0+dfsg-4_amd64.deb ...
Unpacking libgmp10:amd64 (2:6.2.0+dfsg-4) over (2:6.2.0+dfsg-3) ...
Setting up libgmp10:amd64 (2:6.2.0+dfsg-4) ...
Processing triggers for libc-bin (2.29-10) ...

+------------------------------------------------------------------------------+
| Fetch source files                                                           |
+------------------------------------------------------------------------------+


Check APT
---------

Checking available source versions...

Download source files with APT
------------------------------

Reading package lists...
NOTICE: 'mailavenger' packaging is maintained in the 'Git' version control system at:
https://salsa.debian.org/debian/mailavenger.git
Please use:
git clone https://salsa.debian.org/debian/mailavenger.git
to retrieve the latest (possibly unreleased) updates to the package.
Need to get 925 kB of source archives.
Get:1 http://127.0.0.1:12990/debian sid/main mailavenger 0.8.5-2 (dsc) [1963 B]
Get:2 http://127.0.0.1:12990/debian sid/main mailavenger 0.8.5-2 (tar) [910 kB]
Get:3 http://127.0.0.1:12990/debian sid/main mailavenger 0.8.5-2 (diff) [12.3 kB]
Fetched 925 kB in 0s (8913 kB/s)
Download complete and in download only mode
I: NOTICE: Log filtering will replace 'build/mailavenger-JcMLCz/mailavenger-0.8.5' with '<<PKGBUILDDIR>>'
I: NOTICE: Log filtering will replace 'build/mailavenger-JcMLCz' with '<<BUILDDIR>>'

+------------------------------------------------------------------------------+
| Install package build dependencies                                           |
+------------------------------------------------------------------------------+


Setup apt archive
-----------------

Merged Build-Depends: debhelper (>= 12), libdb-dev, libpcap0.8-dev | libpcap-dev, libsasl2-dev, libssl-dev, build-essential, fakeroot
Filtered Build-Depends: debhelper (>= 12), libdb-dev, libpcap0.8-dev, libsasl2-dev, libssl-dev, build-essential, fakeroot
dpkg-deb: building package 'sbuild-build-depends-main-dummy' in '/<<RESOLVERDIR>>/apt_archive/sbuild-build-depends-main-dummy.deb'.
Ign:1 copy:/<<RESOLVERDIR>>/apt_archive ./ InRelease
Get:2 copy:/<<RESOLVERDIR>>/apt_archive ./ Release [957 B]
Ign:3 copy:/<<RESOLVERDIR>>/apt_archive ./ Release.gpg
Get:4 copy:/<<RESOLVERDIR>>/apt_archive ./ Sources [396 B]
Get:5 copy:/<<RESOLVERDIR>>/apt_archive ./ Packages [471 B]
Fetched 1824 B in 0s (0 B/s)
Reading package lists...
Reading package lists...

Install main build dependencies (apt-based resolver)
----------------------------------------------------

Installing build dependencies
Reading package lists...
Building dependency tree...
Reading state information...
The following additional packages will be installed:
  autoconf automake autopoint autotools-dev bsdmainutils debhelper
  dh-autoreconf dh-strip-nondeterminism dwz file gettext gettext-base
  groff-base intltool-debian libarchive-zip-perl libcroco3 libdb-dev
  libdb5.3-dev libdebhelper-perl libelf1 libfile-stripnondeterminism-perl
  libglib2.0-0 libicu63 libmagic-mgc libmagic1 libpcap0.8 libpcap0.8-dev
  libpipeline1 libsasl2-2 libsasl2-dev libsasl2-modules-db libsigsegv2
  libssl-dev libssl1.1 libsub-override-perl libtool libuchardet0 libxml2 m4
  man-db po-debconf sensible-utils
Suggested packages:
  autoconf-archive gnu-standards autoconf-doc wamerican | wordlist whois
  vacation dh-make gettext-doc libasprintf-dev libgettextpo-dev groff
  db5.3-doc libssl-doc libtool-doc gfortran | fortran95-compiler gcj-jdk
  m4-doc apparmor less www-browser libmail-box-perl
Recommended packages:
  curl | wget | lynx libarchive-cpio-perl libglib2.0-data shared-mime-info
  xdg-user-dirs libsasl2-modules libltdl-dev libmail-sendmail-perl
The following NEW packages will be installed:
  autoconf automake autopoint autotools-dev bsdmainutils debhelper
  dh-autoreconf dh-strip-nondeterminism dwz file gettext gettext-base
  groff-base intltool-debian libarchive-zip-perl libcroco3 libdb-dev
  libdb5.3-dev libdebhelper-perl libelf1 libfile-stripnondeterminism-perl
  libglib2.0-0 libicu63 libmagic-mgc libmagic1 libpcap0.8 libpcap0.8-dev
  libpipeline1 libsasl2-2 libsasl2-dev libsasl2-modules-db libsigsegv2
  libssl-dev libssl1.1 libsub-override-perl libtool libuchardet0 libxml2 m4
  man-db po-debconf sbuild-build-depends-main-dummy sensible-utils
0 upgraded, 43 newly installed, 0 to remove and 0 not upgraded.
Need to get 24.2 MB of archives.
After this operation, 88.3 MB of additional disk space will be used.
Get:1 copy:/<<RESOLVERDIR>>/apt_archive ./ sbuild-build-depends-main-dummy 0.invalid.0 [896 B]
Get:2 http://127.0.0.1:12990/debian sid/main amd64 bsdmainutils amd64 11.1.2+b1 [191 kB]
Get:3 http://127.0.0.1:12990/debian sid/main amd64 libuchardet0 amd64 0.0.6-3 [64.9 kB]
Get:4 http://127.0.0.1:12990/debian sid/main amd64 groff-base amd64 1.22.4-4 [919 kB]
Get:5 http://127.0.0.1:12990/debian sid/main amd64 libpipeline1 amd64 1.5.2-2 [33.9 kB]
Get:6 http://127.0.0.1:12990/debian sid/main amd64 man-db amd64 2.9.0-2 [1307 kB]
Get:7 http://127.0.0.1:12990/debian sid/main amd64 sensible-utils all 0.0.12+nmu1 [16.0 kB]
Get:8 http://127.0.0.1:12990/debian sid/main amd64 libmagic-mgc amd64 1:5.38-4 [262 kB]
Get:9 http://127.0.0.1:12990/debian sid/main amd64 libmagic1 amd64 1:5.38-4 [120 kB]
Get:10 http://127.0.0.1:12990/debian sid/main amd64 file amd64 1:5.38-4 [67.9 kB]
Get:11 http://127.0.0.1:12990/debian sid/main amd64 gettext-base amd64 0.19.8.1-10 [123 kB]
Get:12 http://127.0.0.1:12990/debian sid/main amd64 libsigsegv2 amd64 2.12-2 [32.8 kB]
Get:13 http://127.0.0.1:12990/debian sid/main amd64 m4 amd64 1.4.18-4 [203 kB]
Get:14 http://127.0.0.1:12990/debian sid/main amd64 autoconf all 2.69-11.1 [341 kB]
Get:15 http://127.0.0.1:12990/debian sid/main amd64 autotools-dev all 20180224.1 [77.0 kB]
Get:16 http://127.0.0.1:12990/debian sid/main amd64 automake all 1:1.16.1-4 [771 kB]
Get:17 http://127.0.0.1:12990/debian sid/main amd64 autopoint all 0.19.8.1-10 [435 kB]
Get:18 http://127.0.0.1:12990/debian sid/main amd64 libtool all 2.4.6-13 [513 kB]
Get:19 http://127.0.0.1:12990/debian sid/main amd64 dh-autoreconf all 19 [16.9 kB]
Get:20 http://127.0.0.1:12990/debian sid/main amd64 libdebhelper-perl all 12.9 [183 kB]
Get:21 http://127.0.0.1:12990/debian sid/main amd64 libarchive-zip-perl all 1.67-1 [104 kB]
Get:22 http://127.0.0.1:12990/debian sid/main amd64 libsub-override-perl all 0.09-2 [10.2 kB]
Get:23 http://127.0.0.1:12990/debian sid/main amd64 libfile-stripnondeterminism-perl all 1.6.3-2 [23.7 kB]
Get:24 http://127.0.0.1:12990/debian sid/main amd64 dh-strip-nondeterminism all 1.6.3-2 [14.7 kB]
Get:25 http://127.0.0.1:12990/debian sid/main amd64 libelf1 amd64 0.176-1.1 [161 kB]
Get:26 http://127.0.0.1:12990/debian sid/main amd64 dwz amd64 0.13-5 [151 kB]
Get:27 http://127.0.0.1:12990/debian sid/main amd64 libglib2.0-0 amd64 2.62.4-2 [1319 kB]
Get:28 http://127.0.0.1:12990/debian sid/main amd64 libicu63 amd64 63.2-2 [8301 kB]
Get:29 http://127.0.0.1:12990/debian sid/main amd64 libxml2 amd64 2.9.10+dfsg-3 [709 kB]
Get:30 http://127.0.0.1:12990/debian sid/main amd64 libcroco3 amd64 0.6.13-1 [146 kB]
Get:31 http://127.0.0.1:12990/debian sid/main amd64 gettext amd64 0.19.8.1-10 [1303 kB]
Get:32 http://127.0.0.1:12990/debian sid/main amd64 intltool-debian all 0.35.0+20060710.5 [26.8 kB]
Get:33 http://127.0.0.1:12990/debian sid/main amd64 po-debconf all 1.0.21 [248 kB]
Get:34 http://127.0.0.1:12990/debian sid/main amd64 debhelper all 12.9 [994 kB]
Get:35 http://127.0.0.1:12990/debian sid/main amd64 libdb5.3-dev amd64 5.3.28+dfsg1-0.6 [761 kB]
Get:36 http://127.0.0.1:12990/debian sid/main amd64 libdb-dev amd64 5.3.1+nmu1 [2500 B]
Get:37 http://127.0.0.1:12990/debian sid/main amd64 libpcap0.8 amd64 1.9.1-2 [151 kB]
Get:38 http://127.0.0.1:12990/debian sid/main amd64 libpcap0.8-dev amd64 1.9.1-2 [268 kB]
Get:39 http://127.0.0.1:12990/debian sid/main amd64 libsasl2-modules-db amd64 2.1.27+dfsg-2 [69.0 kB]
Get:40 http://127.0.0.1:12990/debian sid/main amd64 libsasl2-2 amd64 2.1.27+dfsg-2 [106 kB]
Get:41 http://127.0.0.1:12990/debian sid/main amd64 libsasl2-dev amd64 2.1.27+dfsg-2 [281 kB]
Get:42 http://127.0.0.1:12990/debian sid/main amd64 libssl1.1 amd64 1.1.1d-2 [1540 kB]
Get:43 http://127.0.0.1:12990/debian sid/main amd64 libssl-dev amd64 1.1.1d-2 [1797 kB]
debconf: delaying package configuration, since apt-utils is not installed
Fetched 24.2 MB in 0s (89.4 MB/s)
Selecting previously unselected package bsdmainutils.
(Reading database ... 13887 files and directories currently installed.)
Preparing to unpack .../00-bsdmainutils_11.1.2+b1_amd64.deb ...
Unpacking bsdmainutils (11.1.2+b1) ...
Selecting previously unselected package libuchardet0:amd64.
Preparing to unpack .../01-libuchardet0_0.0.6-3_amd64.deb ...
Unpacking libuchardet0:amd64 (0.0.6-3) ...
Selecting previously unselected package groff-base.
Preparing to unpack .../02-groff-base_1.22.4-4_amd64.deb ...
Unpacking groff-base (1.22.4-4) ...
Selecting previously unselected package libpipeline1:amd64.
Preparing to unpack .../03-libpipeline1_1.5.2-2_amd64.deb ...
Unpacking libpipeline1:amd64 (1.5.2-2) ...
Selecting previously unselected package man-db.
Preparing to unpack .../04-man-db_2.9.0-2_amd64.deb ...
Unpacking man-db (2.9.0-2) ...
Selecting previously unselected package sensible-utils.
Preparing to unpack .../05-sensible-utils_0.0.12+nmu1_all.deb ...
Unpacking sensible-utils (0.0.12+nmu1) ...
Selecting previously unselected package libmagic-mgc.
Preparing to unpack .../06-libmagic-mgc_1%3a5.38-4_amd64.deb ...
Unpacking libmagic-mgc (1:5.38-4) ...
Selecting previously unselected package libmagic1:amd64.
Preparing to unpack .../07-libmagic1_1%3a5.38-4_amd64.deb ...
Unpacking libmagic1:amd64 (1:5.38-4) ...
Selecting previously unselected package file.
Preparing to unpack .../08-file_1%3a5.38-4_amd64.deb ...
Unpacking file (1:5.38-4) ...
Selecting previously unselected package gettext-base.
Preparing to unpack .../09-gettext-base_0.19.8.1-10_amd64.deb ...
Unpacking gettext-base (0.19.8.1-10) ...
Selecting previously unselected package libsigsegv2:amd64.
Preparing to unpack .../10-libsigsegv2_2.12-2_amd64.deb ...
Unpacking libsigsegv2:amd64 (2.12-2) ...
Selecting previously unselected package m4.
Preparing to unpack .../11-m4_1.4.18-4_amd64.deb ...
Unpacking m4 (1.4.18-4) ...
Selecting previously unselected package autoconf.
Preparing to unpack .../12-autoconf_2.69-11.1_all.deb ...
Unpacking autoconf (2.69-11.1) ...
Selecting previously unselected package autotools-dev.
Preparing to unpack .../13-autotools-dev_20180224.1_all.deb ...
Unpacking autotools-dev (20180224.1) ...
Selecting previously unselected package automake.
Preparing to unpack .../14-automake_1%3a1.16.1-4_all.deb ...
Unpacking automake (1:1.16.1-4) ...
Selecting previously unselected package autopoint.
Preparing to unpack .../15-autopoint_0.19.8.1-10_all.deb ...
Unpacking autopoint (0.19.8.1-10) ...
Selecting previously unselected package libtool.
Preparing to unpack .../16-libtool_2.4.6-13_all.deb ...
Unpacking libtool (2.4.6-13) ...
Selecting previously unselected package dh-autoreconf.
Preparing to unpack .../17-dh-autoreconf_19_all.deb ...
Unpacking dh-autoreconf (19) ...
Selecting previously unselected package libdebhelper-perl.
Preparing to unpack .../18-libdebhelper-perl_12.9_all.deb ...
Unpacking libdebhelper-perl (12.9) ...
Selecting previously unselected package libarchive-zip-perl.
Preparing to unpack .../19-libarchive-zip-perl_1.67-1_all.deb ...
Unpacking libarchive-zip-perl (1.67-1) ...
Selecting previously unselected package libsub-override-perl.
Preparing to unpack .../20-libsub-override-perl_0.09-2_all.deb ...
Unpacking libsub-override-perl (0.09-2) ...
Selecting previously unselected package libfile-stripnondeterminism-perl.
Preparing to unpack .../21-libfile-stripnondeterminism-perl_1.6.3-2_all.deb ...
Unpacking libfile-stripnondeterminism-perl (1.6.3-2) ...
Selecting previously unselected package dh-strip-nondeterminism.
Preparing to unpack .../22-dh-strip-nondeterminism_1.6.3-2_all.deb ...
Unpacking dh-strip-nondeterminism (1.6.3-2) ...
Selecting previously unselected package libelf1:amd64.
Preparing to unpack .../23-libelf1_0.176-1.1_amd64.deb ...
Unpacking libelf1:amd64 (0.176-1.1) ...
Selecting previously unselected package dwz.
Preparing to unpack .../24-dwz_0.13-5_amd64.deb ...
Unpacking dwz (0.13-5) ...
Selecting previously unselected package libglib2.0-0:amd64.
Preparing to unpack .../25-libglib2.0-0_2.62.4-2_amd64.deb ...
Unpacking libglib2.0-0:amd64 (2.62.4-2) ...
Selecting previously unselected package libicu63:amd64.
Preparing to unpack .../26-libicu63_63.2-2_amd64.deb ...
Unpacking libicu63:amd64 (63.2-2) ...
Selecting previously unselected package libxml2:amd64.
Preparing to unpack .../27-libxml2_2.9.10+dfsg-3_amd64.deb ...
Unpacking libxml2:amd64 (2.9.10+dfsg-3) ...
Selecting previously unselected package libcroco3:amd64.
Preparing to unpack .../28-libcroco3_0.6.13-1_amd64.deb ...
Unpacking libcroco3:amd64 (0.6.13-1) ...
Selecting previously unselected package gettext.
Preparing to unpack .../29-gettext_0.19.8.1-10_amd64.deb ...
Unpacking gettext (0.19.8.1-10) ...
Selecting previously unselected package intltool-debian.
Preparing to unpack .../30-intltool-debian_0.35.0+20060710.5_all.deb ...
Unpacking intltool-debian (0.35.0+20060710.5) ...
Selecting previously unselected package po-debconf.
Preparing to unpack .../31-po-debconf_1.0.21_all.deb ...
Unpacking po-debconf (1.0.21) ...
Selecting previously unselected package debhelper.
Preparing to unpack .../32-debhelper_12.9_all.deb ...
Unpacking debhelper (12.9) ...
Selecting previously unselected package libdb5.3-dev.
Preparing to unpack .../33-libdb5.3-dev_5.3.28+dfsg1-0.6_amd64.deb ...
Unpacking libdb5.3-dev (5.3.28+dfsg1-0.6) ...
Selecting previously unselected package libdb-dev:amd64.
Preparing to unpack .../34-libdb-dev_5.3.1+nmu1_amd64.deb ...
Unpacking libdb-dev:amd64 (5.3.1+nmu1) ...
Selecting previously unselected package libpcap0.8:amd64.
Preparing to unpack .../35-libpcap0.8_1.9.1-2_amd64.deb ...
Unpacking libpcap0.8:amd64 (1.9.1-2) ...
Selecting previously unselected package libpcap0.8-dev:amd64.
Preparing to unpack .../36-libpcap0.8-dev_1.9.1-2_amd64.deb ...
Unpacking libpcap0.8-dev:amd64 (1.9.1-2) ...
Selecting previously unselected package libsasl2-modules-db:amd64.
Preparing to unpack .../37-libsasl2-modules-db_2.1.27+dfsg-2_amd64.deb ...
Unpacking libsasl2-modules-db:amd64 (2.1.27+dfsg-2) ...
Selecting previously unselected package libsasl2-2:amd64.
Preparing to unpack .../38-libsasl2-2_2.1.27+dfsg-2_amd64.deb ...
Unpacking libsasl2-2:amd64 (2.1.27+dfsg-2) ...
Selecting previously unselected package libsasl2-dev.
Preparing to unpack .../39-libsasl2-dev_2.1.27+dfsg-2_amd64.deb ...
Unpacking libsasl2-dev (2.1.27+dfsg-2) ...
Selecting previously unselected package libssl1.1:amd64.
Preparing to unpack .../40-libssl1.1_1.1.1d-2_amd64.deb ...
Unpacking libssl1.1:amd64 (1.1.1d-2) ...
Selecting previously unselected package libssl-dev:amd64.
Preparing to unpack .../41-libssl-dev_1.1.1d-2_amd64.deb ...
Unpacking libssl-dev:amd64 (1.1.1d-2) ...
Selecting previously unselected package sbuild-build-depends-main-dummy.
Preparing to unpack .../42-sbuild-build-depends-main-dummy_0.invalid.0_amd64.deb ...
Unpacking sbuild-build-depends-main-dummy (0.invalid.0) ...
Setting up libpipeline1:amd64 (1.5.2-2) ...
Setting up libmagic-mgc (1:5.38-4) ...
Setting up libarchive-zip-perl (1.67-1) ...
Setting up libglib2.0-0:amd64 (2.62.4-2) ...
No schema files found: doing nothing.
Setting up libssl1.1:amd64 (1.1.1d-2) ...
Setting up libdebhelper-perl (12.9) ...
Setting up libmagic1:amd64 (1:5.38-4) ...
Setting up gettext-base (0.19.8.1-10) ...
Setting up file (1:5.38-4) ...
Setting up libicu63:amd64 (63.2-2) ...
Setting up libsasl2-modules-db:amd64 (2.1.27+dfsg-2) ...
Setting up autotools-dev (20180224.1) ...
Setting up libpcap0.8:amd64 (1.9.1-2) ...
Setting up libsigsegv2:amd64 (2.12-2) ...
Setting up bsdmainutils (11.1.2+b1) ...
update-alternatives: using /usr/bin/bsd-write to provide /usr/bin/write (write) in auto mode
update-alternatives: using /usr/bin/bsd-from to provide /usr/bin/from (from) in auto mode
Setting up libssl-dev:amd64 (1.1.1d-2) ...
Setting up autopoint (0.19.8.1-10) ...
Setting up libsasl2-2:amd64 (2.1.27+dfsg-2) ...
Setting up sensible-utils (0.0.12+nmu1) ...
Setting up libdb5.3-dev (5.3.28+dfsg1-0.6) ...
Setting up libuchardet0:amd64 (0.0.6-3) ...
Setting up libsub-override-perl (0.09-2) ...
Setting up libelf1:amd64 (0.176-1.1) ...
Setting up libxml2:amd64 (2.9.10+dfsg-3) ...
Setting up libfile-stripnondeterminism-perl (1.6.3-2) ...
Setting up libtool (2.4.6-13) ...
Setting up libpcap0.8-dev:amd64 (1.9.1-2) ...
Setting up m4 (1.4.18-4) ...
Setting up libsasl2-dev (2.1.27+dfsg-2) ...
Setting up libdb-dev:amd64 (5.3.1+nmu1) ...
Setting up libcroco3:amd64 (0.6.13-1) ...
Setting up autoconf (2.69-11.1) ...
Setting up dh-strip-nondeterminism (1.6.3-2) ...
Setting up dwz (0.13-5) ...
Setting up groff-base (1.22.4-4) ...
Setting up automake (1:1.16.1-4) ...
update-alternatives: using /usr/bin/automake-1.16 to provide /usr/bin/automake (automake) in auto mode
Setting up gettext (0.19.8.1-10) ...
Setting up man-db (2.9.0-2) ...
Not building database; man-db/auto-update is not 'true'.
Setting up intltool-debian (0.35.0+20060710.5) ...
Setting up po-debconf (1.0.21) ...
Setting up dh-autoreconf (19) ...
Setting up debhelper (12.9) ...
Setting up sbuild-build-depends-main-dummy (0.invalid.0) ...
Processing triggers for libc-bin (2.29-10) ...

+------------------------------------------------------------------------------+
| Check architectures                                                          |
+------------------------------------------------------------------------------+

Arch check ok (amd64 included in any)

+------------------------------------------------------------------------------+
| Build environment                                                            |
+------------------------------------------------------------------------------+

Kernel: Linux 4.19.0-6-cloud-amd64 #1 SMP Debian 4.19.67-2+deb10u2 (2019-11-11) amd64 (x86_64)
Toolchain package versions: binutils_2.34-3 dpkg-dev_1.19.7 g++-9_9.2.1-29 gcc-9_9.2.1-29 libc6-dev_2.29-10 libstdc++-8-dev_8.3.0-29 libstdc++-9-dev_9.2.1-29 libstdc++6_10-20200222-1 linux-libc-dev_5.4.19-1
Package versions: adduser_3.118 apt_1.8.4 autoconf_2.69-11.1 automake_1:1.16.1-4 autopoint_0.19.8.1-10 autotools-dev_20180224.1 base-files_11 base-passwd_3.5.47 bash_5.0-5 binutils_2.34-3 binutils-common_2.34-3 binutils-x86-64-linux-gnu_2.34-3 bsdmainutils_11.1.2+b1 bsdutils_1:2.34-0.1 build-essential_12.8 bzip2_1.0.8-2 clang-8_1:8.0.1-7 coreutils_8.30-3+b1 cpp_4:9.2.1-3.1 cpp-9_9.2.1-29 dash_0.5.10.2-6 debconf_1.5.73 debhelper_12.9 debian-archive-keyring_2019.1 debianutils_4.9.1 dh-autoreconf_19 dh-strip-nondeterminism_1.6.3-2 diffutils_1:3.7-3 dpkg_1.19.7 dpkg-dev_1.19.7 dwz_0.13-5 e2fsprogs_1.45.5-2 fakeroot_1.24-1 fdisk_2.34-0.1 file_1:5.38-4 findutils_4.7.0-1 g++_4:9.2.1-3.1 g++-9_9.2.1-29 gcc_4:9.2.1-3.1 gcc-10-base_10-20200222-1 gcc-8-base_8.3.0-29 gcc-9_9.2.1-29 gcc-9-base_9.2.1-29 gettext_0.19.8.1-10 gettext-base_0.19.8.1-10 gpgv_2.2.19-1 grep_3.4-1 groff-base_1.22.4-4 gzip_1.9-3+b1 hostname_3.23 init-system-helpers_1.57 intltool-debian_0.35.0+20060710.5 lib32gcc-s1_10-20200222-1 lib32gcc1_1:10-20200222-1 lib32stdc++6_10-20200222-1 libacl1_2.2.53-5 libapt-pkg5.0_1.8.4 libarchive-zip-perl_1.67-1 libasan5_9.2.1-29 libatomic1_10-20200222-1 libattr1_1:2.4.48-5 libaudit-common_1:2.8.5-2 libaudit1_1:2.8.5-2+b1 libbinutils_2.34-3 libblkid1_2.34-0.1 libbsd0_0.10.0-1 libbz2-1.0_1.0.8-2 libc-bin_2.29-10 libc-dev-bin_2.29-10 libc6_2.29-10 libc6-dev_2.29-10 libc6-i386_2.29-10 libcap-ng0_0.7.9-2.1+b1 libcc1-0_10-20200222-1 libclang-common-8-dev_1:8.0.1-7 libclang1-8_1:8.0.1-7 libcom-err2_1.45.5-2 libcroco3_0.6.13-1 libcrypt-dev_1:4.4.10-10 libcrypt1_1:4.4.10-10 libctf-nobfd0_2.34-3 libctf0_2.34-3 libdb-dev_5.3.1+nmu1 libdb5.3_5.3.28+dfsg1-0.6 libdb5.3-dev_5.3.28+dfsg1-0.6 libdebconfclient0_0.251 libdebhelper-perl_12.9 libdpkg-perl_1.19.7 libedit2_3.1-20191231-1 libelf1_0.176-1.1 libext2fs2_1.45.5-2 libfakeroot_1.24-1 libfdisk1_2.34-0.1 libffi7_3.3-3 libfile-stripnondeterminism-perl_1.6.3-2 libgc1c2_1:7.6.4-0.4 libgcc-8-dev_8.3.0-29 libgcc-9-dev_9.2.1-29 libgcc-s1_10-20200222-1 libgcc1_1:10-20200222-1 libgcrypt20_1.8.5-5 libgdbm-compat4_1.18.1-5 libgdbm6_1.18.1-5 libglib2.0-0_2.62.4-2 libgmp10_2:6.2.0+dfsg-4 libgnutls30_3.6.12-2 libgomp1_10-20200222-1 libgpg-error0_1.37-1 libhogweed5_3.5.1+really3.5.1-2 libicu63_63.2-2 libidn2-0_2.2.0-2 libisl22_0.22.1-1 libitm1_10-20200222-1 libllvm8_1:8.0.1-7 liblsan0_10-20200222-1 liblz4-1_1.9.2-2 liblzma5_5.2.4-1+b1 libmagic-mgc_1:5.38-4 libmagic1_1:5.38-4 libmount1_2.34-0.1 libmpc3_1.1.0-1 libmpfr6_4.0.2-1 libmpx2_8.3.0-29 libncursesw6_6.1+20191019-1 libnettle7_3.5.1+really3.5.1-2 libobjc-8-dev_8.3.0-29 libobjc-9-dev_9.2.1-29 libobjc4_10-20200222-1 libomp-8-dev_1:8.0.1-7 libomp5-8_1:8.0.1-7 libp11-kit0_0.23.20-1 libpam-modules_1.3.1-5 libpam-modules-bin_1.3.1-5 libpam-runtime_1.3.1-5 libpam0g_1.3.1-5 libpcap0.8_1.9.1-2 libpcap0.8-dev_1.9.1-2 libpcre2-8-0_10.34-7 libpcre3_2:8.39-12+b1 libperl5.30_5.30.0-9 libpipeline1_1.5.2-2 libquadmath0_10-20200222-1 libsasl2-2_2.1.27+dfsg-2 libsasl2-dev_2.1.27+dfsg-2 libsasl2-modules-db_2.1.27+dfsg-2 libseccomp2_2.4.2-2 libselinux1_3.0-1+b1 libsemanage-common_3.0-1 libsemanage1_3.0-1+b1 libsepol1_3.0-1 libsigsegv2_2.12-2 libsmartcols1_2.34-0.1 libss2_1.45.5-2 libssl-dev_1.1.1d-2 libssl1.1_1.1.1d-2 libstdc++-8-dev_8.3.0-29 libstdc++-9-dev_9.2.1-29 libstdc++6_10-20200222-1 libsub-override-perl_0.09-2 libsystemd0_244.3-1 libtasn1-6_4.16.0-2 libtinfo6_6.1+20191019-1 libtool_2.4.6-13 libtsan0_10-20200222-1 libubsan1_10-20200222-1 libuchardet0_0.0.6-3 libudev1_244.3-1 libunistring2_0.9.10-2 libuuid1_2.34-0.1 libxml2_2.9.10+dfsg-3 libzstd1_1.4.4+dfsg-3 linux-libc-dev_5.4.19-1 login_1:4.8.1-1 logsave_1.45.5-2 lsb-base_11.1.0 m4_1.4.18-4 make_4.2.1-1.2 man-db_2.9.0-2 mawk_1.3.4.20200120-2 mount_2.34-0.1 ncurses-base_6.1+20191019-1 ncurses-bin_6.1+20191019-1 passwd_1:4.8.1-1 patch_2.7.6-6 perl_5.30.0-9 perl-base_5.30.0-9 perl-modules-5.30_5.30.0-9 po-debconf_1.0.21 sbuild-build-depends-main-dummy_0.invalid.0 sed_4.7-1 sensible-utils_0.0.12+nmu1 sysvinit-utils_2.96-2.1 tar_1.30+dfsg-6+b1 tzdata_2019c-3 util-linux_2.34-0.1 xz-utils_5.2.4-1+b1 zlib1g_1:1.2.11.dfsg-1.2

+------------------------------------------------------------------------------+
| Build                                                                        |
+------------------------------------------------------------------------------+


Unpack source
-------------

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 3.0 (quilt)
Source: mailavenger
Binary: mailavenger
Architecture: any
Version: 0.8.5-2
Maintainer: Ulises Vitulli <dererk@debian.org>
Homepage: http://www.mailavenger.org/
Standards-Version: 4.4.0.1
Vcs-Browser: https://salsa.debian.org/debian/mailavenger
Vcs-Git: https://salsa.debian.org/debian/mailavenger.git
Testsuite: autopkgtest
Testsuite-Triggers: swaks
Build-Depends: debhelper (>= 12), libdb-dev, libpcap0.8-dev | libpcap-dev, libsasl2-dev, libssl-dev
Package-List:
 mailavenger deb mail optional arch=any
Checksums-Sha1:
 17586dab7defe0103ade330ee3c242b2c501468d 910358 mailavenger_0.8.5.orig.tar.gz
 1434d8f989bcc85cb1b3b1fd1d81c5c3df3b1f21 12316 mailavenger_0.8.5-2.debian.tar.xz
Checksums-Sha256:
 b0fc3e2e03ed010e95e561367fce7b087968df7ea6056251eba95cad14d26d37 910358 mailavenger_0.8.5.orig.tar.gz
 7ecb183ab22e5e7fe77f20ee0dc4ae826755d167b0bd827b41e19d0094cb7eaf 12316 mailavenger_0.8.5-2.debian.tar.xz
Files:
 2750b1af5e2adf41d8a61ac9dcecd2aa 910358 mailavenger_0.8.5.orig.tar.gz
 920a15350672ae91559bf14f35f70ee5 12316 mailavenger_0.8.5-2.debian.tar.xz

-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEvQqKQ/VtTywBCMYlg8MHkAqShqAFAl00P/8ACgkQg8MHkAqS
hqCR7w/+MdacOsUUW4S+Sa9NursUwXxQH67jb1hJSaHNBfJ79RVVMCKydwk5TT2W
dTaRR+NkCHtxLtSy3tv1yYBpncfyCmcNsuGe6BQy1gofIXW5pxOBrOtyjDnHOoT/
XaS28YZKIws2QnSyuzE9bxDKIvqXC5YNnQXSGIrW3uMkH/djdSTNDnon8jEzmQGI
bZwNcLwOalQ+ApLN2ds5btbXUky2/uRnXBblG4uKoUhJ4S0XoLckkn3BGJgWp+54
eT9wYE9pBbOIxAnp26i+69KCOop6C/EgICwFy4eHjKSLzaZLjzf16oa5Lc5eiYQs
1h2yW26q5x0Ew2ZL+W9mD2fPfoS6ZfOtJJ/Moe/cxVOB7klXUMx6Svehpw8TwWRy
H4w1drKWiD2Iv1Lnpoli4aJ6gwLMfQKwfN4O20iMFPwrk5vAoF2JFdMpSxPyl4JM
2sn7Rvg8/FIfjdq6IFUZTrdcPDGTkh+eCP5c/EqSLA47zi44j5caZBkDUDse2yHP
2seZFssMuubhtNeYk2RDzgtiwAcMP0oELba1nfJWrxxqmmLcPYnLzynoFCfBwroI
z3iec50Bw5nHrL1sOjTrR82+KrrsA52MHmkJhyPgPJEALDEiRoV/Vdg7Ylc0RCTa
ytrUGUTFqZpcq1WpCzMECQLHaCjOTZju+wf+pb3cb/c5mKKy3Tg=
=u32f
-----END PGP SIGNATURE-----

gpgv: unknown type of key resource 'trustedkeys.kbx'
gpgv: keyblock resource '/sbuild-nonexistent/.gnupg/trustedkeys.kbx': General error
gpgv: Signature made Sun Jul 21 10:35:43 2019 UTC
gpgv:                using RSA key BD0A8A43F56D4F2C0108C62583C307900A9286A0
gpgv: Can't check signature: No public key
dpkg-source: warning: failed to verify signature on ./mailavenger_0.8.5-2.dsc
dpkg-source: info: extracting mailavenger in /<<PKGBUILDDIR>>
dpkg-source: info: unpacking mailavenger_0.8.5.orig.tar.gz
dpkg-source: info: unpacking mailavenger_0.8.5-2.debian.tar.xz
dpkg-source: info: using patch list from debian/patches/series
dpkg-source: info: applying fix_manpage_typos.patch

Check disk space
----------------

Sufficient free space for build

User Environment
----------------

APT_CONFIG=/var/lib/sbuild/apt.conf
HOME=/sbuild-nonexistent
LANG=C.UTF-8
LC_ALL=C.UTF-8
LOGNAME=user42
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games
SCHROOT_ALIAS_NAME=unstable
SCHROOT_CHROOT_NAME=sid-amd64-sbuild
SCHROOT_COMMAND=env
SCHROOT_GID=1001
SCHROOT_GROUP=user42
SCHROOT_SESSION_ID=sid-amd64-sbuild-3be188f2-d1b2-4fe1-92fb-b55f60f358e9
SCHROOT_UID=1001
SCHROOT_USER=user42
SHELL=/bin/sh
USER=user42

dpkg-buildpackage
-----------------

Command: dpkg-buildpackage -us -uc -b -rfakeroot
dpkg-buildpackage: info: source package mailavenger
dpkg-buildpackage: info: source version 0.8.5-2
dpkg-buildpackage: info: source distribution unstable
dpkg-buildpackage: info: source changed by Ulises Vitulli <dererk@debian.org>
 dpkg-source --before-build .
dpkg-buildpackage: info: host architecture amd64
 fakeroot debian/rules clean
dh_testdir
dh_testroot
rm -f build-stamp
[ ! -f Makefile ] || /usr/bin/make distclean
rm -f config.log
dh_autoreconf_clean
dh_clean
 debian/rules build
dh_testdir
# Add here commands to configure the package.
cp -f /usr/share/misc/config.sub config.sub
cp -f /usr/share/misc/config.guess config.guess
dh_autoreconf
aclocal: warning: autoconf input should be named 'configure.ac', not 'configure.in'
configure.in:52: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body
../../lib/autoconf/lang.m4:193: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2601: _AC_COMPILE_IFELSE is expanded from...
../../lib/autoconf/general.m4:2617: AC_COMPILE_IFELSE is expanded from...
acinclude.m4:480: SFS_CHECK_U_INT64 is expanded from...
configure.in:52: the top level
configure.in:96: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body
../../lib/autoconf/lang.m4:193: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2672: _AC_LINK_IFELSE is expanded from...
../../lib/autoconf/general.m4:2689: AC_LINK_IFELSE is expanded from...
../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
../../lib/autoconf/general.m4:2042: AC_CACHE_VAL is expanded from...
../../lib/autoconf/general.m4:2063: AC_CACHE_CHECK is expanded from...
acinclude.m4:194: SFS_TRY_RESOLV_LIB is expanded from...
acinclude.m4:235: SFS_FIND_RESOLV is expanded from...
configure.in:96: the top level
configure.in:244: warning: AC_CONFIG_SUBDIRS: you should use literals
../../lib/autoconf/status.m4:1097: AC_CONFIG_SUBDIRS is expanded from...
acinclude.m4:1258: SFS_SLEEPYCAT is expanded from...
configure.in:244: the top level
configure.in:52: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body
../../lib/autoconf/lang.m4:193: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2601: _AC_COMPILE_IFELSE is expanded from...
../../lib/autoconf/general.m4:2617: AC_COMPILE_IFELSE is expanded from...
acinclude.m4:480: SFS_CHECK_U_INT64 is expanded from...
configure.in:52: the top level
configure.in:96: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body
../../lib/autoconf/lang.m4:193: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2672: _AC_LINK_IFELSE is expanded from...
../../lib/autoconf/general.m4:2689: AC_LINK_IFELSE is expanded from...
../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
../../lib/autoconf/general.m4:2042: AC_CACHE_VAL is expanded from...
../../lib/autoconf/general.m4:2063: AC_CACHE_CHECK is expanded from...
acinclude.m4:194: SFS_TRY_RESOLV_LIB is expanded from...
acinclude.m4:235: SFS_FIND_RESOLV is expanded from...
configure.in:96: the top level
configure.in:244: warning: AC_CONFIG_SUBDIRS: you should use literals
../../lib/autoconf/status.m4:1097: AC_CONFIG_SUBDIRS is expanded from...
acinclude.m4:1258: SFS_SLEEPYCAT is expanded from...
configure.in:244: the top level
libtoolize: putting auxiliary files in '.'.
libtoolize: copying file './ltmain.sh'
libtoolize: Consider adding 'AC_CONFIG_MACRO_DIRS([m4])' to configure.in,
libtoolize: and rerunning libtoolize and aclocal.
libtoolize: Consider adding '-I m4' to ACLOCAL_AMFLAGS in Makefile.am.
aclocal: warning: autoconf input should be named 'configure.ac', not 'configure.in'
configure.in:52: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body
../../lib/autoconf/lang.m4:193: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2601: _AC_COMPILE_IFELSE is expanded from...
../../lib/autoconf/general.m4:2617: AC_COMPILE_IFELSE is expanded from...
acinclude.m4:480: SFS_CHECK_U_INT64 is expanded from...
configure.in:52: the top level
configure.in:96: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body
../../lib/autoconf/lang.m4:193: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2672: _AC_LINK_IFELSE is expanded from...
../../lib/autoconf/general.m4:2689: AC_LINK_IFELSE is expanded from...
../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
../../lib/autoconf/general.m4:2042: AC_CACHE_VAL is expanded from...
../../lib/autoconf/general.m4:2063: AC_CACHE_CHECK is expanded from...
acinclude.m4:194: SFS_TRY_RESOLV_LIB is expanded from...
acinclude.m4:235: SFS_FIND_RESOLV is expanded from...
configure.in:96: the top level
configure.in:244: warning: AC_CONFIG_SUBDIRS: you should use literals
../../lib/autoconf/status.m4:1097: AC_CONFIG_SUBDIRS is expanded from...
acinclude.m4:1258: SFS_SLEEPYCAT is expanded from...
configure.in:244: the top level
configure.in:52: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body
../../lib/autoconf/lang.m4:193: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2601: _AC_COMPILE_IFELSE is expanded from...
../../lib/autoconf/general.m4:2617: AC_COMPILE_IFELSE is expanded from...
acinclude.m4:480: SFS_CHECK_U_INT64 is expanded from...
configure.in:52: the top level
configure.in:96: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body
../../lib/autoconf/lang.m4:193: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2672: _AC_LINK_IFELSE is expanded from...
../../lib/autoconf/general.m4:2689: AC_LINK_IFELSE is expanded from...
../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
../../lib/autoconf/general.m4:2042: AC_CACHE_VAL is expanded from...
../../lib/autoconf/general.m4:2063: AC_CACHE_CHECK is expanded from...
acinclude.m4:194: SFS_TRY_RESOLV_LIB is expanded from...
acinclude.m4:235: SFS_FIND_RESOLV is expanded from...
configure.in:96: the top level
configure.in:244: warning: AC_CONFIG_SUBDIRS: you should use literals
../../lib/autoconf/status.m4:1097: AC_CONFIG_SUBDIRS is expanded from...
acinclude.m4:1258: SFS_SLEEPYCAT is expanded from...
configure.in:244: the top level
configure.in:52: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body
../../lib/autoconf/lang.m4:193: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2601: _AC_COMPILE_IFELSE is expanded from...
../../lib/autoconf/general.m4:2617: AC_COMPILE_IFELSE is expanded from...
acinclude.m4:480: SFS_CHECK_U_INT64 is expanded from...
configure.in:52: the top level
configure.in:96: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body
../../lib/autoconf/lang.m4:193: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2672: _AC_LINK_IFELSE is expanded from...
../../lib/autoconf/general.m4:2689: AC_LINK_IFELSE is expanded from...
../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
../../lib/autoconf/general.m4:2042: AC_CACHE_VAL is expanded from...
../../lib/autoconf/general.m4:2063: AC_CACHE_CHECK is expanded from...
acinclude.m4:194: SFS_TRY_RESOLV_LIB is expanded from...
acinclude.m4:235: SFS_FIND_RESOLV is expanded from...
configure.in:96: the top level
configure.in:244: warning: AC_CONFIG_SUBDIRS: you should use literals
../../lib/autoconf/status.m4:1097: AC_CONFIG_SUBDIRS is expanded from...
acinclude.m4:1258: SFS_SLEEPYCAT is expanded from...
configure.in:244: the top level
automake: warning: autoconf input should be named 'configure.ac', not 'configure.in'
configure.in:52: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body
../../lib/autoconf/lang.m4:193: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2601: _AC_COMPILE_IFELSE is expanded from...
../../lib/autoconf/general.m4:2617: AC_COMPILE_IFELSE is expanded from...
acinclude.m4:480: SFS_CHECK_U_INT64 is expanded from...
configure.in:52: the top level
configure.in:96: warning: AC_LANG_CONFTEST: no AC_LANG_SOURCE call detected in body
../../lib/autoconf/lang.m4:193: AC_LANG_CONFTEST is expanded from...
../../lib/autoconf/general.m4:2672: _AC_LINK_IFELSE is expanded from...
../../lib/autoconf/general.m4:2689: AC_LINK_IFELSE is expanded from...
../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...
../../lib/autoconf/general.m4:2042: AC_CACHE_VAL is expanded from...
../../lib/autoconf/general.m4:2063: AC_CACHE_CHECK is expanded from...
acinclude.m4:194: SFS_TRY_RESOLV_LIB is expanded from...
acinclude.m4:235: SFS_FIND_RESOLV is expanded from...
configure.in:96: the top level
configure.in:244: warning: AC_CONFIG_SUBDIRS: you should use literals
../../lib/autoconf/status.m4:1097: AC_CONFIG_SUBDIRS is expanded from...
acinclude.m4:1258: SFS_SLEEPYCAT is expanded from...
configure.in:244: the top level
configure.in:7: warning: AM_INIT_AUTOMAKE: two- and three-arguments forms are deprecated.  For more info, see:
configure.in:7: https://www.gnu.org/software/automake/manual/automake.html#Modernize-AM_005fINIT_005fAUTOMAKE-invocation
configure.in:17: installing './compile'
configure.in:7: installing './missing'
automake: warning: autoconf input should be named 'configure.ac', not 'configure.in'
asmtpd/Makefile.am: installing './depcomp'
./configure --enable-sasl --build=x86_64-linux-gnu \
	--host=x86_64-linux-gnu --prefix=/usr \
	--mandir=\${prefix}/share/man --infodir=\${prefix}/share/info \
	--libexecdir=\${prefix}/lib/mailavenger \
	--docdir=\${prefix}/share/doc/mailavenger \
	--datadir=\${prefix}/share/doc/mailavenger \
	--htmldir=\${prefix}/share/doc/mailavenger \
	CFLAGS="-g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context" \
	LDFLAGS="-Wl,-z,relro -Wl,-z,now"
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /bin/mkdir -p
checking for gawk... no
checking for mawk... mawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking build system type... x86_64-pc-linux-gnu
checking host system type... x86_64-pc-linux-gnu
checking for x86_64-linux-gnu-gcc... x86_64-linux-gnu-gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether x86_64-linux-gnu-gcc accepts -g... yes
checking for x86_64-linux-gnu-gcc option to accept ISO C89... none needed
checking whether x86_64-linux-gnu-gcc understands -c and -o together... yes
checking whether make supports the include directive... yes (GNU style)
checking dependency style of x86_64-linux-gnu-gcc... gcc3
checking how to run the C preprocessor... x86_64-linux-gnu-gcc -E
checking for x86_64-linux-gnu-g++... x86_64-linux-gnu-g++
checking whether we are using the GNU C++ compiler... yes
checking whether x86_64-linux-gnu-g++ accepts -g... yes
checking dependency style of x86_64-linux-gnu-g++... gcc3
checking whether ln -s works... yes
checking how to print strings... printf
checking for a sed that does not truncate output... /bin/sed
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for fgrep... /bin/grep -F
checking for ld used by x86_64-linux-gnu-gcc... /usr/bin/x86_64-linux-gnu-ld
checking if the linker (/usr/bin/x86_64-linux-gnu-ld) is GNU ld... yes
checking for BSD- or MS-compatible name lister (nm)... /usr/bin/x86_64-linux-gnu-nm -B
checking the name lister (/usr/bin/x86_64-linux-gnu-nm -B) interface... BSD nm
checking the maximum length of command line arguments... 1572864
checking how to convert x86_64-pc-linux-gnu file names to x86_64-pc-linux-gnu format... func_convert_file_noop
checking how to convert x86_64-pc-linux-gnu file names to toolchain format... func_convert_file_noop
checking for /usr/bin/x86_64-linux-gnu-ld option to reload object files... -r
checking for x86_64-linux-gnu-objdump... x86_64-linux-gnu-objdump
checking how to recognize dependent libraries... pass_all
checking for x86_64-linux-gnu-dlltool... no
checking for dlltool... no
checking how to associate runtime and link libraries... printf %s\n
checking for x86_64-linux-gnu-ar... x86_64-linux-gnu-ar
checking for archiver @FILE support... @
checking for x86_64-linux-gnu-strip... x86_64-linux-gnu-strip
checking for x86_64-linux-gnu-ranlib... x86_64-linux-gnu-ranlib
checking command to parse /usr/bin/x86_64-linux-gnu-nm -B output from x86_64-linux-gnu-gcc object... ok
checking for sysroot... no
checking for a working dd... /bin/dd
checking how to truncate binary pipes... /bin/dd bs=4096 count=1
checking for x86_64-linux-gnu-mt... no
checking for mt... no
checking if : is a manifest tool... no
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking for dlfcn.h... yes
checking for objdir... .libs
checking if x86_64-linux-gnu-gcc supports -fno-rtti -fno-exceptions... yes
checking for x86_64-linux-gnu-gcc option to produce PIC... -fPIC -DPIC
checking if x86_64-linux-gnu-gcc PIC flag -fPIC -DPIC works... yes
checking if x86_64-linux-gnu-gcc static flag -static works... yes
checking if x86_64-linux-gnu-gcc supports -c -o file.o... yes
checking if x86_64-linux-gnu-gcc supports -c -o file.o... (cached) yes
checking whether the x86_64-linux-gnu-gcc linker (/usr/bin/x86_64-linux-gnu-ld -m elf_x86_64) supports shared libraries... yes
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... no
checking whether to build static libraries... yes
checking how to run the C++ preprocessor... x86_64-linux-gnu-g++ -E
checking for ld used by x86_64-linux-gnu-g++... /usr/bin/x86_64-linux-gnu-ld -m elf_x86_64
checking if the linker (/usr/bin/x86_64-linux-gnu-ld -m elf_x86_64) is GNU ld... yes
checking whether the x86_64-linux-gnu-g++ linker (/usr/bin/x86_64-linux-gnu-ld -m elf_x86_64) supports shared libraries... yes
checking for x86_64-linux-gnu-g++ option to produce PIC... -fPIC -DPIC
checking if x86_64-linux-gnu-g++ PIC flag -fPIC -DPIC works... yes
checking if x86_64-linux-gnu-g++ static flag -static works... yes
checking if x86_64-linux-gnu-g++ supports -c -o file.o... yes
checking if x86_64-linux-gnu-g++ supports -c -o file.o... (cached) yes
checking whether the x86_64-linux-gnu-g++ linker (/usr/bin/x86_64-linux-gnu-ld -m elf_x86_64) supports shared libraries... yes
checking dynamic linker characteristics... (cached) GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking for library containing clock_gettime... none required
checking for logger... /usr/bin/logger
checking for mail.local... no
checking for kernel random number generator... /dev/urandom
checking for perl5... no
checking for perl... /usr/bin/perl
checking for pod2man... /usr/bin/pod2man
checking for Pod::Man... yes
checking for ANSI C header files... (cached) yes
checking for sys/wait.h that is POSIX.1 compatible... yes
checking sys/rusage.h usability... no
checking sys/rusage.h presence... no
checking for sys/rusage.h... no
checking sys/sockio.h usability... no
checking sys/sockio.h presence... no
checking for sys/sockio.h... no
checking sys/filio.h usability... no
checking sys/filio.h presence... no
checking for sys/filio.h... no
checking sys/file.h usability... yes
checking sys/file.h presence... yes
checking for sys/file.h... yes
checking rpc/rpc.h usability... yes
checking rpc/rpc.h presence... yes
checking for rpc/rpc.h... yes
checking for an ANSI C-conforming const... yes
checking for inline... inline
checking whether struct tm is in sys/time.h or time.h... time.h
checking for off_t... yes
checking for uid_t in sys/types.h... yes
checking for size_t... yes
checking whether byte ordering is bigendian... no
checking sys/time.h usability... yes
checking sys/time.h presence... yes
checking for sys/time.h... yes
checking whether time.h and sys/time.h may both be included... yes
checking for clock_gettime... yes
checking for a declaration of clock_gettime... yes
checking for struct timespec... yes
checking size of long... 8
checking size of long long... 8
checking for u_int64_t... yes
checking whether u_int64_t is an unsigned long long... no
checking for ssize_t... yes
checking for int32_t... yes
checking for u_int32_t... yes
checking for u_int16_t... yes
checking for u_int8_t... yes
checking for mode_t... yes
checking for u_char... yes
checking for u_int... yes
checking for u_long... yes
checking for int64_t... yes
checking for u_int64_t... (cached) yes
checking for socklen_t... yes
checking for rlim_t... yes
checking for 64-bit off_t... yes
checking for setgroups declaration in grp.h... yes
checking for a declaration of getrusage... yes
checking for a declaration of bindresvport... yes
checking for strchr... yes
checking for memcpy... yes
checking for strcasecmp... yes
checking for getdtablesize... yes
checking for strerror... yes
checking for inet_aton... yes
checking for bindresvport... yes
checking for issetugid... no
checking for geteuid... yes
checking for getegid... yes
checking for arc4random... no
checking for flock... yes
checking for unsetenv... yes
checking for getpeereid... no
checking for memory.h... (cached) yes
checking for wide select... no
checking if putenv() copies its argument... no
checking for sa_len in struct sockaddr... no
checking for fd passing with msg_accrights in msghdr... no
checking for fd passing with struct cmsghdr... yes
checking whether socket buffers > 64k are allowed... yes
checking arpa/nameser_compat.h usability... yes
checking arpa/nameser_compat.h presence... yes
checking for arpa/nameser_compat.h... yes
checking for resolver functions in standard C library... no
checking for resolver functions in libresolv... yes
checking for a declaration of res_init... yes
checking for a declaration of res_mkquery... yes
checking for a declaration of dn_skipname... yes
checking for a declaration of dn_expand... yes
checking for struct sockaddr_storage... yes
checking for __ss_len in sockaddr_storage... no
checking for __res_ninit... yes
checking for st_atimespec in stat structure... no
checking for st_mtimespec in stat structure... no
checking for st_mtim in stat structure... yes
checking for mkdtemp... yes
checking for a declaration of sys_signame... no
checking type of array argument to getgroups... gid_t
checking if egid is first element of grouplist... no
checking for getspnam... yes
checking for setlogin... no
checking for initgroups... yes
checking for seteuid... yes
checking for pw_expire in struct passwd... no
checking for pw_class in struct passwd... no
checking for getgrouplist... yes
checking whether getgrouplist uses int or gid_t... gid_t
checking for setusercontext... no
checking for util in -lsetusercontext... no
checking for a declaration of pread... yes
checking for a declaration of pwrite... yes
checking pcap.h usability... yes
checking pcap.h presence... yes
checking for pcap.h... yes
checking for bpf_u_int32... yes
checking for pcap_freecode... yes
checking for OpenSSL... /usr
checking for library containing dbm_open... no
checking for BerkeleyDB library... -L/usr/lib/x86_64-linux-gnu -ldb-5.3
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating Makefile
config.status: creating libasync/Makefile
config.status: creating asmtpd/Makefile
config.status: creating util/Makefile
config.status: creating local/Makefile
config.status: creating doc/Makefile
config.status: creating etc/Makefile
config.status: creating etc/avenger.service
config.status: creating config.h
config.status: executing depfiles commands
config.status: executing libtool commands
dh_testdir
# Add here commands to compile the package.
/usr/bin/make
make[1]: Entering directory '/<<PKGBUILDDIR>>'
/usr/bin/make  all-recursive
make[2]: Entering directory '/<<PKGBUILDDIR>>'
Making all in libasync
make[3]: Entering directory '/<<PKGBUILDDIR>>/libasync'
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT dftables.o -MD -MP -MF .deps/dftables.Tpo -c -o dftables.o dftables.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/dftables.Tpo .deps/dftables.Po
/bin/bash ../libtool  --tag=CC   --mode=link x86_64-linux-gnu-gcc  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall   -Wl,-z,relro -Wl,-z,now -o dftables dftables.o  -lresolv
libtool: link: x86_64-linux-gnu-gcc -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall -Wl,-z -Wl,relro -Wl,-z -Wl,now -o dftables dftables.o  -lresolv
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT arandom.o -MD -MP -MF .deps/arandom.Tpo -c -o arandom.o arandom.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/arandom.Tpo .deps/arandom.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT clock_gettime.o -MD -MP -MF .deps/clock_gettime.Tpo -c -o clock_gettime.o clock_gettime.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/clock_gettime.Tpo .deps/clock_gettime.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT getopt_long.o -MD -MP -MF .deps/getopt_long.Tpo -c -o getopt_long.o getopt_long.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/getopt_long.Tpo .deps/getopt_long.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT maketables.o -MD -MP -MF .deps/maketables.Tpo -c -o maketables.o maketables.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/maketables.Tpo .deps/maketables.Po
./dftables chartables.c
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT pcre.o -MD -MP -MF .deps/pcre.Tpo -c -o pcre.o pcre.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
pcre.c:1338:6: warning: explicitly assigning value of variable of type 'BOOL' (aka 'int') to itself [-Wself-assign]
utf8 = utf8;               /* Stop pedantic compilers complaining */
~~~~ ^ ~~~~
pcre.c:1411:6: warning: explicitly assigning value of variable of type 'BOOL' (aka 'int') to itself [-Wself-assign]
utf8 = utf8;               /* Stop pedantic compilers complaining */
~~~~ ^ ~~~~
pcre.c:2891:35: warning: use of logical '&&' with constant operand [-Wconstant-logical-operand]
        else if ((digitab[ptr[1]] && ctype_digit) != 0)
                                  ^  ~~~~~~~~~~~
pcre.c:2891:35: note: use '&' for a bitwise operation
        else if ((digitab[ptr[1]] && ctype_digit) != 0)
                                  ^~
                                  &
pcre.c:2891:35: note: remove constant to silence this warning
        else if ((digitab[ptr[1]] && ctype_digit) != 0)
                                 ~^~~~~~~~~~~~~~
4 warnings generated.
mv -f .deps/pcre.Tpo .deps/pcre.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT rwfd.o -MD -MP -MF .deps/rwfd.Tpo -c -o rwfd.o rwfd.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/rwfd.Tpo .deps/rwfd.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -w -c ./stktrace.c
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT study.o -MD -MP -MF .deps/study.Tpo -c -o study.o study.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/study.Tpo .deps/study.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT suidprotect.o -MD -MP -MF .deps/suidprotect.Tpo -c -o suidprotect.o suidprotect.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/suidprotect.Tpo .deps/suidprotect.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT aerr.o -MD -MP -MF .deps/aerr.Tpo -c -o aerr.o aerr.C
In file included from aerr.C:25:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from aerr.C:25:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from aerr.C:25:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from aerr.C:25:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from aerr.C:25:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from aerr.C:25:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from aerr.C:25:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from aerr.C:25:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from aerr.C:25:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from aerr.C:25:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from aerr.C:25:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from aerr.C:25:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from aerr.C:25:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from aerr.C:25:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from aerr.C:25:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
21 warnings generated.
mv -f .deps/aerr.Tpo .deps/aerr.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT aios.o -MD -MP -MF .deps/aios.Tpo -c -o aios.o aios.C
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from aios.C:26:
In file included from ./aios.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./aios.h:40:11: note: in instantiation of template class 'callback<void, str, int, void>' requested here
  typedef callback<void, str, int>::ptr rcb_t;
          ^
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./aios.h:41:11: note: in instantiation of template class 'callback<void, int, void, void>' requested here
  typedef callback<void, int>::ptr wcb_t;
          ^
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from aios.C:26:
In file included from ./aios.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
26 warnings generated.
mv -f .deps/aios.Tpo .deps/aios.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT arena.o -MD -MP -MF .deps/arena.Tpo -c -o arena.o arena.C
In file included from arena.C:24:
In file included from ./arena.h:28:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from arena.C:24:
In file included from ./arena.h:28:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from arena.C:24:
In file included from ./arena.h:28:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from arena.C:24:
In file included from ./arena.h:28:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from arena.C:24:
In file included from ./arena.h:28:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from arena.C:24:
In file included from ./arena.h:28:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from arena.C:24:
In file included from ./arena.h:28:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from arena.C:24:
In file included from ./arena.h:28:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from arena.C:24:
In file included from ./arena.h:28:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from arena.C:24:
In file included from ./arena.h:28:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from arena.C:24:
In file included from ./arena.h:28:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from arena.C:24:
In file included from ./arena.h:28:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from arena.C:24:
In file included from ./arena.h:28:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from arena.C:24:
In file included from ./arena.h:28:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from arena.C:24:
In file included from ./arena.h:28:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
21 warnings generated.
mv -f .deps/arena.Tpo .deps/arena.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT armor.o -MD -MP -MF .deps/armor.Tpo -c -o armor.o armor.C
In file included from armor.C:24:
In file included from ./serial.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from armor.C:24:
In file included from ./serial.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from armor.C:24:
In file included from ./serial.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from armor.C:24:
In file included from ./serial.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from armor.C:24:
In file included from ./serial.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from armor.C:24:
In file included from ./serial.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
9 warnings generated.
mv -f .deps/armor.Tpo .deps/armor.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT cbuf.o -MD -MP -MF .deps/cbuf.Tpo -c -o cbuf.o cbuf.C
mv -f .deps/cbuf.Tpo .deps/cbuf.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT convertint.o -MD -MP -MF .deps/convertint.Tpo -c -o convertint.o convertint.C
In file included from convertint.C:24:
In file included from ./parseopt.h:28:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from convertint.C:24:
In file included from ./parseopt.h:29:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from convertint.C:24:
In file included from ./parseopt.h:29:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from convertint.C:24:
In file included from ./parseopt.h:29:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from convertint.C:24:
In file included from ./parseopt.h:29:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from convertint.C:24:
In file included from ./parseopt.h:29:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from convertint.C:24:
In file included from ./parseopt.h:29:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from convertint.C:24:
In file included from ./parseopt.h:29:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from convertint.C:24:
In file included from ./parseopt.h:29:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from convertint.C:24:
In file included from ./parseopt.h:29:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from convertint.C:24:
In file included from ./parseopt.h:29:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from convertint.C:24:
In file included from ./parseopt.h:29:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from convertint.C:24:
In file included from ./parseopt.h:29:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from convertint.C:24:
In file included from ./parseopt.h:29:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from convertint.C:24:
In file included from ./parseopt.h:29:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from convertint.C:24:
In file included from ./parseopt.h:29:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from convertint.C:24:
In file included from ./parseopt.h:29:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from convertint.C:24:
In file included from ./parseopt.h:29:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
./ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
./parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from convertint.C:24:
In file included from ./parseopt.h:29:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
./ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
./parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from convertint.C:24:
In file included from ./parseopt.h:29:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
26 warnings generated.
mv -f .deps/convertint.Tpo .deps/convertint.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT core.o -MD -MP -MF .deps/core.Tpo -c -o core.o core.C
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:196:27: note: in instantiation of template class 'callback<void, child *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
./ihash.h:229:12: note: in instantiation of template class 'ihash_core<child, &child::link>' requested here
  : public ihash_core<V, field>
           ^
core.C:71:55: note: in instantiation of template class 'ihash<int, child, &child::pid, &child::link, hashfn<int>, equals<int> >' requested here
static ihash<pid_t, child, &child::pid, &child::link> chldcbs;
                                                      ^
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:204:27: note: in instantiation of template class 'callback<void, const child &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
./ihash.h:229:12: note: in instantiation of template class 'ihash_core<child, &child::link>' requested here
  : public ihash_core<V, field>
           ^
core.C:71:55: note: in instantiation of template class 'ihash<int, child, &child::pid, &child::link, hashfn<int>, equals<int> >' requested here
static ihash<pid_t, child, &child::pid, &child::link> chldcbs;
                                                      ^
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./itree.h:162:23: note: in instantiation of template class 'callback<int, const timecb_t *, void, void>' requested here
  T *search (typename callback<int, const T*>::ref cb) const {
                      ^
./itree.h:225:12: note: in instantiation of template class 'itree_core<timecb_t, &timecb_t::link, keyfunc_2<int, timecb_t, timespec, &timecb_t::ts, compare<timespec> > >' requested here
  : public itree_core<V, field, keyfunc_2<int, V, K, key, C> >
           ^
core.C:80:66: note: in instantiation of template class 'itree<timespec, timecb_t, &timecb_t::ts, &timecb_t::link, compare<timespec> >' requested here
static itree<timespec, timecb_t, &timecb_t::ts, &timecb_t::link> timecbs;
                                                                 ^
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./itree.h:203:27: note: in instantiation of template class 'callback<void, timecb_t *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
./itree.h:225:12: note: in instantiation of template class 'itree_core<timecb_t, &timecb_t::link, keyfunc_2<int, timecb_t, timespec, &timecb_t::ts, compare<timespec> > >' requested here
  : public itree_core<V, field, keyfunc_2<int, V, K, key, C> >
           ^
core.C:80:66: note: in instantiation of template class 'itree<timespec, timecb_t, &timecb_t::ts, &timecb_t::link, compare<timespec> >' requested here
static itree<timespec, timecb_t, &timecb_t::ts, &timecb_t::link> timecbs;
                                                                 ^
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
core.C:119:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
chldcb (pid_t pid, cbi::ptr cb)
                            ^
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./list.h:62:27: note: in instantiation of template class 'callback<void, lazycb_t *, void, void>' requested here
  void traverse (typename callback<void, T*>::ref cb) const {
                          ^
core.C:335:11: note: in instantiation of template class 'list<lazycb_t, &lazycb_t::link>' requested here
  lazylist->insert_head (this);
          ^
In file included from core.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
32 warnings generated.
mv -f .deps/core.Tpo .deps/core.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT daemonize.o -MD -MP -MF .deps/daemonize.Tpo -c -o daemonize.o daemonize.C
In file included from daemonize.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from daemonize.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from daemonize.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from daemonize.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from daemonize.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from daemonize.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from daemonize.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from daemonize.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from daemonize.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from daemonize.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from daemonize.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from daemonize.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from daemonize.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from daemonize.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from daemonize.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
21 warnings generated.
mv -f .deps/daemonize.Tpo .deps/daemonize.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT dns.o -MD -MP -MF .deps/dns.Tpo -c -o dns.o dns.C
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, unsigned int> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
./qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, unsigned int>, &qhash_slot<str, unsigned int>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./dnsparse.h:67:9: note: in instantiation of template class 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>' requested here
  map_t name2pos;
        ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, unsigned int> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
./qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, unsigned int>, &qhash_slot<str, unsigned int>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./dnsparse.h:67:9: note: in instantiation of template class 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>' requested here
  map_t name2pos;
        ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from dns.C:30:
./dnsimpl.h:49:1: warning: 'dnsreq' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class dnsreq {
^
./dns.h:101:9: note: did you mean class here?
typedef struct dnsreq dnsreq_t;
        ^~~~~~
        class
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./dnsimpl.h:82:10: note: in instantiation of template class 'ref<callback<void, ptr<hostent>, int, void> >' requested here
  cbhent cb;                    // Callback for hostbyname/addr
         ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./dnsimpl.h:93:12: note: in instantiation of template class 'ref<callback<void, ptr<mxlist>, int, void> >' requested here
  cbmxlist cb;
           ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./dnsimpl.h:129:13: note: in instantiation of template class 'ref<callback<void, ptr<txtlist>, int, void> >' requested here
  cbtxtlist cb;
            ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dnsimpl.h:138:11: note: in instantiation of template class 'callback<void, unsigned char *, long, void>' requested here
  typedef callback<void, u_char *, ssize_t>::ref cb_t;
          ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./dnsimpl.h:140:8: note: in instantiation of template class 'ref<callback<void, unsigned char *, long, void> >' requested here
  cb_t cb;
       ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./dnsimpl.h:141:13: note: in instantiation of template class 'ref<bool>' requested here
  ref<bool> destroyed;
            ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./dnsimpl.h:174:16: note: in instantiation of template class 'ptr<dnssock>' requested here
  ptr<dnssock> udpsock;
               ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:196:27: note: in instantiation of template class 'callback<void, dnsreq *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
./ihash.h:229:12: note: in instantiation of template class 'ihash_core<dnsreq, &dnsreq::hlink>' requested here
  : public ihash_core<V, field>
           ^
./dnsimpl.h:196:57: note: in instantiation of template class 'ihash<unsigned short, dnsreq, &dnsreq::id, &dnsreq::hlink, hashfn<unsigned short>, equals<unsigned short> >' requested here
  ihash<u_int16_t, dnsreq, &dnsreq::id, &dnsreq::hlink> reqtab;
                                                        ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:204:27: note: in instantiation of template class 'callback<void, const dnsreq &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
./ihash.h:229:12: note: in instantiation of template class 'ihash_core<dnsreq, &dnsreq::hlink>' requested here
  : public ihash_core<V, field>
           ^
./dnsimpl.h:196:57: note: in instantiation of template class 'ihash<unsigned short, dnsreq, &dnsreq::id, &dnsreq::hlink, hashfn<unsigned short>, equals<unsigned short> >' requested here
  ihash<u_int16_t, dnsreq, &dnsreq::id, &dnsreq::hlink> reqtab;
                                                        ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
dns.C:360:6: note: in instantiation of template class 'ptr<hostent>' requested here
                                 wrap (this, &resolver::udpcheck_cb),
                                 ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
dns.C:614:15: note: in instantiation of template class 'ptr<mxlist>' requested here
  ptr<mxlist> m;
              ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
dns.C:772:16: note: in instantiation of template class 'ptr<txtlist>' requested here
  ptr<txtlist> t;
               ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, unsigned int> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
./qhash.h:93:15: note: in instantiation of member function 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./dnsparse.h:69:3: note: in instantiation of member function 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>::~qhash' requested here
  nameset () : pos (0) {}
  ^
In file included from dns.C:30:
In file included from ./dnsimpl.h:28:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, unsigned int> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
./qhash.h:93:15: note: in instantiation of member function 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./dnsparse.h:69:3: note: in instantiation of member function 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>::~qhash' requested here
  nameset () : pos (0) {}
  ^
In file included from dns.C:30:
./dnsimpl.h:50:7: warning: private field 'ntries' is not used [-Wunused-private-field]
  int ntries;
      ^
54 warnings generated.
mv -f .deps/dns.Tpo .deps/dns.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT dnsparse.o -MD -MP -MF .deps/dnsparse.Tpo -c -o dnsparse.o dnsparse.C
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, unsigned int> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
./qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, unsigned int>, &qhash_slot<str, unsigned int>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./dnsparse.h:67:9: note: in instantiation of template class 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>' requested here
  map_t name2pos;
        ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, unsigned int> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
./qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, unsigned int>, &qhash_slot<str, unsigned int>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./dnsparse.h:67:9: note: in instantiation of template class 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>' requested here
  map_t name2pos;
        ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
dnsparse.C:399:11: note: in instantiation of template class 'ptr<hostent>' requested here
dnsparse::tohostent ()
          ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
dnsparse.C:435:14: note: in instantiation of template class 'ref<hostent>' requested here
    (sizeof (*h)
             ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
dnsparse.C:477:11: note: in instantiation of template class 'ptr<mxlist>' requested here
dnsparse::tomxlist ()
          ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
dnsparse.C:527:16: note: in instantiation of template class 'ref<mxlist>' requested here
  ref <mxlist> mxl = refcounted<mxlist, vsize>::alloc
               ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
dnsparse.C:664:16: note: in instantiation of template class 'ref<srvlist>' requested here
  ref<srvlist> s = refcounted<srvlist, vsize>::alloc
               ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
dnsparse.C:684:11: note: in instantiation of template class 'ptr<txtlist>' requested here
dnsparse::totxtlist ()
          ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
dnsparse.C:716:16: note: in instantiation of template class 'ref<txtlist>' requested here
  ref<txtlist> t = refcounted<txtlist, vsize>::alloc
               ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, unsigned int> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
./qhash.h:93:15: note: in instantiation of member function 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./dnsparse.h:69:3: note: in instantiation of member function 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>::~qhash' requested here
  nameset () : pos (0) {}
  ^
In file included from dnsparse.C:29:
In file included from ./dnsparse.h:29:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, unsigned int> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
./qhash.h:93:15: note: in instantiation of member function 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./dnsparse.h:69:3: note: in instantiation of member function 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>::~qhash' requested here
  nameset () : pos (0) {}
  ^
44 warnings generated.
mv -f .deps/dnsparse.Tpo .deps/dnsparse.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT err.o -MD -MP -MF .deps/err.Tpo -c -o err.o err.C
In file included from err.C:24:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from err.C:24:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from err.C:24:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from err.C:24:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from err.C:24:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from err.C:24:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
9 warnings generated.
mv -f .deps/err.Tpo .deps/err.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT ident.o -MD -MP -MF .deps/ident.Tpo -c -o ident.o ident.C
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from ident.C:24:
In file included from ./rxx.h:32:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
ident.C:39:16: note: in instantiation of template class 'ptr<hostent>' requested here
  ptr<hostent> h;
               ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
ident.C:40:47: note: in instantiation of template class 'ptr<callback<void, str, ptr<hostent>, int> >' requested here
  callback<void, str, ptr<hostent>, int>::ptr cb;
                                              ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
ident.C:73:63: note: in instantiation of template class 'ref<callback<void, str, ptr<hostent>, int> >' requested here
identptr (int fd, callback<void, str, ptr<hostent>, int>::ref cb,
                                                              ^
In file included from ident.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
ident.C:127:32: note: in instantiation of template class 'ref<callback<void, ptr<hostent>, int, void> >' requested here
  dns_hostbyaddr (ra.sin_addr, wrap (is, &identstat::dnscb));
                               ^
40 warnings generated.
mv -f .deps/ident.Tpo .deps/ident.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT ifchg.o -MD -MP -MF .deps/ifchg.Tpo -c -o ifchg.o ifchg.C
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./list.h:62:27: note: in instantiation of template class 'callback<void, ifchgcb_t *, void, void>' requested here
  void traverse (typename callback<void, T*>::ref cb) const {
                          ^
ifchg.C:38:42: note: in instantiation of template class 'list<ifchgcb_t, &ifchgcb_t::link>' requested here
static list<ifchgcb_t, &ifchgcb_t::link> chglist;
                                         ^
In file included from ifchg.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
33 warnings generated.
mv -f .deps/ifchg.Tpo .deps/ifchg.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT ihash.o -MD -MP -MF .deps/ihash.Tpo -c -o ihash.o ihash.C
In file included from ihash.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from ihash.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from ihash.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from ihash.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from ihash.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from ihash.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from ihash.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from ihash.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from ihash.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from ihash.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from ihash.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
16 warnings generated.
mv -f .deps/ihash.Tpo .deps/ihash.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT itree.o -MD -MP -MF .deps/itree.Tpo -c -o itree.o itree.C
mv -f .deps/itree.Tpo .deps/itree.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT malloc.o -MD -MP -MF .deps/malloc.Tpo -c -o malloc.o malloc.C
In file included from malloc.C:3:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from malloc.C:3:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from malloc.C:3:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from malloc.C:3:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from malloc.C:3:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from malloc.C:3:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from malloc.C:3:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from malloc.C:3:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from malloc.C:3:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from malloc.C:3:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from malloc.C:3:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
malloc.C:150:1: warning: 'operator new' is missing exception specification 'throw(std::bad_alloc)' [-Wmissing-exception-spec]
operator new (size_t size)
^
                           throw(std::bad_alloc)
/usr/bin/../lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/new:125:26: note: previous declaration is here
_GLIBCXX_NODISCARD void* operator new(std::size_t) _GLIBCXX_THROW (std::bad_alloc)
                         ^
malloc.C:182:1: warning: 'operator new[]' is missing exception specification 'throw(std::bad_alloc)' [-Wmissing-exception-spec]
operator new[] (size_t size)
^
                             throw(std::bad_alloc)
/usr/bin/../lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/new:127:26: note: previous declaration is here
_GLIBCXX_NODISCARD void* operator new[](std::size_t) _GLIBCXX_THROW (std::bad_alloc)
                         ^
18 warnings generated.
mv -f .deps/malloc.Tpo .deps/malloc.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT msb.o -MD -MP -MF .deps/msb.Tpo -c -o msb.o msb.C
mv -f .deps/msb.Tpo .deps/msb.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT myaddrs.o -MD -MP -MF .deps/myaddrs.Tpo -c -o myaddrs.o myaddrs.C
In file included from myaddrs.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from myaddrs.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from myaddrs.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from myaddrs.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from myaddrs.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from myaddrs.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from myaddrs.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from myaddrs.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from myaddrs.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from myaddrs.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from myaddrs.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from myaddrs.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<in_addr, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
./qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<in_addr, void>, &qhash_slot<in_addr, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
myaddrs.C:75:18: note: in instantiation of template class 'bhash<in_addr, hashfn<in_addr>, equals<in_addr>, &qhash_slot<in_addr, void>::link>' requested here
  bhash<in_addr> addrs;
                 ^
In file included from myaddrs.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<in_addr, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
./qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<in_addr, void>, &qhash_slot<in_addr, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
myaddrs.C:75:18: note: in instantiation of template class 'bhash<in_addr, hashfn<in_addr>, equals<in_addr>, &qhash_slot<in_addr, void>::link>' requested here
  bhash<in_addr> addrs;
                 ^
In file included from myaddrs.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
20 warnings generated.
mv -f .deps/myaddrs.Tpo .deps/myaddrs.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT myname.o -MD -MP -MF .deps/myname.Tpo -c -o myname.o myname.C
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from myname.C:24:
In file included from ./dns.h:29:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
31 warnings generated.
mv -f .deps/myname.Tpo .deps/myname.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT parseopt.o -MD -MP -MF .deps/parseopt.Tpo -c -o parseopt.o parseopt.C
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
./ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
./parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
./ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
./parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from parseopt.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
26 warnings generated.
mv -f .deps/parseopt.Tpo .deps/parseopt.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT pipe2str.o -MD -MP -MF .deps/pipe2str.Tpo -c -o pipe2str.o pipe2str.C
In file included from pipe2str.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from pipe2str.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from pipe2str.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from pipe2str.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from pipe2str.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from pipe2str.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from pipe2str.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from pipe2str.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from pipe2str.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from pipe2str.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from pipe2str.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from pipe2str.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from pipe2str.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from pipe2str.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from pipe2str.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from pipe2str.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
pipe2str.C:27:23: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
pipe2str (int fd, cbs cb, int *fdp, strbuf *sb)
                      ^
22 warnings generated.
mv -f .deps/pipe2str.Tpo .deps/pipe2str.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT refcnt.o -MD -MP -MF .deps/refcnt.Tpo -c -o refcnt.o refcnt.C
In file included from refcnt.C:46:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
refcnt.C:59:1: note: in instantiation of template class 'callback<void, void, void, void>' requested here
callback<void>::ref cbv_null (gwrap (ignore_void));
^
In file included from refcnt.C:46:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from refcnt.C:24:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
refcnt.C:59:21: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
callback<void>::ref cbv_null (gwrap (ignore_void));
                    ^
In file included from refcnt.C:46:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
refcnt.C:60:1: note: in instantiation of template class 'callback<void, int, void, void>' requested here
callback<void, int>::ref cbi_null (gwrap (ignore_int));
^
In file included from refcnt.C:46:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from refcnt.C:24:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
refcnt.C:60:26: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
callback<void, int>::ref cbi_null (gwrap (ignore_int));
                         ^
In file included from refcnt.C:62:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from refcnt.C:62:
In file included from ./err.h:28:
In file included from ./str.h:29:
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from refcnt.C:62:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from refcnt.C:24:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
12 warnings generated.
mv -f .deps/refcnt.Tpo .deps/refcnt.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT resolvconf.o -MD -MP -MF .deps/resolvconf.Tpo -c -o resolvconf.o resolvconf.C
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
./ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
./parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
./ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
./parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, unsigned int> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
./qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, unsigned int>, &qhash_slot<str, unsigned int>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./dnsparse.h:67:9: note: in instantiation of template class 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>' requested here
  map_t name2pos;
        ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, unsigned int> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
./qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, unsigned int>, &qhash_slot<str, unsigned int>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./dnsparse.h:67:9: note: in instantiation of template class 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>' requested here
  map_t name2pos;
        ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from resolvconf.C:6:
./dnsimpl.h:49:1: warning: 'dnsreq' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class dnsreq {
^
./dns.h:101:9: note: did you mean class here?
typedef struct dnsreq dnsreq_t;
        ^~~~~~
        class
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./dnsimpl.h:82:10: note: in instantiation of template class 'ref<callback<void, ptr<hostent>, int, void> >' requested here
  cbhent cb;                    // Callback for hostbyname/addr
         ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./dnsimpl.h:93:12: note: in instantiation of template class 'ref<callback<void, ptr<mxlist>, int, void> >' requested here
  cbmxlist cb;
           ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./dnsimpl.h:129:13: note: in instantiation of template class 'ref<callback<void, ptr<txtlist>, int, void> >' requested here
  cbtxtlist cb;
            ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dnsimpl.h:138:11: note: in instantiation of template class 'callback<void, unsigned char *, long, void>' requested here
  typedef callback<void, u_char *, ssize_t>::ref cb_t;
          ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./dnsimpl.h:140:8: note: in instantiation of template class 'ref<callback<void, unsigned char *, long, void> >' requested here
  cb_t cb;
       ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./dnsimpl.h:141:13: note: in instantiation of template class 'ref<bool>' requested here
  ref<bool> destroyed;
            ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./dnsimpl.h:174:16: note: in instantiation of template class 'ptr<dnssock>' requested here
  ptr<dnssock> udpsock;
               ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:196:27: note: in instantiation of template class 'callback<void, dnsreq *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
./ihash.h:229:12: note: in instantiation of template class 'ihash_core<dnsreq, &dnsreq::hlink>' requested here
  : public ihash_core<V, field>
           ^
./dnsimpl.h:196:57: note: in instantiation of template class 'ihash<unsigned short, dnsreq, &dnsreq::id, &dnsreq::hlink, hashfn<unsigned short>, equals<unsigned short> >' requested here
  ihash<u_int16_t, dnsreq, &dnsreq::id, &dnsreq::hlink> reqtab;
                                                        ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./ihash.h:204:27: note: in instantiation of template class 'callback<void, const dnsreq &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
./ihash.h:229:12: note: in instantiation of template class 'ihash_core<dnsreq, &dnsreq::hlink>' requested here
  : public ihash_core<V, field>
           ^
./dnsimpl.h:196:57: note: in instantiation of template class 'ihash<unsigned short, dnsreq, &dnsreq::id, &dnsreq::hlink, hashfn<unsigned short>, equals<unsigned short> >' requested here
  ihash<u_int16_t, dnsreq, &dnsreq::id, &dnsreq::hlink> reqtab;
                                                        ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, unsigned int> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
./qhash.h:93:15: note: in instantiation of member function 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./dnsparse.h:69:3: note: in instantiation of member function 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>::~qhash' requested here
  nameset () : pos (0) {}
  ^
In file included from resolvconf.C:2:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, unsigned int> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
./qhash.h:93:15: note: in instantiation of member function 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./dnsparse.h:69:3: note: in instantiation of member function 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>::~qhash' requested here
  nameset () : pos (0) {}
  ^
60 warnings generated.
mv -f .deps/resolvconf.Tpo .deps/resolvconf.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT rxx.o -MD -MP -MF .deps/rxx.Tpo -c -o rxx.o rxx.C
In file included from rxx.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from rxx.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from rxx.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from rxx.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from rxx.C:24:
In file included from ./rxx.h:32:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from rxx.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from rxx.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from rxx.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from rxx.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from rxx.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from rxx.C:24:
In file included from ./rxx.h:32:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
16 warnings generated.
mv -f .deps/rxx.Tpo .deps/rxx.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT socket.o -MD -MP -MF .deps/socket.Tpo -c -o socket.o socket.C
In file included from socket.C:29:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from socket.C:29:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from socket.C:29:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from socket.C:29:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from socket.C:29:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from socket.C:29:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from socket.C:29:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from socket.C:29:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from socket.C:29:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from socket.C:29:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from socket.C:29:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
16 warnings generated.
mv -f .deps/socket.Tpo .deps/socket.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT spawn.o -MD -MP -MF .deps/spawn.Tpo -c -o spawn.o spawn.C
In file included from spawn.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from spawn.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from spawn.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from spawn.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from spawn.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from spawn.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from spawn.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from spawn.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from spawn.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from spawn.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from spawn.C:24:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
spawn.C:135:12: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]
    if (np = searchdir (builddir, prog))
        ~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
spawn.C:135:12: note: place parentheses around the assignment to silence this warning
    if (np = searchdir (builddir, prog))
           ^
        (                              )
spawn.C:135:12: note: use '==' to turn this assignment into an equality comparison
    if (np = searchdir (builddir, prog))
           ^
           ==
spawn.C:137:12: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]
    if (np = searchdir (builddir << "/lib", prog))
        ~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
spawn.C:137:12: note: place parentheses around the assignment to silence this warning
    if (np = searchdir (builddir << "/lib", prog))
           ^
        (                                        )
spawn.C:137:12: note: use '==' to turn this assignment into an equality comparison
    if (np = searchdir (builddir << "/lib", prog))
           ^
           ==
18 warnings generated.
mv -f .deps/spawn.Tpo .deps/spawn.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT str.o -MD -MP -MF .deps/str.Tpo -c -o str.o str.C
In file included from str.C:24:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from str.C:24:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from str.C:24:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from str.C:24:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from str.C:24:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from str.C:24:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
9 warnings generated.
mv -f .deps/str.Tpo .deps/str.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT str2file.o -MD -MP -MF .deps/str2file.Tpo -c -o str2file.o str2file.C
In file included from str2file.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from str2file.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from str2file.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from str2file.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from str2file.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from str2file.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from str2file.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from str2file.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from str2file.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from str2file.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from str2file.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
16 warnings generated.
mv -f .deps/str2file.Tpo .deps/str2file.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT straux.o -MD -MP -MF .deps/straux.Tpo -c -o straux.o straux.C
In file included from straux.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from straux.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from straux.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from straux.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from straux.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from straux.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from straux.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from straux.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from straux.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from straux.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from straux.C:25:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
16 warnings generated.
mv -f .deps/straux.Tpo .deps/straux.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT suio++.o -MD -MP -MF .deps/suio++.Tpo -c -o suio++.o suio++.C
In file included from suio++.C:24:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from suio++.C:24:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from suio++.C:24:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from suio++.C:24:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from suio++.C:24:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
suio++.C:195:23: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
  callback<void>::ptr cb;
                      ^
suio++.C:459:21: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
suio_flatten (const struct suio *uio)
                    ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
suio++.C:459:21: note: did you mean class here?
suio_flatten (const struct suio *uio)
                    ^~~~~~
                    class
9 warnings generated.
mv -f .deps/suio++.Tpo .deps/suio++.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT suio_vuprintf.o -MD -MP -MF .deps/suio_vuprintf.Tpo -c -o suio_vuprintf.o suio_vuprintf.C
In file included from suio_vuprintf.C:62:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from suio_vuprintf.C:62:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from suio_vuprintf.C:62:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from suio_vuprintf.C:62:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
suio_vuprintf.C:109:16: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
suio_vuprintf (struct suio *uio, const char *_fmt, va_list ap)
               ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
suio_vuprintf.C:109:16: note: did you mean class here?
suio_vuprintf (struct suio *uio, const char *_fmt, va_list ap)
               ^~~~~~
               class
suio_vuprintf.C:717:15: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
suio_uprintf (struct suio *uio, const char *fmt, ...)
              ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
suio_vuprintf.C:717:15: note: did you mean class here?
suio_uprintf (struct suio *uio, const char *fmt, ...)
              ^~~~~~
              class
9 warnings generated.
mv -f .deps/suio_vuprintf.Tpo .deps/suio_vuprintf.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT tcpconnect.o -MD -MP -MF .deps/tcpconnect.Tpo -c -o tcpconnect.o tcpconnect.C
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:29:
In file included from ./vec.h:30:
./array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
./array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
./suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
./suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
./suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
./suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
./suio++.h:46:7: note: previous use is here
class suio {
      ^
./suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
./str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
./str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
./callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
./callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
./callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
tcpconnect.C:77:36: note: in instantiation of template class 'ptr<hostent>' requested here
  dnsp = dns_hostbyname (hostname, wrap (this, &tcpportconnect_t::name_cb),
                                   ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
tcpconnect.C:77:36: note: in instantiation of template class 'ref<callback<void, ptr<hostent>, int, void> >' requested here
  dnsp = dns_hostbyname (hostname, wrap (this, &tcpportconnect_t::name_cb),
                                   ^
In file included from tcpconnect.C:24:
In file included from ./async.h:28:
In file included from ./amisc.h:29:
In file included from ./err.h:28:
In file included from ./str.h:29:
In file included from ./suio++.h:30:
In file included from ./callback.h:612:
./refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
tcpconnect.C:282:48: note: in instantiation of template class 'ref<srvlist>' requested here
tcpsrvconnect_t::tcpsrvconnect_t (ref<srvlist> sl, cbi cb, str *np)
                                               ^
34 warnings generated.
mv -f .deps/tcpconnect.Tpo .deps/tcpconnect.Po
rm -f libasync.a
x86_64-linux-gnu-ar cru libasync.a arandom.o clock_gettime.o getopt_long.o maketables.o pcre.o rwfd.o stktrace.o study.o suidprotect.o aerr.o aios.o arena.o armor.o cbuf.o convertint.o core.o daemonize.o dns.o dnsparse.o err.o ident.o ifchg.o ihash.o itree.o malloc.o msb.o myaddrs.o myname.o parseopt.o pipe2str.o refcnt.o resolvconf.o rxx.o socket.o spawn.o str.o str2file.o straux.o suio++.o suio_vuprintf.o tcpconnect.o 
x86_64-linux-gnu-ar: `u' modifier ignored since `D' is the default (see `U')
x86_64-linux-gnu-ranlib libasync.a
make[3]: Leaving directory '/<<PKGBUILDDIR>>/libasync'
Making all in asmtpd
make[3]: Entering directory '/<<PKGBUILDDIR>>/asmtpd'
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT addrparse.o -MD -MP -MF .deps/addrparse.Tpo -c -o addrparse.o addrparse.C
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:29:
In file included from ../libasync/vec.h:30:
../libasync/array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
../libasync/array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
../libasync/suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
../libasync/suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
../libasync/suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
../libasync/suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
../libasync/str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
../libasync/str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:73:16: note: in instantiation of template class 'ptr<hostent>' requested here
  ptr<hostent> h;
               ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:74:19: note: in instantiation of template class 'ptr<rbl_status>' requested here
  ptr<rbl_status> rs;
                  ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<sockaddr_in, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<sockaddr_in, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, long> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, long> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:373:31: note: in instantiation of template class 'ptr<const rbl_status>' requested here
  const ptr<const rbl_status> rblcon;
                              ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:386:15: note: in instantiation of template class 'ptr<mxlist>' requested here
  ptr<mxlist> mxl;
              ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:454:28: note: in instantiation of template class 'ptr<const hostent>' requested here
  const ptr<const hostent> ptr_cache;
                           ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:473:21: note: in instantiation of template class 'ptr<const mxlist>' requested here
  ptr<const mxlist> get_mxl () const { return mxl; }
                    ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:491:9: note: in instantiation of template class 'callback<void, ref<progout>, void, void>' requested here
typedef callback<void, ref<progout> >::ref runprogcb_t;
        ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:524:11: note: in instantiation of template class 'callback<void, avif::disp_t, str, void>' requested here
  typedef callback<void, disp_t, str>::ref cb_t;
          ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:533:14: note: in instantiation of template class 'ref<callback<void, avif::disp_t, str, void> >' requested here
  const cb_t cb;
             ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:129:27: note: in instantiation of template class 'callback<void, avif::result *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) const {
                          ^
./asmtpd.h:539:32: note: in instantiation of template class 'tailq<avif::result, &avif::result::link>' requested here
  tailq<result, &result::link> reslist;
                               ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from addrparse.C:32:
./asmtpd.h:571:1: warning: 'enqmsg' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class enqmsg {
^
./asmtpd.h:354:1: note: did you mean class here?
struct enqmsg;
^~~~~~
class
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:617:9: note: in instantiation of template class 'callback<void, str, ptr<mxlist>, void>' requested here
typedef callback<void, str, ptr<mxlist> >::ref vrfycb_t;
        ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, str> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, str> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:694:11: note: in instantiation of template class 'callback<void, spf_t *, void, void>' requested here
  typedef callback<void, spf_t *>::ref cb_t;
          ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:696:3: note: in instantiation of template class 'ref<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
  ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:696:13: note: in instantiation of template class 'ptr<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
            ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:713:20: note: in instantiation of template class 'ref<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
  ref<bhash<str> > loopcheck;
                   ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:762:20: note: in instantiation of template class 'ptr<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
         ptr<bhash<str> > loopcheck = NULL, int recdepth = 0);
                          ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./asmtpd.h:770:9: note: in instantiation of template class 'callback<void, spf_result, str, str>' requested here
typedef callback<void, spf_result, str, str>::ref spfckcb_t;
        ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, str> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from addrparse.C:32:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, str> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
88 warnings generated.
mv -f .deps/addrparse.Tpo .deps/addrparse.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT asmtpd.o -MD -MP -MF .deps/asmtpd.Tpo -c -o asmtpd.o asmtpd.C
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:29:
In file included from ../libasync/vec.h:30:
../libasync/array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
../libasync/array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
../libasync/suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
../libasync/suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
../libasync/suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
../libasync/suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
../libasync/str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
../libasync/str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:73:16: note: in instantiation of template class 'ptr<hostent>' requested here
  ptr<hostent> h;
               ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:74:19: note: in instantiation of template class 'ptr<rbl_status>' requested here
  ptr<rbl_status> rs;
                  ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<sockaddr_in, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<sockaddr_in, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, long> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, long> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:373:31: note: in instantiation of template class 'ptr<const rbl_status>' requested here
  const ptr<const rbl_status> rblcon;
                              ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:386:15: note: in instantiation of template class 'ptr<mxlist>' requested here
  ptr<mxlist> mxl;
              ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:454:28: note: in instantiation of template class 'ptr<const hostent>' requested here
  const ptr<const hostent> ptr_cache;
                           ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:473:21: note: in instantiation of template class 'ptr<const mxlist>' requested here
  ptr<const mxlist> get_mxl () const { return mxl; }
                    ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:491:9: note: in instantiation of template class 'callback<void, ref<progout>, void, void>' requested here
typedef callback<void, ref<progout> >::ref runprogcb_t;
        ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:524:11: note: in instantiation of template class 'callback<void, avif::disp_t, str, void>' requested here
  typedef callback<void, disp_t, str>::ref cb_t;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:533:14: note: in instantiation of template class 'ref<callback<void, avif::disp_t, str, void> >' requested here
  const cb_t cb;
             ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:129:27: note: in instantiation of template class 'callback<void, avif::result *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) const {
                          ^
./asmtpd.h:539:32: note: in instantiation of template class 'tailq<avif::result, &avif::result::link>' requested here
  tailq<result, &result::link> reslist;
                               ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from asmtpd.C:24:
./asmtpd.h:571:1: warning: 'enqmsg' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class enqmsg {
^
./asmtpd.h:354:1: note: did you mean class here?
struct enqmsg;
^~~~~~
class
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:617:9: note: in instantiation of template class 'callback<void, str, ptr<mxlist>, void>' requested here
typedef callback<void, str, ptr<mxlist> >::ref vrfycb_t;
        ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, str> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, str> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:694:11: note: in instantiation of template class 'callback<void, spf_t *, void, void>' requested here
  typedef callback<void, spf_t *>::ref cb_t;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:696:3: note: in instantiation of template class 'ref<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
  ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:696:13: note: in instantiation of template class 'ptr<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
            ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:713:20: note: in instantiation of template class 'ref<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
  ref<bhash<str> > loopcheck;
                   ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:762:20: note: in instantiation of template class 'ptr<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
         ptr<bhash<str> > loopcheck = NULL, int recdepth = 0);
                          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./asmtpd.h:770:9: note: in instantiation of template class 'callback<void, spf_result, str, str>' requested here
typedef callback<void, spf_result, str, str>::ref spfckcb_t;
        ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from asmtpd.C:25:
./rawnet.h:129:1: warning: 'synfp_collect' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class synfp_collect {
^
./asmtpd.h:63:1: note: did you mean class here?
struct synfp_collect;
^~~~~~
class
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, synfp_state<synfp_collect::tcbs, true>::synfp_entry *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::sin, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:136:11: note: in instantiation of template class 'synfp_state<synfp_collect::tcbs, true>' requested here
  typedef synfp_state<tcbs, true>::synfp_entry cbentry_t;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const synfp_state<synfp_collect::tcbs, true>::synfp_entry &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::sin, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:136:11: note: in instantiation of template class 'synfp_state<synfp_collect::tcbs, true>' requested here
  typedef synfp_state<tcbs, true>::synfp_entry cbentry_t;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, synfp_state<str, false>::synfp_entry *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::sin, &synfp_state<str, false>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:137:11: note: in instantiation of template class 'synfp_state<str, false>' requested here
  typedef synfp_state<str, false>::synfp_entry fpentry_t;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const synfp_state<str, false>::synfp_entry &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::sin, &synfp_state<str, false>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:137:11: note: in instantiation of template class 'synfp_state<str, false>' requested here
  typedef synfp_state<str, false>::synfp_entry fpentry_t;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./rawnet.h:176:11: note: in instantiation of template class 'callback<void, icmpsock::icmp_info *, void, void>' requested here
  typedef callback<void, icmp_info *>::ref cb_t;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./rawnet.h:180:16: note: in instantiation of template class 'ref<callback<void, icmpsock::icmp_info *, void, void> >' requested here
    const cb_t cb;
               ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./rawnet.h:185:25: note: in instantiation of template class 'ref<icmpsock>' requested here
    const ref<icmpsock> is;
                        ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, icmpsock::icmpclnt *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<icmpsock::icmpclnt, &icmpsock::icmpclnt::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:208:30: note: in instantiation of template class 'ihash<const in_addr, icmpsock::icmpclnt, &icmpsock::icmpclnt::addr, &icmpsock::icmpclnt::hlink, hashfn<const in_addr>, equals<const in_addr> >' requested here
        &icmpsock::icmpclnt::hlink> cbtab;
                                    ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const icmpsock::icmpclnt &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<icmpsock::icmpclnt, &icmpsock::icmpclnt::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:208:30: note: in instantiation of template class 'ihash<const in_addr, icmpsock::icmpclnt, &icmpsock::icmpclnt::addr, &icmpsock::icmpclnt::hlink, hashfn<const in_addr>, equals<const in_addr> >' requested here
        &icmpsock::icmpclnt::hlink> cbtab;
                                    ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./rawnet.h:232:17: note: in instantiation of template class 'ref<icmpsock::icmpclnt>' requested here
  ref<icmpclnt> setcb (in_addr a, cb_t cb)
                ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./rawnet.h:240:11: note: in instantiation of template class 'callback<void, int, in_addr *, int>' requested here
  typedef callback<void, int, in_addr *, int>::ref cb_t;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/vec.h:43:27: note: in instantiation of template class 'ref<callback<void, int, in_addr *, int> >' requested here
    char defbuf_space[N * sizeof (elm_t)];
                          ^
../libasync/vec.h:41:3: note: in instantiation of member class 'vec_base<ref<callback<void, int, in_addr *, int> >, 1>::(anonymous)' requested here
  union {
  ^
../libasync/vec.h:74:52: note: in instantiation of template class 'vec_base<ref<callback<void, int, in_addr *, int> >, 1>' requested here
template<class T, size_t N = 0> class vec : public vec_base<T, N> {
                                                   ^
./rawnet.h:261:16: note: in instantiation of template class 'vec<ref<callback<void, int, in_addr *, int> >, 1>' requested here
  vec<cb_t, 1> cbvec;
               ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, unsigned int> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, unsigned int>, &qhash_slot<str, unsigned int>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
../libasync/dnsparse.h:67:9: note: in instantiation of template class 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>' requested here
  map_t name2pos;
        ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, unsigned int> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, unsigned int>, &qhash_slot<str, unsigned int>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
../libasync/dnsparse.h:67:9: note: in instantiation of template class 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>' requested here
  map_t name2pos;
        ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from asmtpd.C:27:
../libasync/dnsimpl.h:49:1: warning: 'dnsreq' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class dnsreq {
^
../libasync/dns.h:101:9: note: did you mean class here?
typedef struct dnsreq dnsreq_t;
        ^~~~~~
        class
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dnsimpl.h:82:10: note: in instantiation of template class 'ref<callback<void, ptr<hostent>, int, void> >' requested here
  cbhent cb;                    // Callback for hostbyname/addr
         ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dnsimpl.h:93:12: note: in instantiation of template class 'ref<callback<void, ptr<mxlist>, int, void> >' requested here
  cbmxlist cb;
           ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dnsimpl.h:129:13: note: in instantiation of template class 'ref<callback<void, ptr<txtlist>, int, void> >' requested here
  cbtxtlist cb;
            ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dnsimpl.h:138:11: note: in instantiation of template class 'callback<void, unsigned char *, long, void>' requested here
  typedef callback<void, u_char *, ssize_t>::ref cb_t;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dnsimpl.h:140:8: note: in instantiation of template class 'ref<callback<void, unsigned char *, long, void> >' requested here
  cb_t cb;
       ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dnsimpl.h:141:13: note: in instantiation of template class 'ref<bool>' requested here
  ref<bool> destroyed;
            ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/dnsimpl.h:174:16: note: in instantiation of template class 'ptr<dnssock>' requested here
  ptr<dnssock> udpsock;
               ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, dnsreq *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<dnsreq, &dnsreq::hlink>' requested here
  : public ihash_core<V, field>
           ^
../libasync/dnsimpl.h:196:57: note: in instantiation of template class 'ihash<unsigned short, dnsreq, &dnsreq::id, &dnsreq::hlink, hashfn<unsigned short>, equals<unsigned short> >' requested here
  ihash<u_int16_t, dnsreq, &dnsreq::id, &dnsreq::hlink> reqtab;
                                                        ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const dnsreq &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<dnsreq, &dnsreq::hlink>' requested here
  : public ihash_core<V, field>
           ^
../libasync/dnsimpl.h:196:57: note: in instantiation of template class 'ihash<unsigned short, dnsreq, &dnsreq::id, &dnsreq::hlink, hashfn<unsigned short>, equals<unsigned short> >' requested here
  ihash<u_int16_t, dnsreq, &dnsreq::id, &dnsreq::hlink> reqtab;
                                                        ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:62:27: note: in instantiation of template class 'callback<void, listener *, void, void>' requested here
  void traverse (typename callback<void, T*>::ref cb) const {
                          ^
asmtpd.C:55:40: note: in instantiation of template class 'list<listener, &listener::link>' requested here
static list<listener, &listener::link> listen_list;
                                       ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const listener &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<listener, &listener::hlink>' requested here
  : public ihash_core<V, field>
           ^
asmtpd.C:57:41: note: in instantiation of template class 'ihash<const sockaddr_in, listener, &listener::sin, &listener::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
             &listener::sin, &listener::hlink> listen_tab;
                                               ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
asmtpd.C:189:19: note: in instantiation of template class 'ref<callback<void, str, ptr<hostent>, int> >' requested here
    identptr (fd, wrap (this, &newcon::ident_cb), opt->ident_timeout);
                  ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
asmtpd.C:238:20: note: in instantiation of template class 'ref<rbl_status>' requested here
    rbl_check_con (rs, opt->rbls, sin.sin_addr,
                   ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
asmtpd.C:238:5: note: in instantiation of template class 'ref<rbl>' requested here
    rbl_check_con (rs, opt->rbls, sin.sin_addr,
    ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:62:27: note: in instantiation of template class 'callback<void, smtpd *, void, void>' requested here
  void traverse (typename callback<void, T*>::ref cb) const {
                          ^
asmtpd.C:378:27: note: in instantiation of template class 'list<smtpd, &smtpd::link>' requested here
  for (smtpd *s = smtplist.first, *ns; s; s = ns) {
                          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
asmtpd.C:519:29: note: in instantiation of template class 'ref<callback<void, spf_result, str, str> >' requested here
    spf_check (a, parse[3], wrap (spftst_2, line), parse[5]);
                            ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
asmtpd.C:587:48: note: in instantiation of template class 'ref<vec<str, 0> >' requested here
avenge_c (aios_t in, strbuf sb, ref<vec<str> > cmdv, str line, int err)
                                               ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, str> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, str> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, unsigned int> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
../libasync/dnsparse.h:69:3: note: in instantiation of member function 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>::~qhash' requested here
  nameset () : pos (0) {}
  ^
In file included from asmtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, unsigned int> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
../libasync/dnsparse.h:69:3: note: in instantiation of member function 'qhash<str, unsigned int, hashfn<str>, equals<str>, qhash_lookup_return<unsigned int>, &qhash_slot<str, unsigned int>::link>::~qhash' requested here
  nameset () : pos (0) {}
  ^
139 warnings generated.
mv -f .deps/asmtpd.Tpo .deps/asmtpd.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT auth.o -MD -MP -MF .deps/auth.Tpo -c -o auth.o auth.C
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:29:
In file included from ../libasync/vec.h:30:
../libasync/array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
../libasync/array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
../libasync/suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
../libasync/suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
../libasync/suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
../libasync/suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
../libasync/str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
../libasync/str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:73:16: note: in instantiation of template class 'ptr<hostent>' requested here
  ptr<hostent> h;
               ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:74:19: note: in instantiation of template class 'ptr<rbl_status>' requested here
  ptr<rbl_status> rs;
                  ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<sockaddr_in, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<sockaddr_in, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, long> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, long> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:373:31: note: in instantiation of template class 'ptr<const rbl_status>' requested here
  const ptr<const rbl_status> rblcon;
                              ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:386:15: note: in instantiation of template class 'ptr<mxlist>' requested here
  ptr<mxlist> mxl;
              ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:454:28: note: in instantiation of template class 'ptr<const hostent>' requested here
  const ptr<const hostent> ptr_cache;
                           ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:473:21: note: in instantiation of template class 'ptr<const mxlist>' requested here
  ptr<const mxlist> get_mxl () const { return mxl; }
                    ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:491:9: note: in instantiation of template class 'callback<void, ref<progout>, void, void>' requested here
typedef callback<void, ref<progout> >::ref runprogcb_t;
        ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:524:11: note: in instantiation of template class 'callback<void, avif::disp_t, str, void>' requested here
  typedef callback<void, disp_t, str>::ref cb_t;
          ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:533:14: note: in instantiation of template class 'ref<callback<void, avif::disp_t, str, void> >' requested here
  const cb_t cb;
             ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:129:27: note: in instantiation of template class 'callback<void, avif::result *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) const {
                          ^
./asmtpd.h:539:32: note: in instantiation of template class 'tailq<avif::result, &avif::result::link>' requested here
  tailq<result, &result::link> reslist;
                               ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from auth.C:24:
./asmtpd.h:571:1: warning: 'enqmsg' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class enqmsg {
^
./asmtpd.h:354:1: note: did you mean class here?
struct enqmsg;
^~~~~~
class
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:617:9: note: in instantiation of template class 'callback<void, str, ptr<mxlist>, void>' requested here
typedef callback<void, str, ptr<mxlist> >::ref vrfycb_t;
        ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, str> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, str> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:694:11: note: in instantiation of template class 'callback<void, spf_t *, void, void>' requested here
  typedef callback<void, spf_t *>::ref cb_t;
          ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:696:3: note: in instantiation of template class 'ref<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
  ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:696:13: note: in instantiation of template class 'ptr<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
            ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:713:20: note: in instantiation of template class 'ref<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
  ref<bhash<str> > loopcheck;
                   ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:762:20: note: in instantiation of template class 'ptr<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
         ptr<bhash<str> > loopcheck = NULL, int recdepth = 0);
                          ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./asmtpd.h:770:9: note: in instantiation of template class 'callback<void, spf_result, str, str>' requested here
typedef callback<void, spf_result, str, str>::ref spfckcb_t;
        ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, str> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from auth.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, str> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
88 warnings generated.
mv -f .deps/auth.Tpo .deps/auth.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT avif.o -MD -MP -MF .deps/avif.Tpo -c -o avif.o avif.C
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:29:
In file included from ../libasync/vec.h:30:
../libasync/array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
../libasync/array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
../libasync/suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
../libasync/suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
../libasync/suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
../libasync/suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
../libasync/str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
../libasync/str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:73:16: note: in instantiation of template class 'ptr<hostent>' requested here
  ptr<hostent> h;
               ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:74:19: note: in instantiation of template class 'ptr<rbl_status>' requested here
  ptr<rbl_status> rs;
                  ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<sockaddr_in, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<sockaddr_in, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, long> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, long> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:373:31: note: in instantiation of template class 'ptr<const rbl_status>' requested here
  const ptr<const rbl_status> rblcon;
                              ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:386:15: note: in instantiation of template class 'ptr<mxlist>' requested here
  ptr<mxlist> mxl;
              ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:454:28: note: in instantiation of template class 'ptr<const hostent>' requested here
  const ptr<const hostent> ptr_cache;
                           ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:473:21: note: in instantiation of template class 'ptr<const mxlist>' requested here
  ptr<const mxlist> get_mxl () const { return mxl; }
                    ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:491:9: note: in instantiation of template class 'callback<void, ref<progout>, void, void>' requested here
typedef callback<void, ref<progout> >::ref runprogcb_t;
        ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:524:11: note: in instantiation of template class 'callback<void, avif::disp_t, str, void>' requested here
  typedef callback<void, disp_t, str>::ref cb_t;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:533:14: note: in instantiation of template class 'ref<callback<void, avif::disp_t, str, void> >' requested here
  const cb_t cb;
             ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:129:27: note: in instantiation of template class 'callback<void, avif::result *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) const {
                          ^
./asmtpd.h:539:32: note: in instantiation of template class 'tailq<avif::result, &avif::result::link>' requested here
  tailq<result, &result::link> reslist;
                               ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from avif.C:25:
./asmtpd.h:571:1: warning: 'enqmsg' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class enqmsg {
^
./asmtpd.h:354:1: note: did you mean class here?
struct enqmsg;
^~~~~~
class
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:617:9: note: in instantiation of template class 'callback<void, str, ptr<mxlist>, void>' requested here
typedef callback<void, str, ptr<mxlist> >::ref vrfycb_t;
        ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, str> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, str> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:694:11: note: in instantiation of template class 'callback<void, spf_t *, void, void>' requested here
  typedef callback<void, spf_t *>::ref cb_t;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:696:3: note: in instantiation of template class 'ref<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
  ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:696:13: note: in instantiation of template class 'ptr<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
            ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:713:20: note: in instantiation of template class 'ref<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
  ref<bhash<str> > loopcheck;
                   ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:762:20: note: in instantiation of template class 'ptr<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
         ptr<bhash<str> > loopcheck = NULL, int recdepth = 0);
                          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./asmtpd.h:770:9: note: in instantiation of template class 'callback<void, spf_result, str, str>' requested here
typedef callback<void, spf_result, str, str>::ref spfckcb_t;
        ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from avif.C:26:
./rawnet.h:129:1: warning: 'synfp_collect' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class synfp_collect {
^
./asmtpd.h:63:1: note: did you mean class here?
struct synfp_collect;
^~~~~~
class
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, synfp_state<synfp_collect::tcbs, true>::synfp_entry *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::sin, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:136:11: note: in instantiation of template class 'synfp_state<synfp_collect::tcbs, true>' requested here
  typedef synfp_state<tcbs, true>::synfp_entry cbentry_t;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const synfp_state<synfp_collect::tcbs, true>::synfp_entry &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::sin, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:136:11: note: in instantiation of template class 'synfp_state<synfp_collect::tcbs, true>' requested here
  typedef synfp_state<tcbs, true>::synfp_entry cbentry_t;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, synfp_state<str, false>::synfp_entry *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::sin, &synfp_state<str, false>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:137:11: note: in instantiation of template class 'synfp_state<str, false>' requested here
  typedef synfp_state<str, false>::synfp_entry fpentry_t;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const synfp_state<str, false>::synfp_entry &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::sin, &synfp_state<str, false>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:137:11: note: in instantiation of template class 'synfp_state<str, false>' requested here
  typedef synfp_state<str, false>::synfp_entry fpentry_t;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./rawnet.h:176:11: note: in instantiation of template class 'callback<void, icmpsock::icmp_info *, void, void>' requested here
  typedef callback<void, icmp_info *>::ref cb_t;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./rawnet.h:180:16: note: in instantiation of template class 'ref<callback<void, icmpsock::icmp_info *, void, void> >' requested here
    const cb_t cb;
               ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./rawnet.h:185:25: note: in instantiation of template class 'ref<icmpsock>' requested here
    const ref<icmpsock> is;
                        ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, icmpsock::icmpclnt *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<icmpsock::icmpclnt, &icmpsock::icmpclnt::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:208:30: note: in instantiation of template class 'ihash<const in_addr, icmpsock::icmpclnt, &icmpsock::icmpclnt::addr, &icmpsock::icmpclnt::hlink, hashfn<const in_addr>, equals<const in_addr> >' requested here
        &icmpsock::icmpclnt::hlink> cbtab;
                                    ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const icmpsock::icmpclnt &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<icmpsock::icmpclnt, &icmpsock::icmpclnt::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:208:30: note: in instantiation of template class 'ihash<const in_addr, icmpsock::icmpclnt, &icmpsock::icmpclnt::addr, &icmpsock::icmpclnt::hlink, hashfn<const in_addr>, equals<const in_addr> >' requested here
        &icmpsock::icmpclnt::hlink> cbtab;
                                    ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./rawnet.h:232:17: note: in instantiation of template class 'ref<icmpsock::icmpclnt>' requested here
  ref<icmpclnt> setcb (in_addr a, cb_t cb)
                ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./rawnet.h:240:11: note: in instantiation of template class 'callback<void, int, in_addr *, int>' requested here
  typedef callback<void, int, in_addr *, int>::ref cb_t;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/vec.h:43:27: note: in instantiation of template class 'ref<callback<void, int, in_addr *, int> >' requested here
    char defbuf_space[N * sizeof (elm_t)];
                          ^
../libasync/vec.h:41:3: note: in instantiation of member class 'vec_base<ref<callback<void, int, in_addr *, int> >, 1>::(anonymous)' requested here
  union {
  ^
../libasync/vec.h:74:52: note: in instantiation of template class 'vec_base<ref<callback<void, int, in_addr *, int> >, 1>' requested here
template<class T, size_t N = 0> class vec : public vec_base<T, N> {
                                                   ^
./rawnet.h:261:16: note: in instantiation of template class 'vec<ref<callback<void, int, in_addr *, int> >, 1>' requested here
  vec<cb_t, 1> cbvec;
               ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, avcount *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<avcount, &avcount::link>' requested here
  : public ihash_core<V, field>
           ^
avif.C:28:60: note: in instantiation of template class 'ihash<const unsigned int, avcount, &avcount::uid, &avcount::link, hashfn<const unsigned int>, equals<const unsigned int> >' requested here
ihash<const uid_t, avcount, &avcount::uid, &avcount::link> avctab;
                                                           ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const avcount &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<avcount, &avcount::link>' requested here
  : public ihash_core<V, field>
           ^
avif.C:28:60: note: in instantiation of template class 'ihash<const unsigned int, avcount, &avcount::uid, &avcount::link, hashfn<const unsigned int>, equals<const unsigned int> >' requested here
ihash<const uid_t, avcount, &avcount::uid, &avcount::link> avctab;
                                                           ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
avif.C:159:6: note: in instantiation of template class 'ref<callback<void, ptr<hostent>, int, void> >' requested here
                          wrap (this, &avif::dns_a_cb, dnsarx[1], rp),
                          ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
avif.C:181:4: note: in instantiation of template class 'ref<callback<void, ptr<mxlist>, int, void> >' requested here
                        wrap (this, &avif::dns_mx_cb, dnsmxrx[1], rp),
                        ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
avif.C:189:4: note: in instantiation of template class 'ptr<txtlist>' requested here
                        wrap (this, &avif::dns_txt_cb, dnstxtrx[1], rp),
                        ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
avif.C:189:4: note: in instantiation of template class 'ref<callback<void, ptr<txtlist>, int, void> >' requested here
                        wrap (this, &avif::dns_txt_cb, dnstxtrx[1], rp),
                        ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, str> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from avif.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, str> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
117 warnings generated.
mv -f .deps/avif.Tpo .deps/avif.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT config.o -MD -MP -MF .deps/config.Tpo -c -o config.o config.C
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:29:
In file included from ../libasync/vec.h:30:
../libasync/array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
../libasync/array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
../libasync/suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
../libasync/suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
../libasync/suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
../libasync/suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
../libasync/str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
../libasync/str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:73:16: note: in instantiation of template class 'ptr<hostent>' requested here
  ptr<hostent> h;
               ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:74:19: note: in instantiation of template class 'ptr<rbl_status>' requested here
  ptr<rbl_status> rs;
                  ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<sockaddr_in, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<sockaddr_in, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, long> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, long> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:373:31: note: in instantiation of template class 'ptr<const rbl_status>' requested here
  const ptr<const rbl_status> rblcon;
                              ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:386:15: note: in instantiation of template class 'ptr<mxlist>' requested here
  ptr<mxlist> mxl;
              ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:454:28: note: in instantiation of template class 'ptr<const hostent>' requested here
  const ptr<const hostent> ptr_cache;
                           ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:473:21: note: in instantiation of template class 'ptr<const mxlist>' requested here
  ptr<const mxlist> get_mxl () const { return mxl; }
                    ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:491:9: note: in instantiation of template class 'callback<void, ref<progout>, void, void>' requested here
typedef callback<void, ref<progout> >::ref runprogcb_t;
        ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:524:11: note: in instantiation of template class 'callback<void, avif::disp_t, str, void>' requested here
  typedef callback<void, disp_t, str>::ref cb_t;
          ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:533:14: note: in instantiation of template class 'ref<callback<void, avif::disp_t, str, void> >' requested here
  const cb_t cb;
             ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:129:27: note: in instantiation of template class 'callback<void, avif::result *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) const {
                          ^
./asmtpd.h:539:32: note: in instantiation of template class 'tailq<avif::result, &avif::result::link>' requested here
  tailq<result, &result::link> reslist;
                               ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from config.C:24:
./asmtpd.h:571:1: warning: 'enqmsg' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class enqmsg {
^
./asmtpd.h:354:1: note: did you mean class here?
struct enqmsg;
^~~~~~
class
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:617:9: note: in instantiation of template class 'callback<void, str, ptr<mxlist>, void>' requested here
typedef callback<void, str, ptr<mxlist> >::ref vrfycb_t;
        ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, str> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, str> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:694:11: note: in instantiation of template class 'callback<void, spf_t *, void, void>' requested here
  typedef callback<void, spf_t *>::ref cb_t;
          ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:696:3: note: in instantiation of template class 'ref<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
  ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:696:13: note: in instantiation of template class 'ptr<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
            ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:713:20: note: in instantiation of template class 'ref<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
  ref<bhash<str> > loopcheck;
                   ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:762:20: note: in instantiation of template class 'ptr<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
         ptr<bhash<str> > loopcheck = NULL, int recdepth = 0);
                          ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./asmtpd.h:770:9: note: in instantiation of template class 'callback<void, spf_result, str, str>' requested here
typedef callback<void, spf_result, str, str>::ref spfckcb_t;
        ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
config.C:297:19: note: in instantiation of template class 'ref<rbl>' requested here
  rbls.push_back (New refcounted<rbl> (domain, flags, score));
                  ^
../libasync/opnew.h:64:13: note: expanded from macro 'New'
#define New new
            ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<unsigned int, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<unsigned int, void>, &qhash_slot<unsigned int, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
config.C:471:25: note: in instantiation of template class 'bhash<unsigned int, hashfn<unsigned int>, equals<unsigned int>, &qhash_slot<unsigned int, void>::link>' requested here
    bhash <GROUPLIST_T> cache;
                        ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<unsigned int, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<unsigned int, void>, &qhash_slot<unsigned int, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
config.C:471:25: note: in instantiation of template class 'bhash<unsigned int, hashfn<unsigned int>, equals<unsigned int>, &qhash_slot<unsigned int, void>::link>' requested here
    bhash <GROUPLIST_T> cache;
                        ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, str> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, str> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, long> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
config.C:54:10: note: in instantiation of member function 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>::~qhash' requested here
options::options ()
         ^
In file included from config.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, long> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
config.C:54:10: note: in instantiation of member function 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>::~qhash' requested here
options::options ()
         ^
95 warnings generated.
mv -f .deps/config.Tpo .deps/config.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT enqmsg.o -MD -MP -MF .deps/enqmsg.Tpo -c -o enqmsg.o enqmsg.C
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:29:
In file included from ../libasync/vec.h:30:
../libasync/array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
../libasync/array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
../libasync/suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
../libasync/suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
../libasync/suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
../libasync/suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
../libasync/str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
../libasync/str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:73:16: note: in instantiation of template class 'ptr<hostent>' requested here
  ptr<hostent> h;
               ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:74:19: note: in instantiation of template class 'ptr<rbl_status>' requested here
  ptr<rbl_status> rs;
                  ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<sockaddr_in, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<sockaddr_in, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, long> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, long> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:373:31: note: in instantiation of template class 'ptr<const rbl_status>' requested here
  const ptr<const rbl_status> rblcon;
                              ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:386:15: note: in instantiation of template class 'ptr<mxlist>' requested here
  ptr<mxlist> mxl;
              ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:454:28: note: in instantiation of template class 'ptr<const hostent>' requested here
  const ptr<const hostent> ptr_cache;
                           ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:473:21: note: in instantiation of template class 'ptr<const mxlist>' requested here
  ptr<const mxlist> get_mxl () const { return mxl; }
                    ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:491:9: note: in instantiation of template class 'callback<void, ref<progout>, void, void>' requested here
typedef callback<void, ref<progout> >::ref runprogcb_t;
        ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:524:11: note: in instantiation of template class 'callback<void, avif::disp_t, str, void>' requested here
  typedef callback<void, disp_t, str>::ref cb_t;
          ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:533:14: note: in instantiation of template class 'ref<callback<void, avif::disp_t, str, void> >' requested here
  const cb_t cb;
             ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:129:27: note: in instantiation of template class 'callback<void, avif::result *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) const {
                          ^
./asmtpd.h:539:32: note: in instantiation of template class 'tailq<avif::result, &avif::result::link>' requested here
  tailq<result, &result::link> reslist;
                               ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from enqmsg.C:24:
./asmtpd.h:571:1: warning: 'enqmsg' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class enqmsg {
^
./asmtpd.h:354:1: note: did you mean class here?
struct enqmsg;
^~~~~~
class
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:617:9: note: in instantiation of template class 'callback<void, str, ptr<mxlist>, void>' requested here
typedef callback<void, str, ptr<mxlist> >::ref vrfycb_t;
        ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, str> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, str> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:694:11: note: in instantiation of template class 'callback<void, spf_t *, void, void>' requested here
  typedef callback<void, spf_t *>::ref cb_t;
          ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:696:3: note: in instantiation of template class 'ref<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
  ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:696:13: note: in instantiation of template class 'ptr<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
            ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:713:20: note: in instantiation of template class 'ref<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
  ref<bhash<str> > loopcheck;
                   ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:762:20: note: in instantiation of template class 'ptr<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
         ptr<bhash<str> > loopcheck = NULL, int recdepth = 0);
                          ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./asmtpd.h:770:9: note: in instantiation of template class 'callback<void, spf_result, str, str>' requested here
typedef callback<void, spf_result, str, str>::ref spfckcb_t;
        ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
enqmsg.C:231:4: note: in instantiation of template class 'ref<progout>' requested here
                 wrap (this, &enqmsg_file::smcb, av[0], cb),
                 ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
enqmsg.C:231:4: note: in instantiation of template class 'ref<callback<void, ref<progout>, void, void> >' requested here
                 wrap (this, &enqmsg_file::smcb, av[0], cb),
                 ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, str> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from enqmsg.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, str> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
90 warnings generated.
mv -f .deps/enqmsg.Tpo .deps/enqmsg.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT mxcheck.o -MD -MP -MF .deps/mxcheck.Tpo -c -o mxcheck.o mxcheck.C
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:29:
In file included from ../libasync/vec.h:30:
../libasync/array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
../libasync/array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
../libasync/suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
../libasync/suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
../libasync/suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
../libasync/suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
../libasync/str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
../libasync/str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:73:16: note: in instantiation of template class 'ptr<hostent>' requested here
  ptr<hostent> h;
               ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:74:19: note: in instantiation of template class 'ptr<rbl_status>' requested here
  ptr<rbl_status> rs;
                  ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<sockaddr_in, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<sockaddr_in, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, long> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, long> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:373:31: note: in instantiation of template class 'ptr<const rbl_status>' requested here
  const ptr<const rbl_status> rblcon;
                              ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:386:15: note: in instantiation of template class 'ptr<mxlist>' requested here
  ptr<mxlist> mxl;
              ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:454:28: note: in instantiation of template class 'ptr<const hostent>' requested here
  const ptr<const hostent> ptr_cache;
                           ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:473:21: note: in instantiation of template class 'ptr<const mxlist>' requested here
  ptr<const mxlist> get_mxl () const { return mxl; }
                    ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:491:9: note: in instantiation of template class 'callback<void, ref<progout>, void, void>' requested here
typedef callback<void, ref<progout> >::ref runprogcb_t;
        ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:524:11: note: in instantiation of template class 'callback<void, avif::disp_t, str, void>' requested here
  typedef callback<void, disp_t, str>::ref cb_t;
          ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:533:14: note: in instantiation of template class 'ref<callback<void, avif::disp_t, str, void> >' requested here
  const cb_t cb;
             ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:129:27: note: in instantiation of template class 'callback<void, avif::result *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) const {
                          ^
./asmtpd.h:539:32: note: in instantiation of template class 'tailq<avif::result, &avif::result::link>' requested here
  tailq<result, &result::link> reslist;
                               ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from mxcheck.C:25:
./asmtpd.h:571:1: warning: 'enqmsg' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class enqmsg {
^
./asmtpd.h:354:1: note: did you mean class here?
struct enqmsg;
^~~~~~
class
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:617:9: note: in instantiation of template class 'callback<void, str, ptr<mxlist>, void>' requested here
typedef callback<void, str, ptr<mxlist> >::ref vrfycb_t;
        ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, str> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, str> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:694:11: note: in instantiation of template class 'callback<void, spf_t *, void, void>' requested here
  typedef callback<void, spf_t *>::ref cb_t;
          ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:696:3: note: in instantiation of template class 'ref<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
  ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:696:13: note: in instantiation of template class 'ptr<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
            ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:713:20: note: in instantiation of template class 'ref<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
  ref<bhash<str> > loopcheck;
                   ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:762:20: note: in instantiation of template class 'ptr<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
         ptr<bhash<str> > loopcheck = NULL, int recdepth = 0);
                          ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./asmtpd.h:770:9: note: in instantiation of template class 'callback<void, spf_result, str, str>' requested here
typedef callback<void, spf_result, str, str>::ref spfckcb_t;
        ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, int> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, int>, &qhash_slot<str, int>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
mxcheck.C:29:24: note: in instantiation of template class 'qhash<str, int, hashfn<str>, equals<str>, qhash_lookup_return<int>, &qhash_slot<str, int>::link>' requested here
static qhash<str, int> mxcache;
                       ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, int> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, int>, &qhash_slot<str, int>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
mxcheck.C:29:24: note: in instantiation of template class 'qhash<str, int, hashfn<str>, equals<str>, qhash_lookup_return<int>, &qhash_slot<str, int>::link>' requested here
static qhash<str, int> mxcache;
                       ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<in_addr, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<in_addr, void>, &qhash_slot<in_addr, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
mxcheck.C:30:23: note: in instantiation of template class 'bhash<in_addr, hashfn<in_addr>, equals<in_addr>, &qhash_slot<in_addr, void>::link>' requested here
static bhash<in_addr> addrcache;
                      ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<in_addr, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<in_addr, void>, &qhash_slot<in_addr, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
mxcheck.C:30:23: note: in instantiation of template class 'bhash<in_addr, hashfn<in_addr>, equals<in_addr>, &qhash_slot<in_addr, void>::link>' requested here
static bhash<in_addr> addrcache;
                      ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
mxcheck.C:68:46: note: in instantiation of template class 'ref<callback<void, ptr<mxlist>, int, void> >' requested here
  else if (dnsreq *rq = dns_mxbyname (relay, wrap (this, &mxcheck::getmx)))
                                             ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
mxcheck.C:108:29: note: in instantiation of template class 'ref<callback<void, ptr<hostent>, int, void> >' requested here
        = dns_hostbyname (mxes[i], wrap (this, &mxcheck::geta, i)))
                                   ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, str> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, str> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, int> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
mxcheck.C:149:11: note: in instantiation of member function 'qhash<str, int, hashfn<str>, equals<str>, qhash_lookup_return<int>, &qhash_slot<str, int>::link>::clear' requested here
  mxcache.clear ();
          ^
In file included from mxcheck.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, int> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
mxcheck.C:149:11: note: in instantiation of member function 'qhash<str, int, hashfn<str>, equals<str>, qhash_lookup_return<int>, &qhash_slot<str, int>::link>::clear' requested here
  mxcache.clear ();
          ^
100 warnings generated.
mv -f .deps/mxcheck.Tpo .deps/mxcheck.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT netpath.o -MD -MP -MF .deps/netpath.Tpo -c -o netpath.o netpath.C
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:29:
In file included from ../libasync/vec.h:30:
../libasync/array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
../libasync/array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
../libasync/suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
../libasync/suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
../libasync/suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
../libasync/suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
../libasync/str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
../libasync/str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./rawnet.h:132:9: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
    cbs cb;
        ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, synfp_state<synfp_collect::tcbs, true>::synfp_entry *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::sin, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:136:11: note: in instantiation of template class 'synfp_state<synfp_collect::tcbs, true>' requested here
  typedef synfp_state<tcbs, true>::synfp_entry cbentry_t;
          ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const synfp_state<synfp_collect::tcbs, true>::synfp_entry &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::sin, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:136:11: note: in instantiation of template class 'synfp_state<synfp_collect::tcbs, true>' requested here
  typedef synfp_state<tcbs, true>::synfp_entry cbentry_t;
          ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, synfp_state<str, false>::synfp_entry *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::sin, &synfp_state<str, false>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:137:11: note: in instantiation of template class 'synfp_state<str, false>' requested here
  typedef synfp_state<str, false>::synfp_entry fpentry_t;
          ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const synfp_state<str, false>::synfp_entry &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::sin, &synfp_state<str, false>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:137:11: note: in instantiation of template class 'synfp_state<str, false>' requested here
  typedef synfp_state<str, false>::synfp_entry fpentry_t;
          ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./rawnet.h:176:11: note: in instantiation of template class 'callback<void, icmpsock::icmp_info *, void, void>' requested here
  typedef callback<void, icmp_info *>::ref cb_t;
          ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./rawnet.h:180:16: note: in instantiation of template class 'ref<callback<void, icmpsock::icmp_info *, void, void> >' requested here
    const cb_t cb;
               ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./rawnet.h:185:25: note: in instantiation of template class 'ref<icmpsock>' requested here
    const ref<icmpsock> is;
                        ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, icmpsock::icmpclnt *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<icmpsock::icmpclnt, &icmpsock::icmpclnt::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:208:30: note: in instantiation of template class 'ihash<const in_addr, icmpsock::icmpclnt, &icmpsock::icmpclnt::addr, &icmpsock::icmpclnt::hlink, hashfn<const in_addr>, equals<const in_addr> >' requested here
        &icmpsock::icmpclnt::hlink> cbtab;
                                    ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const icmpsock::icmpclnt &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<icmpsock::icmpclnt, &icmpsock::icmpclnt::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:208:30: note: in instantiation of template class 'ihash<const in_addr, icmpsock::icmpclnt, &icmpsock::icmpclnt::addr, &icmpsock::icmpclnt::hlink, hashfn<const in_addr>, equals<const in_addr> >' requested here
        &icmpsock::icmpclnt::hlink> cbtab;
                                    ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./rawnet.h:232:17: note: in instantiation of template class 'ref<icmpsock::icmpclnt>' requested here
  ref<icmpclnt> setcb (in_addr a, cb_t cb)
                ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./rawnet.h:240:11: note: in instantiation of template class 'callback<void, int, in_addr *, int>' requested here
  typedef callback<void, int, in_addr *, int>::ref cb_t;
          ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/vec.h:43:27: note: in instantiation of template class 'ref<callback<void, int, in_addr *, int> >' requested here
    char defbuf_space[N * sizeof (elm_t)];
                          ^
../libasync/vec.h:41:3: note: in instantiation of member class 'vec_base<ref<callback<void, int, in_addr *, int> >, 1>::(anonymous)' requested here
  union {
  ^
../libasync/vec.h:74:52: note: in instantiation of template class 'vec_base<ref<callback<void, int, in_addr *, int> >, 1>' requested here
template<class T, size_t N = 0> class vec : public vec_base<T, N> {
                                                   ^
./rawnet.h:261:16: note: in instantiation of template class 'vec<ref<callback<void, int, in_addr *, int> >, 1>' requested here
  vec<cb_t, 1> cbvec;
               ^
In file included from netpath.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
netpath.C:656:22: note: in instantiation of template class 'ptr<icmpsock>' requested here
static ptr<icmpsock> is;
                     ^
48 warnings generated.
mv -f .deps/netpath.Tpo .deps/netpath.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT osguess.o -MD -MP -MF .deps/osguess.Tpo -c -o osguess.o osguess.C
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:29:
In file included from ../libasync/vec.h:30:
../libasync/array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
../libasync/array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
../libasync/suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
../libasync/suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
../libasync/suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
../libasync/suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
../libasync/str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
../libasync/str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:73:16: note: in instantiation of template class 'ptr<hostent>' requested here
  ptr<hostent> h;
               ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:74:19: note: in instantiation of template class 'ptr<rbl_status>' requested here
  ptr<rbl_status> rs;
                  ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<sockaddr_in, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<sockaddr_in, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, long> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, long> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:373:31: note: in instantiation of template class 'ptr<const rbl_status>' requested here
  const ptr<const rbl_status> rblcon;
                              ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:386:15: note: in instantiation of template class 'ptr<mxlist>' requested here
  ptr<mxlist> mxl;
              ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:454:28: note: in instantiation of template class 'ptr<const hostent>' requested here
  const ptr<const hostent> ptr_cache;
                           ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:473:21: note: in instantiation of template class 'ptr<const mxlist>' requested here
  ptr<const mxlist> get_mxl () const { return mxl; }
                    ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:491:9: note: in instantiation of template class 'callback<void, ref<progout>, void, void>' requested here
typedef callback<void, ref<progout> >::ref runprogcb_t;
        ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:524:11: note: in instantiation of template class 'callback<void, avif::disp_t, str, void>' requested here
  typedef callback<void, disp_t, str>::ref cb_t;
          ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:533:14: note: in instantiation of template class 'ref<callback<void, avif::disp_t, str, void> >' requested here
  const cb_t cb;
             ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:129:27: note: in instantiation of template class 'callback<void, avif::result *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) const {
                          ^
./asmtpd.h:539:32: note: in instantiation of template class 'tailq<avif::result, &avif::result::link>' requested here
  tailq<result, &result::link> reslist;
                               ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from osguess.C:24:
./asmtpd.h:571:1: warning: 'enqmsg' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class enqmsg {
^
./asmtpd.h:354:1: note: did you mean class here?
struct enqmsg;
^~~~~~
class
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:617:9: note: in instantiation of template class 'callback<void, str, ptr<mxlist>, void>' requested here
typedef callback<void, str, ptr<mxlist> >::ref vrfycb_t;
        ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, str> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, str> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:694:11: note: in instantiation of template class 'callback<void, spf_t *, void, void>' requested here
  typedef callback<void, spf_t *>::ref cb_t;
          ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:696:3: note: in instantiation of template class 'ref<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
  ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:696:13: note: in instantiation of template class 'ptr<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
            ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:713:20: note: in instantiation of template class 'ref<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
  ref<bhash<str> > loopcheck;
                   ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:762:20: note: in instantiation of template class 'ptr<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
         ptr<bhash<str> > loopcheck = NULL, int recdepth = 0);
                          ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./asmtpd.h:770:9: note: in instantiation of template class 'callback<void, spf_result, str, str>' requested here
typedef callback<void, spf_result, str, str>::ref spfckcb_t;
        ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:129:27: note: in instantiation of template class 'callback<void, oscell *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) const {
                          ^
osguess.C:44:32: note: in instantiation of template class 'tailq<oscell, &oscell::link>' requested here
  tailq<oscell, &oscell::link> q;
                               ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:52:5: note: in instantiation of template class 'ref<oslist>' requested here
  V value;
    ^
../libasync/qhash.h:61:5: note: in instantiation of template class 'qhash_slot<unsigned int, ref<oslist> >' requested here
        = &qhash_slot<K,V>::link>
           ^
osguess.C:52:8: note: in instantiation of default argument for 'qhash<unsigned int, ref<oslist>, hashfn<unsigned int>, equals<unsigned int>, qhash_lookup_return<ref<oslist> > >' required here
static qhash<u_int, ref<oslist> > ostab;
       ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<unsigned int, ref<oslist> > *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<unsigned int, ref<oslist> >, &qhash_slot<unsigned int, ref<oslist> >::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
osguess.C:52:35: note: in instantiation of template class 'qhash<unsigned int, ref<oslist>, hashfn<unsigned int>, equals<unsigned int>, qhash_lookup_return<ref<oslist> >, &qhash_slot<unsigned int, ref<oslist> >::link>' requested here
static qhash<u_int, ref<oslist> > ostab;
                                  ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<unsigned int, ref<oslist> > &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<unsigned int, ref<oslist> >, &qhash_slot<unsigned int, ref<oslist> >::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
osguess.C:52:35: note: in instantiation of template class 'qhash<unsigned int, ref<oslist>, hashfn<unsigned int>, equals<unsigned int>, qhash_lookup_return<ref<oslist> >, &qhash_slot<unsigned int, ref<oslist> >::link>' requested here
static qhash<u_int, ref<oslist> > ostab;
                                  ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
osguess.C:134:24: note: in instantiation of template class 'ptr<oslist>' requested here
        ptr<oslist> ol = ostab[ln];
                              ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, str> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, str> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<unsigned int, ref<oslist> > *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
osguess.C:113:9: note: in instantiation of member function 'qhash<unsigned int, ref<oslist>, hashfn<unsigned int>, equals<unsigned int>, qhash_lookup_return<ref<oslist> >, &qhash_slot<unsigned int, ref<oslist> >::link>::clear' requested here
  ostab.clear ();
        ^
In file included from osguess.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<unsigned int, ref<oslist> > &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
osguess.C:113:9: note: in instantiation of member function 'qhash<unsigned int, ref<oslist>, hashfn<unsigned int>, equals<unsigned int>, qhash_lookup_return<ref<oslist> >, &qhash_slot<unsigned int, ref<oslist> >::link>::clear' requested here
  ostab.clear ();
        ^
98 warnings generated.
mv -f .deps/osguess.Tpo .deps/osguess.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT quota.o -MD -MP -MF .deps/quota.Tpo -c -o quota.o quota.C
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:29:
In file included from ../libasync/vec.h:30:
../libasync/array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
../libasync/array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
../libasync/suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
../libasync/suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
../libasync/suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
../libasync/suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
../libasync/str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
../libasync/str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:73:16: note: in instantiation of template class 'ptr<hostent>' requested here
  ptr<hostent> h;
               ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:74:19: note: in instantiation of template class 'ptr<rbl_status>' requested here
  ptr<rbl_status> rs;
                  ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<sockaddr_in, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<sockaddr_in, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, long> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, long> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:373:31: note: in instantiation of template class 'ptr<const rbl_status>' requested here
  const ptr<const rbl_status> rblcon;
                              ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:386:15: note: in instantiation of template class 'ptr<mxlist>' requested here
  ptr<mxlist> mxl;
              ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:454:28: note: in instantiation of template class 'ptr<const hostent>' requested here
  const ptr<const hostent> ptr_cache;
                           ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:473:21: note: in instantiation of template class 'ptr<const mxlist>' requested here
  ptr<const mxlist> get_mxl () const { return mxl; }
                    ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:491:9: note: in instantiation of template class 'callback<void, ref<progout>, void, void>' requested here
typedef callback<void, ref<progout> >::ref runprogcb_t;
        ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:524:11: note: in instantiation of template class 'callback<void, avif::disp_t, str, void>' requested here
  typedef callback<void, disp_t, str>::ref cb_t;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:533:14: note: in instantiation of template class 'ref<callback<void, avif::disp_t, str, void> >' requested here
  const cb_t cb;
             ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:129:27: note: in instantiation of template class 'callback<void, avif::result *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) const {
                          ^
./asmtpd.h:539:32: note: in instantiation of template class 'tailq<avif::result, &avif::result::link>' requested here
  tailq<result, &result::link> reslist;
                               ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from quota.C:24:
./asmtpd.h:571:1: warning: 'enqmsg' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class enqmsg {
^
./asmtpd.h:354:1: note: did you mean class here?
struct enqmsg;
^~~~~~
class
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:617:9: note: in instantiation of template class 'callback<void, str, ptr<mxlist>, void>' requested here
typedef callback<void, str, ptr<mxlist> >::ref vrfycb_t;
        ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, str> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, str> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:694:11: note: in instantiation of template class 'callback<void, spf_t *, void, void>' requested here
  typedef callback<void, spf_t *>::ref cb_t;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:696:3: note: in instantiation of template class 'ref<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
  ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:696:13: note: in instantiation of template class 'ptr<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
            ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:713:20: note: in instantiation of template class 'ref<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
  ref<bhash<str> > loopcheck;
                   ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:762:20: note: in instantiation of template class 'ptr<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
         ptr<bhash<str> > loopcheck = NULL, int recdepth = 0);
                          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./asmtpd.h:770:9: note: in instantiation of template class 'callback<void, spf_result, str, str>' requested here
typedef callback<void, spf_result, str, str>::ref spfckcb_t;
        ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from quota.C:25:
./rawnet.h:129:1: warning: 'synfp_collect' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class synfp_collect {
^
./asmtpd.h:63:1: note: did you mean class here?
struct synfp_collect;
^~~~~~
class
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, synfp_state<synfp_collect::tcbs, true>::synfp_entry *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::sin, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:136:11: note: in instantiation of template class 'synfp_state<synfp_collect::tcbs, true>' requested here
  typedef synfp_state<tcbs, true>::synfp_entry cbentry_t;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const synfp_state<synfp_collect::tcbs, true>::synfp_entry &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::sin, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:136:11: note: in instantiation of template class 'synfp_state<synfp_collect::tcbs, true>' requested here
  typedef synfp_state<tcbs, true>::synfp_entry cbentry_t;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, synfp_state<str, false>::synfp_entry *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::sin, &synfp_state<str, false>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:137:11: note: in instantiation of template class 'synfp_state<str, false>' requested here
  typedef synfp_state<str, false>::synfp_entry fpentry_t;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const synfp_state<str, false>::synfp_entry &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::sin, &synfp_state<str, false>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:137:11: note: in instantiation of template class 'synfp_state<str, false>' requested here
  typedef synfp_state<str, false>::synfp_entry fpentry_t;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./rawnet.h:176:11: note: in instantiation of template class 'callback<void, icmpsock::icmp_info *, void, void>' requested here
  typedef callback<void, icmp_info *>::ref cb_t;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./rawnet.h:180:16: note: in instantiation of template class 'ref<callback<void, icmpsock::icmp_info *, void, void> >' requested here
    const cb_t cb;
               ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./rawnet.h:185:25: note: in instantiation of template class 'ref<icmpsock>' requested here
    const ref<icmpsock> is;
                        ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, icmpsock::icmpclnt *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<icmpsock::icmpclnt, &icmpsock::icmpclnt::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:208:30: note: in instantiation of template class 'ihash<const in_addr, icmpsock::icmpclnt, &icmpsock::icmpclnt::addr, &icmpsock::icmpclnt::hlink, hashfn<const in_addr>, equals<const in_addr> >' requested here
        &icmpsock::icmpclnt::hlink> cbtab;
                                    ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const icmpsock::icmpclnt &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<icmpsock::icmpclnt, &icmpsock::icmpclnt::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:208:30: note: in instantiation of template class 'ihash<const in_addr, icmpsock::icmpclnt, &icmpsock::icmpclnt::addr, &icmpsock::icmpclnt::hlink, hashfn<const in_addr>, equals<const in_addr> >' requested here
        &icmpsock::icmpclnt::hlink> cbtab;
                                    ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./rawnet.h:232:17: note: in instantiation of template class 'ref<icmpsock::icmpclnt>' requested here
  ref<icmpclnt> setcb (in_addr a, cb_t cb)
                ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./rawnet.h:240:11: note: in instantiation of template class 'callback<void, int, in_addr *, int>' requested here
  typedef callback<void, int, in_addr *, int>::ref cb_t;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/vec.h:43:27: note: in instantiation of template class 'ref<callback<void, int, in_addr *, int> >' requested here
    char defbuf_space[N * sizeof (elm_t)];
                          ^
../libasync/vec.h:41:3: note: in instantiation of member class 'vec_base<ref<callback<void, int, in_addr *, int> >, 1>::(anonymous)' requested here
  union {
  ^
../libasync/vec.h:74:52: note: in instantiation of template class 'vec_base<ref<callback<void, int, in_addr *, int> >, 1>' requested here
template<class T, size_t N = 0> class vec : public vec_base<T, N> {
                                                   ^
./rawnet.h:261:16: note: in instantiation of template class 'vec<ref<callback<void, int, in_addr *, int> >, 1>' requested here
  vec<cb_t, 1> cbvec;
               ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, ipinfo *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<ipinfo, &ipinfo::link>' requested here
  : public ihash_core<V, field>
           ^
quota.C:27:60: note: in instantiation of template class 'ihash<const in_addr, ipinfo, &ipinfo::addr, &ipinfo::link, hashfn<const in_addr>, equals<const in_addr> >' requested here
ihash<const in_addr, ipinfo, &ipinfo::addr, &ipinfo::link> iitab;
                                                           ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const ipinfo &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<ipinfo, &ipinfo::link>' requested here
  : public ihash_core<V, field>
           ^
quota.C:27:60: note: in instantiation of template class 'ihash<const in_addr, ipinfo, &ipinfo::addr, &ipinfo::link, hashfn<const in_addr>, equals<const in_addr> >' requested here
ihash<const in_addr, ipinfo, &ipinfo::addr, &ipinfo::link> iitab;
                                                           ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, userinfo *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<userinfo, &userinfo::link>' requested here
  : public ihash_core<V, field>
           ^
quota.C:28:62: note: in instantiation of template class 'ihash<const str, userinfo, &userinfo::user, &userinfo::link, hashfn<const str>, equals<const str> >' requested here
ihash<const str, userinfo, &userinfo::user, &userinfo::link> uitab;
                                                             ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const userinfo &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<userinfo, &userinfo::link>' requested here
  : public ihash_core<V, field>
           ^
quota.C:28:62: note: in instantiation of template class 'ihash<const str, userinfo, &userinfo::user, &userinfo::link, hashfn<const str>, equals<const str> >' requested here
ihash<const str, userinfo, &userinfo::user, &userinfo::link> uitab;
                                                             ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
quota.C:45:19: note: in instantiation of template class 'ref<callback<void, ipinfo *, void, void> >' requested here
  iitab.traverse (&ipinfo::maybe_delete);
                  ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
quota.C:45:19: note: in instantiation of template class 'ref<callback<void, const ipinfo &, void, void> >' requested here
  iitab.traverse (&ipinfo::maybe_delete);
                  ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
quota.C:46:19: note: in instantiation of template class 'ref<callback<void, userinfo *, void, void> >' requested here
  uitab.traverse (&userinfo::maybe_delete);
                  ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
quota.C:46:19: note: in instantiation of template class 'ref<callback<void, const userinfo &, void, void> >' requested here
  uitab.traverse (&userinfo::maybe_delete);
                  ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, str> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from quota.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, str> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
121 warnings generated.
mv -f .deps/quota.Tpo .deps/quota.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT rbl.o -MD -MP -MF .deps/rbl.Tpo -c -o rbl.o rbl.C
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:29:
In file included from ../libasync/vec.h:30:
../libasync/array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
../libasync/array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
../libasync/suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
../libasync/suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
../libasync/suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
../libasync/suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
../libasync/str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
../libasync/str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:73:16: note: in instantiation of template class 'ptr<hostent>' requested here
  ptr<hostent> h;
               ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:74:19: note: in instantiation of template class 'ptr<rbl_status>' requested here
  ptr<rbl_status> rs;
                  ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<sockaddr_in, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<sockaddr_in, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, long> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, long> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:373:31: note: in instantiation of template class 'ptr<const rbl_status>' requested here
  const ptr<const rbl_status> rblcon;
                              ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:386:15: note: in instantiation of template class 'ptr<mxlist>' requested here
  ptr<mxlist> mxl;
              ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:454:28: note: in instantiation of template class 'ptr<const hostent>' requested here
  const ptr<const hostent> ptr_cache;
                           ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:473:21: note: in instantiation of template class 'ptr<const mxlist>' requested here
  ptr<const mxlist> get_mxl () const { return mxl; }
                    ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:491:9: note: in instantiation of template class 'callback<void, ref<progout>, void, void>' requested here
typedef callback<void, ref<progout> >::ref runprogcb_t;
        ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:524:11: note: in instantiation of template class 'callback<void, avif::disp_t, str, void>' requested here
  typedef callback<void, disp_t, str>::ref cb_t;
          ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:533:14: note: in instantiation of template class 'ref<callback<void, avif::disp_t, str, void> >' requested here
  const cb_t cb;
             ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:129:27: note: in instantiation of template class 'callback<void, avif::result *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) const {
                          ^
./asmtpd.h:539:32: note: in instantiation of template class 'tailq<avif::result, &avif::result::link>' requested here
  tailq<result, &result::link> reslist;
                               ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from rbl.C:24:
./asmtpd.h:571:1: warning: 'enqmsg' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class enqmsg {
^
./asmtpd.h:354:1: note: did you mean class here?
struct enqmsg;
^~~~~~
class
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:617:9: note: in instantiation of template class 'callback<void, str, ptr<mxlist>, void>' requested here
typedef callback<void, str, ptr<mxlist> >::ref vrfycb_t;
        ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, str> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, str> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:694:11: note: in instantiation of template class 'callback<void, spf_t *, void, void>' requested here
  typedef callback<void, spf_t *>::ref cb_t;
          ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:696:3: note: in instantiation of template class 'ref<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
  ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:696:13: note: in instantiation of template class 'ptr<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
            ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:713:20: note: in instantiation of template class 'ref<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
  ref<bhash<str> > loopcheck;
                   ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:762:20: note: in instantiation of template class 'ptr<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
         ptr<bhash<str> > loopcheck = NULL, int recdepth = 0);
                          ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./asmtpd.h:770:9: note: in instantiation of template class 'callback<void, spf_result, str, str>' requested here
typedef callback<void, spf_result, str, str>::ref spfckcb_t;
        ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
rbl.C:95:19: note: in instantiation of template class 'ref<rbl_status>' requested here
  ref<rbl_status> stat;
                  ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
rbl.C:112:11: note: in instantiation of template class 'ref<rbl>' requested here
    if (!(rblv[i]->flags & (rbl::QUERY_IP | rbl::QUERY_PTR)))
          ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
rbl.C:117:29: note: in instantiation of template class 'ref<callback<void, ptr<hostent>, int, void> >' requested here
      dns_hostbyname (name, wrap (this, &rbl_check::result, rblv[i]),
                            ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, str> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from rbl.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, str> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
91 warnings generated.
mv -f .deps/rbl.Tpo .deps/rbl.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT rcptcheck.o -MD -MP -MF .deps/rcptcheck.Tpo -c -o rcptcheck.o rcptcheck.C
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:29:
In file included from ../libasync/vec.h:30:
../libasync/array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
../libasync/array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
../libasync/suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
../libasync/suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
../libasync/suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
../libasync/suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
../libasync/str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
../libasync/str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:73:16: note: in instantiation of template class 'ptr<hostent>' requested here
  ptr<hostent> h;
               ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:74:19: note: in instantiation of template class 'ptr<rbl_status>' requested here
  ptr<rbl_status> rs;
                  ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<sockaddr_in, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<sockaddr_in, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, long> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, long> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:373:31: note: in instantiation of template class 'ptr<const rbl_status>' requested here
  const ptr<const rbl_status> rblcon;
                              ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:386:15: note: in instantiation of template class 'ptr<mxlist>' requested here
  ptr<mxlist> mxl;
              ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:454:28: note: in instantiation of template class 'ptr<const hostent>' requested here
  const ptr<const hostent> ptr_cache;
                           ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:473:21: note: in instantiation of template class 'ptr<const mxlist>' requested here
  ptr<const mxlist> get_mxl () const { return mxl; }
                    ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:491:9: note: in instantiation of template class 'callback<void, ref<progout>, void, void>' requested here
typedef callback<void, ref<progout> >::ref runprogcb_t;
        ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:524:11: note: in instantiation of template class 'callback<void, avif::disp_t, str, void>' requested here
  typedef callback<void, disp_t, str>::ref cb_t;
          ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:533:14: note: in instantiation of template class 'ref<callback<void, avif::disp_t, str, void> >' requested here
  const cb_t cb;
             ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:129:27: note: in instantiation of template class 'callback<void, avif::result *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) const {
                          ^
./asmtpd.h:539:32: note: in instantiation of template class 'tailq<avif::result, &avif::result::link>' requested here
  tailq<result, &result::link> reslist;
                               ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from rcptcheck.C:24:
./asmtpd.h:571:1: warning: 'enqmsg' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class enqmsg {
^
./asmtpd.h:354:1: note: did you mean class here?
struct enqmsg;
^~~~~~
class
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:617:9: note: in instantiation of template class 'callback<void, str, ptr<mxlist>, void>' requested here
typedef callback<void, str, ptr<mxlist> >::ref vrfycb_t;
        ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, str> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, str> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:694:11: note: in instantiation of template class 'callback<void, spf_t *, void, void>' requested here
  typedef callback<void, spf_t *>::ref cb_t;
          ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:696:3: note: in instantiation of template class 'ref<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
  ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:696:13: note: in instantiation of template class 'ptr<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
            ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:713:20: note: in instantiation of template class 'ref<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
  ref<bhash<str> > loopcheck;
                   ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:762:20: note: in instantiation of template class 'ptr<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
         ptr<bhash<str> > loopcheck = NULL, int recdepth = 0);
                          ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./asmtpd.h:770:9: note: in instantiation of template class 'callback<void, spf_result, str, str>' requested here
typedef callback<void, spf_result, str, str>::ref spfckcb_t;
        ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, str> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from rcptcheck.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, str> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
88 warnings generated.
mv -f .deps/rcptcheck.Tpo .deps/rcptcheck.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT runprog.o -MD -MP -MF .deps/runprog.Tpo -c -o runprog.o runprog.C
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:29:
In file included from ../libasync/vec.h:30:
../libasync/array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
../libasync/array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
../libasync/suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
../libasync/suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
../libasync/suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
../libasync/suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
../libasync/str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
../libasync/str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:73:16: note: in instantiation of template class 'ptr<hostent>' requested here
  ptr<hostent> h;
               ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:74:19: note: in instantiation of template class 'ptr<rbl_status>' requested here
  ptr<rbl_status> rs;
                  ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<sockaddr_in, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<sockaddr_in, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, long> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, long> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:373:31: note: in instantiation of template class 'ptr<const rbl_status>' requested here
  const ptr<const rbl_status> rblcon;
                              ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:386:15: note: in instantiation of template class 'ptr<mxlist>' requested here
  ptr<mxlist> mxl;
              ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:454:28: note: in instantiation of template class 'ptr<const hostent>' requested here
  const ptr<const hostent> ptr_cache;
                           ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:473:21: note: in instantiation of template class 'ptr<const mxlist>' requested here
  ptr<const mxlist> get_mxl () const { return mxl; }
                    ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:491:9: note: in instantiation of template class 'callback<void, ref<progout>, void, void>' requested here
typedef callback<void, ref<progout> >::ref runprogcb_t;
        ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:524:11: note: in instantiation of template class 'callback<void, avif::disp_t, str, void>' requested here
  typedef callback<void, disp_t, str>::ref cb_t;
          ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:533:14: note: in instantiation of template class 'ref<callback<void, avif::disp_t, str, void> >' requested here
  const cb_t cb;
             ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:129:27: note: in instantiation of template class 'callback<void, avif::result *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) const {
                          ^
./asmtpd.h:539:32: note: in instantiation of template class 'tailq<avif::result, &avif::result::link>' requested here
  tailq<result, &result::link> reslist;
                               ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from runprog.C:25:
./asmtpd.h:571:1: warning: 'enqmsg' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class enqmsg {
^
./asmtpd.h:354:1: note: did you mean class here?
struct enqmsg;
^~~~~~
class
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:617:9: note: in instantiation of template class 'callback<void, str, ptr<mxlist>, void>' requested here
typedef callback<void, str, ptr<mxlist> >::ref vrfycb_t;
        ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, str> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, str> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:694:11: note: in instantiation of template class 'callback<void, spf_t *, void, void>' requested here
  typedef callback<void, spf_t *>::ref cb_t;
          ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:696:3: note: in instantiation of template class 'ref<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
  ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:696:13: note: in instantiation of template class 'ptr<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
            ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:713:20: note: in instantiation of template class 'ref<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
  ref<bhash<str> > loopcheck;
                   ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:762:20: note: in instantiation of template class 'ptr<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
         ptr<bhash<str> > loopcheck = NULL, int recdepth = 0);
                          ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./asmtpd.h:770:9: note: in instantiation of template class 'callback<void, spf_result, str, str>' requested here
typedef callback<void, spf_result, str, str>::ref spfckcb_t;
        ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
runprog.C:39:15: note: in instantiation of template class 'ref<callback<void, ref<progout>, void, void> >' requested here
  runprogcb_t cb;
              ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
runprog.C:42:16: note: in instantiation of template class 'ref<progout>' requested here
  ref<progout> po;
               ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, str> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from runprog.C:25:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, str> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
90 warnings generated.
mv -f .deps/runprog.Tpo .deps/runprog.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT smtpd.o -MD -MP -MF .deps/smtpd.Tpo -c -o smtpd.o smtpd.C
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:29:
In file included from ../libasync/vec.h:30:
../libasync/array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
../libasync/array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
../libasync/suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
../libasync/suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
../libasync/suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
../libasync/suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
../libasync/str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
../libasync/str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:73:16: note: in instantiation of template class 'ptr<hostent>' requested here
  ptr<hostent> h;
               ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:74:19: note: in instantiation of template class 'ptr<rbl_status>' requested here
  ptr<rbl_status> rs;
                  ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<sockaddr_in, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<sockaddr_in, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, long> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, long> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:373:31: note: in instantiation of template class 'ptr<const rbl_status>' requested here
  const ptr<const rbl_status> rblcon;
                              ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:386:15: note: in instantiation of template class 'ptr<mxlist>' requested here
  ptr<mxlist> mxl;
              ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:454:28: note: in instantiation of template class 'ptr<const hostent>' requested here
  const ptr<const hostent> ptr_cache;
                           ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:473:21: note: in instantiation of template class 'ptr<const mxlist>' requested here
  ptr<const mxlist> get_mxl () const { return mxl; }
                    ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:491:9: note: in instantiation of template class 'callback<void, ref<progout>, void, void>' requested here
typedef callback<void, ref<progout> >::ref runprogcb_t;
        ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:524:11: note: in instantiation of template class 'callback<void, avif::disp_t, str, void>' requested here
  typedef callback<void, disp_t, str>::ref cb_t;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:533:14: note: in instantiation of template class 'ref<callback<void, avif::disp_t, str, void> >' requested here
  const cb_t cb;
             ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:129:27: note: in instantiation of template class 'callback<void, avif::result *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) const {
                          ^
./asmtpd.h:539:32: note: in instantiation of template class 'tailq<avif::result, &avif::result::link>' requested here
  tailq<result, &result::link> reslist;
                               ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from smtpd.C:24:
./asmtpd.h:571:1: warning: 'enqmsg' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class enqmsg {
^
./asmtpd.h:354:1: note: did you mean class here?
struct enqmsg;
^~~~~~
class
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:617:9: note: in instantiation of template class 'callback<void, str, ptr<mxlist>, void>' requested here
typedef callback<void, str, ptr<mxlist> >::ref vrfycb_t;
        ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, str> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, str> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:694:11: note: in instantiation of template class 'callback<void, spf_t *, void, void>' requested here
  typedef callback<void, spf_t *>::ref cb_t;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:696:3: note: in instantiation of template class 'ref<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
  ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:696:13: note: in instantiation of template class 'ptr<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
            ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:713:20: note: in instantiation of template class 'ref<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
  ref<bhash<str> > loopcheck;
                   ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:762:20: note: in instantiation of template class 'ptr<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
         ptr<bhash<str> > loopcheck = NULL, int recdepth = 0);
                          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./asmtpd.h:770:9: note: in instantiation of template class 'callback<void, spf_result, str, str>' requested here
typedef callback<void, spf_result, str, str>::ref spfckcb_t;
        ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from smtpd.C:25:
./rawnet.h:129:1: warning: 'synfp_collect' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class synfp_collect {
^
./asmtpd.h:63:1: note: did you mean class here?
struct synfp_collect;
^~~~~~
class
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, synfp_state<synfp_collect::tcbs, true>::synfp_entry *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::sin, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:136:11: note: in instantiation of template class 'synfp_state<synfp_collect::tcbs, true>' requested here
  typedef synfp_state<tcbs, true>::synfp_entry cbentry_t;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const synfp_state<synfp_collect::tcbs, true>::synfp_entry &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::sin, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:136:11: note: in instantiation of template class 'synfp_state<synfp_collect::tcbs, true>' requested here
  typedef synfp_state<tcbs, true>::synfp_entry cbentry_t;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, synfp_state<str, false>::synfp_entry *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::sin, &synfp_state<str, false>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:137:11: note: in instantiation of template class 'synfp_state<str, false>' requested here
  typedef synfp_state<str, false>::synfp_entry fpentry_t;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const synfp_state<str, false>::synfp_entry &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::sin, &synfp_state<str, false>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:137:11: note: in instantiation of template class 'synfp_state<str, false>' requested here
  typedef synfp_state<str, false>::synfp_entry fpentry_t;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./rawnet.h:176:11: note: in instantiation of template class 'callback<void, icmpsock::icmp_info *, void, void>' requested here
  typedef callback<void, icmp_info *>::ref cb_t;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./rawnet.h:180:16: note: in instantiation of template class 'ref<callback<void, icmpsock::icmp_info *, void, void> >' requested here
    const cb_t cb;
               ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./rawnet.h:185:25: note: in instantiation of template class 'ref<icmpsock>' requested here
    const ref<icmpsock> is;
                        ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, icmpsock::icmpclnt *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<icmpsock::icmpclnt, &icmpsock::icmpclnt::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:208:30: note: in instantiation of template class 'ihash<const in_addr, icmpsock::icmpclnt, &icmpsock::icmpclnt::addr, &icmpsock::icmpclnt::hlink, hashfn<const in_addr>, equals<const in_addr> >' requested here
        &icmpsock::icmpclnt::hlink> cbtab;
                                    ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const icmpsock::icmpclnt &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<icmpsock::icmpclnt, &icmpsock::icmpclnt::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:208:30: note: in instantiation of template class 'ihash<const in_addr, icmpsock::icmpclnt, &icmpsock::icmpclnt::addr, &icmpsock::icmpclnt::hlink, hashfn<const in_addr>, equals<const in_addr> >' requested here
        &icmpsock::icmpclnt::hlink> cbtab;
                                    ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./rawnet.h:232:17: note: in instantiation of template class 'ref<icmpsock::icmpclnt>' requested here
  ref<icmpclnt> setcb (in_addr a, cb_t cb)
                ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./rawnet.h:240:11: note: in instantiation of template class 'callback<void, int, in_addr *, int>' requested here
  typedef callback<void, int, in_addr *, int>::ref cb_t;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/vec.h:43:27: note: in instantiation of template class 'ref<callback<void, int, in_addr *, int> >' requested here
    char defbuf_space[N * sizeof (elm_t)];
                          ^
../libasync/vec.h:41:3: note: in instantiation of member class 'vec_base<ref<callback<void, int, in_addr *, int> >, 1>::(anonymous)' requested here
  union {
  ^
../libasync/vec.h:74:52: note: in instantiation of template class 'vec_base<ref<callback<void, int, in_addr *, int> >, 1>' requested here
template<class T, size_t N = 0> class vec : public vec_base<T, N> {
                                                   ^
./rawnet.h:261:16: note: in instantiation of template class 'vec<ref<callback<void, int, in_addr *, int> >, 1>' requested here
  vec<cb_t, 1> cbvec;
               ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./async_ssl.h:48:13: note: in instantiation of template class 'ptr<suio>' requested here
  ptr<suio> oldout;
            ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./async_ssl.h:86:22: note: in instantiation of template class 'ref<aiossl>' requested here
  static ref<aiossl> alloc (int fd, size_t rbsz = defrbufsize)
                     ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, smtp_dispatch *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<smtp_dispatch, &smtp_dispatch::link>' requested here
  : public ihash_core<V, field>
           ^
smtpd.C:49:29: note: in instantiation of template class 'ihash<const char *, smtp_dispatch, &smtp_dispatch::cmd_name, &smtp_dispatch::link, hashfn<const char *>, equals<const char *> >' requested here
             &smtp_dispatch::link> dispatch_tab;
                                   ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const smtp_dispatch &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<smtp_dispatch, &smtp_dispatch::link>' requested here
  : public ihash_core<V, field>
           ^
smtpd.C:49:29: note: in instantiation of template class 'ihash<const char *, smtp_dispatch, &smtp_dispatch::cmd_name, &smtp_dispatch::link, hashfn<const char *>, equals<const char *> >' requested here
             &smtp_dispatch::link> dispatch_tab;
                                   ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:62:27: note: in instantiation of template class 'callback<void, smtpd *, void, void>' requested here
  void traverse (typename callback<void, T*>::ref cb) const {
                          ^
smtpd.C:51:27: note: in instantiation of template class 'list<smtpd, &smtpd::link>' requested here
list<smtpd, &smtpd::link> smtplist;
                          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
smtpd.C:300:22: note: in instantiation of template class 'ref<rbl_status>' requested here
      rbl_check_env (rblenv, opt->rbls, relay,
                     ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
smtpd.C:300:7: note: in instantiation of template class 'ref<rbl>' requested here
      rbl_check_env (rblenv, opt->rbls, relay,
      ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
smtpd.C:334:30: note: in instantiation of template class 'ref<callback<void, spf_result, str, str> >' requested here
    spf_check (ipaddr, addr, wrap (this, &smtpd::cmd_mail_3, addr),
                             ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
smtpd.C:344:35: note: in instantiation of template class 'ref<callback<void, str, ptr<mxlist>, void> >' requested here
    vrfy (myipaddr, addr, ipaddr, wrap (this, &smtpd::cmd_mail_4, addr));
                                  ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
smtpd.C:719:7: note: in instantiation of template class 'ref<progout>' requested here
                           wrap (this, &smtpd::data_3, avc),
                           ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
smtpd.C:719:7: note: in instantiation of template class 'ref<callback<void, ref<progout>, void, void> >' requested here
                           wrap (this, &smtpd::data_3, avc),
                           ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
smtpd.C:913:26: note: in instantiation of template class 'ref<callback<void, ptr<hostent>, int, void> >' requested here
      dns_hostbyaddr (a, wrap (relaunch, myfd, myfd, nn, a));
                         ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, str> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from smtpd.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, str> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
124 warnings generated.
mv -f .deps/smtpd.Tpo .deps/smtpd.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT spf.o -MD -MP -MF .deps/spf.Tpo -c -o spf.o spf.C
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:29:
In file included from ../libasync/vec.h:30:
../libasync/array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
../libasync/array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
../libasync/suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
../libasync/suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
../libasync/suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
../libasync/suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
../libasync/str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
../libasync/str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:73:16: note: in instantiation of template class 'ptr<hostent>' requested here
  ptr<hostent> h;
               ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:74:19: note: in instantiation of template class 'ptr<rbl_status>' requested here
  ptr<rbl_status> rs;
                  ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<sockaddr_in, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<sockaddr_in, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, long> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, long> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:373:31: note: in instantiation of template class 'ptr<const rbl_status>' requested here
  const ptr<const rbl_status> rblcon;
                              ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:386:15: note: in instantiation of template class 'ptr<mxlist>' requested here
  ptr<mxlist> mxl;
              ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:454:28: note: in instantiation of template class 'ptr<const hostent>' requested here
  const ptr<const hostent> ptr_cache;
                           ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:473:21: note: in instantiation of template class 'ptr<const mxlist>' requested here
  ptr<const mxlist> get_mxl () const { return mxl; }
                    ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:491:9: note: in instantiation of template class 'callback<void, ref<progout>, void, void>' requested here
typedef callback<void, ref<progout> >::ref runprogcb_t;
        ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:524:11: note: in instantiation of template class 'callback<void, avif::disp_t, str, void>' requested here
  typedef callback<void, disp_t, str>::ref cb_t;
          ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:533:14: note: in instantiation of template class 'ref<callback<void, avif::disp_t, str, void> >' requested here
  const cb_t cb;
             ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:129:27: note: in instantiation of template class 'callback<void, avif::result *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) const {
                          ^
./asmtpd.h:539:32: note: in instantiation of template class 'tailq<avif::result, &avif::result::link>' requested here
  tailq<result, &result::link> reslist;
                               ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from spf.C:24:
./asmtpd.h:571:1: warning: 'enqmsg' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class enqmsg {
^
./asmtpd.h:354:1: note: did you mean class here?
struct enqmsg;
^~~~~~
class
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:617:9: note: in instantiation of template class 'callback<void, str, ptr<mxlist>, void>' requested here
typedef callback<void, str, ptr<mxlist> >::ref vrfycb_t;
        ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, str> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, str> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:694:11: note: in instantiation of template class 'callback<void, spf_t *, void, void>' requested here
  typedef callback<void, spf_t *>::ref cb_t;
          ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:696:3: note: in instantiation of template class 'ref<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
  ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:696:13: note: in instantiation of template class 'ptr<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
            ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:713:20: note: in instantiation of template class 'ref<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
  ref<bhash<str> > loopcheck;
                   ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:762:20: note: in instantiation of template class 'ptr<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
         ptr<bhash<str> > loopcheck = NULL, int recdepth = 0);
                          ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./asmtpd.h:770:9: note: in instantiation of template class 'callback<void, spf_result, str, str>' requested here
typedef callback<void, spf_result, str, str>::ref spfckcb_t;
        ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
spf.C:80:37: note: in instantiation of template class 'ptr<txtlist>' requested here
spf_t::getexp (cbv cb, ptr<txtlist> t, int err)
                                    ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
spf.C:103:22: note: in instantiation of template class 'ref<callback<void, ptr<txtlist>, int, void> >' requested here
        = dns_txtbyname (n, wrap (this, &spf_t::getexp,
                            ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
spf.C:150:43: note: in instantiation of template class 'ref<callback<void, ptr<hostent>, int, void> >' requested here
  if (dnsreq_t *d = dns_hostbyaddr (addr, wrap (this, &spf_t::getptr_2, cb)))
                                          ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
spf.C:464:46: note: in instantiation of template class 'ref<hostent>' requested here
spf_t::addr_check (int cidrlen, ref<hostent> h)
                                             ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
spf.C:693:29: note: in instantiation of template class 'ref<callback<void, ptr<mxlist>, int, void> >' requested here
      = dns_mxbyname (targ, wrap (this, &spf_t::mech_mx_2, cidrlen)))
                            ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
spf.C:814:24: note: in instantiation of template class 'ref<callback<void, spf_result, str, str> >' requested here
spf_check_3 (spfckcb_t cb, spf_result override, str omech, spf_t *spf)
                       ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, str> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from spf.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, str> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
94 warnings generated.
mv -f .deps/spf.Tpo .deps/spf.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT synfp.o -MD -MP -MF .deps/synfp.Tpo -c -o synfp.o synfp.C
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:29:
In file included from ../libasync/vec.h:30:
../libasync/array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
../libasync/array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
../libasync/suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
../libasync/suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
../libasync/suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
../libasync/suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
../libasync/str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
../libasync/str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, synfp_state<synfp_collect::tcbs, true>::synfp_entry *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::sin, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:136:11: note: in instantiation of template class 'synfp_state<synfp_collect::tcbs, true>' requested here
  typedef synfp_state<tcbs, true>::synfp_entry cbentry_t;
          ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const synfp_state<synfp_collect::tcbs, true>::synfp_entry &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<synfp_collect::tcbs, true>::synfp_entry, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::sin, &synfp_state<synfp_collect::tcbs, true>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:136:11: note: in instantiation of template class 'synfp_state<synfp_collect::tcbs, true>' requested here
  typedef synfp_state<tcbs, true>::synfp_entry cbentry_t;
          ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, synfp_state<str, false>::synfp_entry *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::sin, &synfp_state<str, false>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:137:11: note: in instantiation of template class 'synfp_state<str, false>' requested here
  typedef synfp_state<str, false>::synfp_entry fpentry_t;
          ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const synfp_state<str, false>::synfp_entry &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:103:36: note: in instantiation of template class 'ihash<const sockaddr_in, synfp_state<str, false>::synfp_entry, &synfp_state<str, false>::synfp_entry::sin, &synfp_state<str, false>::synfp_entry::hlink, hashfn<const sockaddr_in>, equals<const sockaddr_in> >' requested here
        &synfp_entry::synfp_entry::hlink> tab;
                                          ^
./rawnet.h:137:11: note: in instantiation of template class 'synfp_state<str, false>' requested here
  typedef synfp_state<str, false>::synfp_entry fpentry_t;
          ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./rawnet.h:176:11: note: in instantiation of template class 'callback<void, icmpsock::icmp_info *, void, void>' requested here
  typedef callback<void, icmp_info *>::ref cb_t;
          ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./rawnet.h:180:16: note: in instantiation of template class 'ref<callback<void, icmpsock::icmp_info *, void, void> >' requested here
    const cb_t cb;
               ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./rawnet.h:185:25: note: in instantiation of template class 'ref<icmpsock>' requested here
    const ref<icmpsock> is;
                        ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, icmpsock::icmpclnt *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<icmpsock::icmpclnt, &icmpsock::icmpclnt::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:208:30: note: in instantiation of template class 'ihash<const in_addr, icmpsock::icmpclnt, &icmpsock::icmpclnt::addr, &icmpsock::icmpclnt::hlink, hashfn<const in_addr>, equals<const in_addr> >' requested here
        &icmpsock::icmpclnt::hlink> cbtab;
                                    ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const icmpsock::icmpclnt &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<icmpsock::icmpclnt, &icmpsock::icmpclnt::hlink>' requested here
  : public ihash_core<V, field>
           ^
./rawnet.h:208:30: note: in instantiation of template class 'ihash<const in_addr, icmpsock::icmpclnt, &icmpsock::icmpclnt::addr, &icmpsock::icmpclnt::hlink, hashfn<const in_addr>, equals<const in_addr> >' requested here
        &icmpsock::icmpclnt::hlink> cbtab;
                                    ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./rawnet.h:232:17: note: in instantiation of template class 'ref<icmpsock::icmpclnt>' requested here
  ref<icmpclnt> setcb (in_addr a, cb_t cb)
                ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./rawnet.h:240:11: note: in instantiation of template class 'callback<void, int, in_addr *, int>' requested here
  typedef callback<void, int, in_addr *, int>::ref cb_t;
          ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/vec.h:43:27: note: in instantiation of template class 'ref<callback<void, int, in_addr *, int> >' requested here
    char defbuf_space[N * sizeof (elm_t)];
                          ^
../libasync/vec.h:41:3: note: in instantiation of member class 'vec_base<ref<callback<void, int, in_addr *, int> >, 1>::(anonymous)' requested here
  union {
  ^
../libasync/vec.h:74:52: note: in instantiation of template class 'vec_base<ref<callback<void, int, in_addr *, int> >, 1>' requested here
template<class T, size_t N = 0> class vec : public vec_base<T, N> {
                                                   ^
./rawnet.h:261:16: note: in instantiation of template class 'vec<ref<callback<void, int, in_addr *, int> >, 1>' requested here
  vec<cb_t, 1> cbvec;
               ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
synfp.C:85:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> seen;
             ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
synfp.C:85:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> seen;
             ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<in_addr, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<in_addr, void>, &qhash_slot<in_addr, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
synfp.C:150:18: note: in instantiation of template class 'bhash<in_addr, hashfn<in_addr>, equals<in_addr>, &qhash_slot<in_addr, void>::link>' requested here
  bhash<in_addr> seen;
                 ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<in_addr, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<in_addr, void>, &qhash_slot<in_addr, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
synfp.C:150:18: note: in instantiation of template class 'bhash<in_addr, hashfn<in_addr>, equals<in_addr>, &qhash_slot<in_addr, void>::link>' requested here
  bhash<in_addr> seen;
                 ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<sockaddr_in, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
synfp.C:302:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> seen;
                     ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<sockaddr_in, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
synfp.C:302:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> seen;
                     ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<unsigned short, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<unsigned short, void>, &qhash_slot<unsigned short, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
synfp.C:303:20: note: in instantiation of template class 'bhash<unsigned short, hashfn<unsigned short>, equals<unsigned short>, &qhash_slot<unsigned short, void>::link>' requested here
  bhash<u_int16_t> seen_port;
                   ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<unsigned short, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<unsigned short, void>, &qhash_slot<unsigned short, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
synfp.C:303:20: note: in instantiation of template class 'bhash<unsigned short, hashfn<unsigned short>, equals<unsigned short>, &qhash_slot<unsigned short, void>::link>' requested here
  bhash<u_int16_t> seen_port;
                   ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from synfp.C:24:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
synfp.C:488:16: note: in instantiation of template class 'ref<synfp>' requested here
    ref<synfp> s = New refcounted<synfp>;
               ^
68 warnings generated.
mv -f .deps/synfp.Tpo .deps/synfp.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT vrfy.o -MD -MP -MF .deps/vrfy.Tpo -c -o vrfy.o vrfy.C
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:29:
In file included from ../libasync/vec.h:30:
../libasync/array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
../libasync/array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
../libasync/suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
../libasync/suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
../libasync/suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
../libasync/suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
../libasync/str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
../libasync/str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:73:16: note: in instantiation of template class 'ptr<hostent>' requested here
  ptr<hostent> h;
               ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:74:19: note: in instantiation of template class 'ptr<rbl_status>' requested here
  ptr<rbl_status> rs;
                  ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<sockaddr_in, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<sockaddr_in, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, long> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, long> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:373:31: note: in instantiation of template class 'ptr<const rbl_status>' requested here
  const ptr<const rbl_status> rblcon;
                              ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:386:15: note: in instantiation of template class 'ptr<mxlist>' requested here
  ptr<mxlist> mxl;
              ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:454:28: note: in instantiation of template class 'ptr<const hostent>' requested here
  const ptr<const hostent> ptr_cache;
                           ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:473:21: note: in instantiation of template class 'ptr<const mxlist>' requested here
  ptr<const mxlist> get_mxl () const { return mxl; }
                    ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:491:9: note: in instantiation of template class 'callback<void, ref<progout>, void, void>' requested here
typedef callback<void, ref<progout> >::ref runprogcb_t;
        ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:524:11: note: in instantiation of template class 'callback<void, avif::disp_t, str, void>' requested here
  typedef callback<void, disp_t, str>::ref cb_t;
          ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:533:14: note: in instantiation of template class 'ref<callback<void, avif::disp_t, str, void> >' requested here
  const cb_t cb;
             ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:129:27: note: in instantiation of template class 'callback<void, avif::result *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) const {
                          ^
./asmtpd.h:539:32: note: in instantiation of template class 'tailq<avif::result, &avif::result::link>' requested here
  tailq<result, &result::link> reslist;
                               ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from vrfy.C:24:
./asmtpd.h:571:1: warning: 'enqmsg' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class enqmsg {
^
./asmtpd.h:354:1: note: did you mean class here?
struct enqmsg;
^~~~~~
class
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:617:9: note: in instantiation of template class 'callback<void, str, ptr<mxlist>, void>' requested here
typedef callback<void, str, ptr<mxlist> >::ref vrfycb_t;
        ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, str> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, str> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:694:11: note: in instantiation of template class 'callback<void, spf_t *, void, void>' requested here
  typedef callback<void, spf_t *>::ref cb_t;
          ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:696:3: note: in instantiation of template class 'ref<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
  ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:696:13: note: in instantiation of template class 'ptr<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
            ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:713:20: note: in instantiation of template class 'ref<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
  ref<bhash<str> > loopcheck;
                   ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:762:20: note: in instantiation of template class 'ptr<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
         ptr<bhash<str> > loopcheck = NULL, int recdepth = 0);
                          ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./asmtpd.h:770:9: note: in instantiation of template class 'callback<void, spf_result, str, str>' requested here
typedef callback<void, spf_result, str, str>::ref spfckcb_t;
        ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, addrcache_entry *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<addrcache_entry, &addrcache_entry::hashlink>' requested here
  : public ihash_core<V, field>
           ^
vrfy.C:43:59: note: in instantiation of template class 'ihash<const str, addrcache_entry, &addrcache_entry::addr, &addrcache_entry::hashlink, hashfn<const str>, equals<const str> >' requested here
             &addrcache_entry::addr, &addrcache_entry::hashlink> addrcache;
                                                                 ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const addrcache_entry &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<addrcache_entry, &addrcache_entry::hashlink>' requested here
  : public ihash_core<V, field>
           ^
vrfy.C:43:59: note: in instantiation of template class 'ihash<const str, addrcache_entry, &addrcache_entry::addr, &addrcache_entry::hashlink, hashfn<const str>, equals<const str> >' requested here
             &addrcache_entry::addr, &addrcache_entry::hashlink> addrcache;
                                                                 ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
vrfy.C:153:3: note: in instantiation of template class 'ref<callback<void, bool, void, void> >' requested here
  cbb::ptr cb;
  ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
vrfy.C:153:12: note: in instantiation of template class 'ptr<callback<void, bool, void, void> >' requested here
  cbb::ptr cb;
           ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, mailserv *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<mailserv, &mailserv::hlink>' requested here
  : public ihash_core<V, field>
           ^
vrfy.C:175:70: note: in instantiation of template class 'ihash<const str, mailserv, &mailserv::name, &mailserv::hlink, hashfn<const str>, equals<const str> >' requested here
static ihash<const str, mailserv, &mailserv::name, &mailserv::hlink> mstab;
                                                                     ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const mailserv &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<mailserv, &mailserv::hlink>' requested here
  : public ihash_core<V, field>
           ^
vrfy.C:175:70: note: in instantiation of template class 'ihash<const str, mailserv, &mailserv::name, &mailserv::hlink, hashfn<const str>, equals<const str> >' requested here
static ihash<const str, mailserv, &mailserv::name, &mailserv::hlink> mstab;
                                                                     ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
vrfy.C:260:18: note: in instantiation of template class 'ref<vec<str, 0> >' requested here
  ref<vec<str> > cv = New refcounted<vec<str> > (cmds);
                 ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
vrfy.C:355:11: note: in instantiation of template class 'callback<void, mailserv *, int, ptr<mxlist> >' requested here
  typedef callback<void, mailserv *, int, ptr<mxlist> >::ref cb_t;
          ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
vrfy.C:358:8: note: in instantiation of template class 'ref<callback<void, mailserv *, int, ptr<mxlist> > >' requested here
  cb_t cb;
       ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
vrfy.C:368:25: note: in instantiation of template class 'ref<callback<void, ptr<mxlist>, int, void> >' requested here
    dns_mxbyname (name, wrap (this, &mxconnect::mxcb));
                        ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
vrfy.C:396:24: note: in instantiation of template class 'ref<callback<void, ptr<hostent>, int, void> >' requested here
    dns_hostbyname (a, wrap (this, &mxconnect::tryip, a));
                       ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
vrfy.C:456:31: note: in instantiation of template class 'ref<callback<void, str, ptr<mxlist>, void> >' requested here
vrfy_mkcb (str addr, vrfycb_t cb, str msg, ptr<mxlist> mxl)
                              ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, str> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from vrfy.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, str> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
105 warnings generated.
mv -f .deps/vrfy.Tpo .deps/vrfy.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT starttls.o -MD -MP -MF .deps/starttls.Tpo -c -o starttls.o starttls.C
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:29:
In file included from ../libasync/vec.h:30:
../libasync/array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
../libasync/array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
../libasync/suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
../libasync/suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
../libasync/suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
../libasync/suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
../libasync/str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
../libasync/str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:104:9: note: in instantiation of template class 'callback<void, ptr<hostent>, int, void>' requested here
typedef callback<void, ptr<hostent>, int>::ref cbhent;
        ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:109:9: note: in instantiation of template class 'callback<void, ptr<mxlist>, int, void>' requested here
typedef callback<void, ptr<mxlist>, int>::ref cbmxlist;
        ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:112:9: note: in instantiation of template class 'callback<void, ptr<srvlist>, int, void>' requested here
typedef callback<void, ptr<srvlist>, int>::ref cbsrvlist;
        ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/dns.h:115:9: note: in instantiation of template class 'callback<void, ptr<txtlist>, int, void>' requested here
typedef callback<void, ptr<txtlist>, int>::ref cbtxtlist;
        ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/dns.h:120:19: note: in instantiation of template class 'ref<callback<void, ptr<srvlist>, int, void> >' requested here
               cbsrvlist cb, bool search = false)
                         ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/dns.h:122:10: note: in instantiation of template class 'ptr<srvlist>' requested here
  return dns_srvbyname (strbuf ("_%s._%s.%s", srv, proto, name), cb, search);
         ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/parseopt.h:98:9: note: in instantiation of template class 'callback<void, vec<str, 0>, str, bool *>' requested here
typedef callback<void, vec<str>, str, bool *>::ref confcb;
        ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:114:3: note: in instantiation of template class 'ref<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
  ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:114:15: note: in instantiation of template class 'ptr<callback<void, vec<str, 0>, str, bool *> >' requested here
  confcb::ptr cnfcb;
              ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/parseopt.h:115:3: note: in instantiation of template class 'ref<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
  ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/parseopt.h:115:12: note: in instantiation of template class 'ptr<callback<void, str, void, void> >' requested here
  cbs::ptr scb;
           ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, conftab_el *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const conftab_el &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/ihash.h:229:12: note: in instantiation of template class 'ihash_core<conftab_el, &conftab_el::lnk>' requested here
  : public ihash_core<V, field>
           ^
../libasync/parseopt.h:178:71: note: in instantiation of template class 'ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk, hashfn<const str>, equals<const str> >' requested here
  ihash<const str, conftab_el, &conftab_el::lcname, &conftab_el::lnk> tab;
                                                                      ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:73:16: note: in instantiation of template class 'ptr<hostent>' requested here
  ptr<hostent> h;
               ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:74:19: note: in instantiation of template class 'ptr<rbl_status>' requested here
  ptr<rbl_status> rs;
                  ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<sockaddr_in, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<sockaddr_in, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<sockaddr_in, void>, &qhash_slot<sockaddr_in, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:187:22: note: in instantiation of template class 'bhash<sockaddr_in, hashfn<sockaddr_in>, equals<sockaddr_in>, &qhash_slot<sockaddr_in, void>::link>' requested here
  bhash<sockaddr_in> bindaddrh;
                     ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, void> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, void> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:149:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, void>, &qhash_slot<str, void>::link>' requested here
  : public ihash_core<qhash_slot<K, void>, kludge> {
           ^
./asmtpd.h:202:14: note: in instantiation of template class 'bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link>' requested here
  bhash<str> nocheck;
             ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, long> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, long> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, long>, &qhash_slot<str, long>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:213:22: note: in instantiation of template class 'qhash<str, long, hashfn<str>, equals<str>, qhash_lookup_return<long>, &qhash_slot<str, long>::link>' requested here
  qhash<str, time_t> warn_filter;
                     ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:373:31: note: in instantiation of template class 'ptr<const rbl_status>' requested here
  const ptr<const rbl_status> rblcon;
                              ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:386:15: note: in instantiation of template class 'ptr<mxlist>' requested here
  ptr<mxlist> mxl;
              ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:454:28: note: in instantiation of template class 'ptr<const hostent>' requested here
  const ptr<const hostent> ptr_cache;
                           ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:473:21: note: in instantiation of template class 'ptr<const mxlist>' requested here
  ptr<const mxlist> get_mxl () const { return mxl; }
                    ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:491:9: note: in instantiation of template class 'callback<void, ref<progout>, void, void>' requested here
typedef callback<void, ref<progout> >::ref runprogcb_t;
        ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:524:11: note: in instantiation of template class 'callback<void, avif::disp_t, str, void>' requested here
  typedef callback<void, disp_t, str>::ref cb_t;
          ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:533:14: note: in instantiation of template class 'ref<callback<void, avif::disp_t, str, void> >' requested here
  const cb_t cb;
             ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/list.h:129:27: note: in instantiation of template class 'callback<void, avif::result *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) const {
                          ^
./asmtpd.h:539:32: note: in instantiation of template class 'tailq<avif::result, &avif::result::link>' requested here
  tailq<result, &result::link> reslist;
                               ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from starttls.C:24:
./asmtpd.h:571:1: warning: 'enqmsg' defined as a class here but previously declared as a struct; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
class enqmsg {
^
./asmtpd.h:354:1: note: did you mean class here?
struct enqmsg;
^~~~~~
class
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
./asmtpd.h:617:9: note: in instantiation of template class 'callback<void, str, ptr<mxlist>, void>' requested here
typedef callback<void, str, ptr<mxlist> >::ref vrfycb_t;
        ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<str, str> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<str, str> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<str, str>, &qhash_slot<str, str>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
./asmtpd.h:622:19: note: in instantiation of template class 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>' requested here
  qhash<str, str> table;
                  ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
./asmtpd.h:694:11: note: in instantiation of template class 'callback<void, spf_t *, void, void>' requested here
  typedef callback<void, spf_t *>::ref cb_t;
          ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:696:3: note: in instantiation of template class 'ref<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
  ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:696:13: note: in instantiation of template class 'ptr<callback<void, spf_t *, void, void> >' requested here
  cb_t::ptr cb;
            ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./asmtpd.h:713:20: note: in instantiation of template class 'ref<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
  ref<bhash<str> > loopcheck;
                   ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./asmtpd.h:762:20: note: in instantiation of template class 'ptr<bhash<str, hashfn<str>, equals<str>, &qhash_slot<str, void>::link> >' requested here
         ptr<bhash<str> > loopcheck = NULL, int recdepth = 0);
                          ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
./asmtpd.h:770:9: note: in instantiation of template class 'callback<void, spf_result, str, str>' requested here
typedef callback<void, spf_result, str, str>::ref spfckcb_t;
        ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./async_ssl.h:48:13: note: in instantiation of template class 'ptr<suio>' requested here
  ptr<suio> oldout;
            ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./async_ssl.h:86:22: note: in instantiation of template class 'ref<aiossl>' requested here
  static ref<aiossl> alloc (int fd, size_t rbsz = defrbufsize)
                     ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:196:27: note: in instantiation of template class 'callback<void, qhash_slot<int, dh_st *> *, void, void>' requested here
  void traverse (typename callback<void, T *>::ref cb) {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<int, dh_st *>, &qhash_slot<int, dh_st *>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
starttls.C:75:27: note: in instantiation of template class 'qhash<int, dh_st *, hashfn<int>, equals<int>, qhash_lookup_return<dh_st *>, &qhash_slot<int, dh_st *>::link>' requested here
  static qhash<int, DH *> parmtab;
                          ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/ihash.h:204:27: note: in instantiation of template class 'callback<void, const qhash_slot<int, dh_st *> &, void, void>' requested here
  void traverse (typename callback<void, const T &>::ref cb) const {
                          ^
../libasync/qhash.h:63:12: note: in instantiation of template class 'ihash_core<qhash_slot<int, dh_st *>, &qhash_slot<int, dh_st *>::link>' requested here
  : public ihash_core<qhash_slot<K, V>, kludge> {
           ^
starttls.C:75:27: note: in instantiation of template class 'qhash<int, dh_st *, hashfn<int>, equals<int>, qhash_lookup_return<dh_st *>, &qhash_slot<int, dh_st *>::link>' requested here
  static qhash<int, DH *> parmtab;
                          ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<str, str> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<str, str> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
./asmtpd.h:626:3: note: in instantiation of member function 'qhash<str, str, hashfn<str>, equals<str>, qhash_lookup_return<str>, &qhash_slot<str, str>::link>::~qhash' requested here
  map_base () : loadno (0) {}
  ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, qhash_slot<int, dh_st *> *, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<int, dh_st *, hashfn<int>, equals<int>, qhash_lookup_return<dh_st *>, &qhash_slot<int, dh_st *>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
starttls.C:75:27: note: in instantiation of member function 'qhash<int, dh_st *, hashfn<int>, equals<int>, qhash_lookup_return<dh_st *>, &qhash_slot<int, dh_st *>::link>::~qhash' requested here
  static qhash<int, DH *> parmtab;
                          ^
In file included from starttls.C:24:
In file included from ./asmtpd.h:25:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/qhash.h:90:21: note: in instantiation of template class 'ref<callback<void, const qhash_slot<int, dh_st *> &, void, void> >' requested here
    core::traverse (wrap (this, &qhash::delslot));
                    ^
../libasync/qhash.h:93:15: note: in instantiation of member function 'qhash<int, dh_st *, hashfn<int>, equals<int>, qhash_lookup_return<dh_st *>, &qhash_slot<int, dh_st *>::link>::clear' requested here
  ~qhash () { clear (); }
              ^
starttls.C:75:27: note: in instantiation of member function 'qhash<int, dh_st *, hashfn<int>, equals<int>, qhash_lookup_return<dh_st *>, &qhash_slot<int, dh_st *>::link>::~qhash' requested here
  static qhash<int, DH *> parmtab;
                          ^
96 warnings generated.
mv -f .deps/starttls.Tpo .deps/starttls.Po
x86_64-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall  -MT async_ssl.o -MD -MP -MF .deps/async_ssl.Tpo -c -o async_ssl.o async_ssl.C
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:29:
In file included from ../libasync/vec.h:30:
../libasync/array.h:85:29: warning: 'array' defined as a class template here but previously declared as a struct template; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
template<class T, size_t n> class array {
                            ^
../libasync/array.h:75:29: note: did you mean class here?
template<class T, size_t n> struct array;
                            ^~~~~~
                            class
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:673:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R> > ref;
          ^
../libasync/suio++.h:52:11: note: in instantiation of template class 'callback<void, void, void, void>' requested here
  typedef callback<void>::ref cb_t;
          ^
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:674:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R> > ptr;
          ^
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/suio++.h:57:10: note: in instantiation of template class 'ref<callback<void, void, void, void> >' requested here
    cb_t cb;
         ^
../libasync/suio++.h:250:28: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:250:28: note: did you mean class here?
extern void suio_vuprintf (struct suio *, const char *, va_list);
                           ^~~~~~
                           class
../libasync/suio++.h:251:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:251:27: note: did you mean class here?
extern void suio_uprintf (struct suio *, const char *, ...)
                          ^~~~~~
                          class
../libasync/suio++.h:268:27: warning: struct 'suio' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
char *suio_flatten (const struct suio *);
                          ^
../libasync/suio++.h:46:7: note: previous use is here
class suio {
      ^
../libasync/suio++.h:268:27: note: did you mean class here?
char *suio_flatten (const struct suio *);
                          ^~~~~~
                          class
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
../libasync/str.h:178:1: warning: 'bssstr' defined as a struct here but previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
struct bssstr : public str {
^
../libasync/str.h:91:10: note: did you mean struct here?
  friend class bssstr;
         ^~~~~
         struct
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/str.h:273:19: note: in instantiation of template class 'ref<suio>' requested here
  const ref<suio> uio;
                  ^
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:39:9: note: in instantiation of template class 'callback<void, int, void, void>' requested here
typedef callback<void, int>::ref cbi;
        ^
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:40:9: note: in instantiation of template class 'callback<void, str, void, void>' requested here
typedef callback<void, str>::ref cbs;
        ^
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
../libasync/callback.h:1186:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1> > ref;
          ^
../libasync/amisc.h:41:9: note: in instantiation of template class 'callback<void, bool, void, void>' requested here
typedef callback<void, bool>::ref cbb;
        ^
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1187:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1> > ptr;
          ^
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/amisc.h:104:16: note: in instantiation of template class 'ptr<callback<void, void, void, void> >' requested here
             cbv::ptr postforkcb = NULL, char *const *env = NULL);
                      ^
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/async.h:39:21: note: in instantiation of template class 'ref<callback<void, int, void, void> >' requested here
void chldcb (pid_t, cbi::ptr);
                    ^
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2212:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2, B3> > ref;
          ^
../libasync/async.h:77:24: note: in instantiation of template class 'callback<void, str, ptr<hostent>, int>' requested here
void identptr (int fd, callback<void, str, ptr<hostent>, int>::ref,
                       ^
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:2213:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2, B3> > ptr;
          ^
../libasync/callback.h:1699:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<callback<R, B1, B2> > ref;
          ^
../libasync/async.h:79:21: note: in instantiation of template class 'callback<void, str, int, void>' requested here
void ident (int fd, callback<void, str, int>::ref, unsigned timeout = 15);
                    ^
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
../libasync/callback.h:1700:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<callback<R, B1, B2> > ptr;
          ^
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:45:9: note: in instantiation of template class 'ptr<callback<void, str, int, void> >' requested here
  rcb_t rcb;
        ^
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:58:39: note: in instantiation of template class 'ref<callback<void, str, int, void> >' requested here
    { infn = &aios::rnone; rcb_t::ref cb = rcb; rcb = NULL; (*cb) (s, err); }
                                      ^
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:67:29: note: in instantiation of template class 'ptr<callback<void, int, void, void> >' requested here
  virtual void mkwcb (wcb_t cb) { if (fd >= 0) (*cb) (err); }
                            ^
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
../libasync/aios.h:116:20: note: in instantiation of template class 'ref<aios>' requested here
  static ref<aios> alloc (int fd, size_t rbsz = defrbufsize)
                   ^
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
../libasync/aios.h:161:44: note: in instantiation of template class 'ptr<aios>' requested here
  aiosout (const aios_t::ptr &a) : strbuf (a->outb), s(a) { s->outstart (); }
                                           ^
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:482:11: warning: struct 'ref' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ref<T> ref;
          ^
./async_ssl.h:48:13: note: in instantiation of template class 'ptr<suio>' requested here
  ptr<suio> oldout;
            ^
In file included from async_ssl.C:24:
In file included from ./async_ssl.h:28:
In file included from ../libasync/async.h:28:
In file included from ../libasync/amisc.h:29:
In file included from ../libasync/err.h:28:
In file included from ../libasync/str.h:29:
In file included from ../libasync/suio++.h:30:
In file included from ../libasync/callback.h:612:
../libasync/refcnt.h:420:11: warning: struct 'ptr' was previously declared as a class; this is valid, but may result in linker errors under the Microsoft C++ ABI [-Wmismatched-tags]
  typedef struct ptr<T> ptr;
          ^
./async_ssl.h:86:22: note: in instantiation of template class 'ref<aiossl>' requested here
  static ref<aiossl> alloc (int fd, size_t rbsz = defrbufsize)
                     ^
28 warnings generated.
mv -f .deps/async_ssl.Tpo .deps/async_ssl.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT synos.o -MD -MP -MF .deps/synos.Tpo -c -o synos.o synos.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/synos.Tpo .deps/synos.Po
/bin/bash ../libtool  --tag=CXX   --mode=link x86_64-linux-gnu-g++  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall   -Wl,-z,relro -Wl,-z,now -o asmtpd addrparse.o asmtpd.o auth.o avif.o config.o enqmsg.o mxcheck.o netpath.o osguess.o quota.o rbl.o rcptcheck.o runprog.o smtpd.o spf.o synfp.o vrfy.o starttls.o async_ssl.o synos.o ../libasync/libasync.a  -lpcap  -lssl -lcrypto -lresolv
libtool: link: x86_64-linux-gnu-g++ -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -std=gnu++98 -Wall -Wl,-z -Wl,relro -Wl,-z -Wl,now -o asmtpd addrparse.o asmtpd.o auth.o avif.o config.o enqmsg.o mxcheck.o netpath.o osguess.o quota.o rbl.o rcptcheck.o runprog.o smtpd.o spf.o synfp.o vrfy.o starttls.o async_ssl.o synos.o  ../libasync/libasync.a -lpcap -lssl -lcrypto -lresolv
make[3]: Leaving directory '/<<PKGBUILDDIR>>/asmtpd'
Making all in util
make[3]: Entering directory '/<<PKGBUILDDIR>>/util'
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT aliascheck.o -MD -MP -MF .deps/aliascheck.Tpo -c -o aliascheck.o aliascheck.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/aliascheck.Tpo .deps/aliascheck.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall   -c ./aliascheck_dbm.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT armor.o -MD -MP -MF .deps/armor.Tpo -c -o armor.o armor.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/armor.Tpo .deps/armor.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT aes.o -MD -MP -MF .deps/aes.Tpo -c -o aes.o aes.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/aes.Tpo .deps/aes.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT buf.o -MD -MP -MF .deps/buf.Tpo -c -o buf.o buf.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/buf.Tpo .deps/buf.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT clock_gettime.o -MD -MP -MF .deps/clock_gettime.Tpo -c -o clock_gettime.o clock_gettime.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/clock_gettime.Tpo .deps/clock_gettime.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT dbexp.o -MD -MP -MF .deps/dbexp.Tpo -c -o dbexp.o dbexp.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/dbexp.Tpo .deps/dbexp.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT flock.o -MD -MP -MF .deps/flock.Tpo -c -o flock.o flock.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/flock.Tpo .deps/flock.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT getopt_long.o -MD -MP -MF .deps/getopt_long.Tpo -c -o getopt_long.o getopt_long.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/getopt_long.Tpo .deps/getopt_long.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT mdblock.o -MD -MP -MF .deps/mdblock.Tpo -c -o mdblock.o mdblock.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/mdblock.Tpo .deps/mdblock.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT sha1.o -MD -MP -MF .deps/sha1.Tpo -c -o sha1.o sha1.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/sha1.Tpo .deps/sha1.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT straux.o -MD -MP -MF .deps/straux.Tpo -c -o straux.o straux.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/straux.Tpo .deps/straux.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT time.o -MD -MP -MF .deps/time.Tpo -c -o time.o time.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/time.Tpo .deps/time.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT version.o -MD -MP -MF .deps/version.Tpo -c -o version.o version.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/version.Tpo .deps/version.Po
rm -f libavutil.a
x86_64-linux-gnu-ar cru libavutil.a armor.o aes.o buf.o clock_gettime.o dbexp.o flock.o getopt_long.o mdblock.o sha1.o straux.o time.o version.o 
x86_64-linux-gnu-ar: `u' modifier ignored since `D' is the default (see `U')
x86_64-linux-gnu-ranlib libavutil.a
/bin/bash ../libtool  --tag=CC   --mode=link x86_64-linux-gnu-gcc  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -Wl,-z,relro -Wl,-z,now -static -Wl,-z,relro -Wl,-z,now -o aliascheck aliascheck.o aliascheck_dbm.o -L. -lavutil -L/usr/lib/x86_64-linux-gnu -ldb-5.3 -lresolv -lresolv
libtool: link: x86_64-linux-gnu-gcc -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall -Wl,-z -Wl,relro -Wl,-z -Wl,now -Wl,-z -Wl,relro -Wl,-z -Wl,now -o aliascheck aliascheck.o aliascheck_dbm.o  -L. -lavutil -L/usr/lib/x86_64-linux-gnu -ldb-5.3 -lresolv
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT dbutil.o -MD -MP -MF .deps/dbutil.Tpo -c -o dbutil.o dbutil.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/dbutil.Tpo .deps/dbutil.Po
/bin/bash ../libtool  --tag=CC   --mode=link x86_64-linux-gnu-gcc  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -Wl,-z,relro -Wl,-z,now -static -Wl,-z,relro -Wl,-z,now -o dbutil dbutil.o -L. -lavutil -L/usr/lib/x86_64-linux-gnu -ldb-5.3 -lresolv
libtool: link: x86_64-linux-gnu-gcc -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall -Wl,-z -Wl,relro -Wl,-z -Wl,now -Wl,-z -Wl,relro -Wl,-z -Wl,now -o dbutil dbutil.o  -L. -lavutil -L/usr/lib/x86_64-linux-gnu -ldb-5.3 -lresolv
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT edinplace.o -MD -MP -MF .deps/edinplace.Tpo -c -o edinplace.o edinplace.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/edinplace.Tpo .deps/edinplace.Po
/bin/bash ../libtool  --tag=CC   --mode=link x86_64-linux-gnu-gcc  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall   -Wl,-z,relro -Wl,-z,now -o edinplace edinplace.o -L. -lavutil -lresolv
libtool: link: x86_64-linux-gnu-gcc -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall -Wl,-z -Wl,relro -Wl,-z -Wl,now -o edinplace edinplace.o  -L. -lavutil -lresolv
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT escape.o -MD -MP -MF .deps/escape.Tpo -c -o escape.o escape.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/escape.Tpo .deps/escape.Po
/bin/bash ../libtool  --tag=CC   --mode=link x86_64-linux-gnu-gcc  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall   -Wl,-z,relro -Wl,-z,now -o escape escape.o -L. -lavutil -lresolv
libtool: link: x86_64-linux-gnu-gcc -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall -Wl,-z -Wl,relro -Wl,-z -Wl,now -o escape escape.o  -L. -lavutil -lresolv
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT synos.o -MD -MP -MF .deps/synos.Tpo -c -o synos.o synos.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/synos.Tpo .deps/synos.Po
/bin/bash ../libtool  --tag=CC   --mode=link x86_64-linux-gnu-gcc  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall   -Wl,-z,relro -Wl,-z,now -o synos synos.o -L. -lavutil -lresolv
libtool: link: x86_64-linux-gnu-gcc -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall -Wl,-z -Wl,relro -Wl,-z -Wl,now -o synos synos.o  -L. -lavutil -lresolv
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT macutil.o -MD -MP -MF .deps/macutil.Tpo -c -o macutil.o macutil.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/macutil.Tpo .deps/macutil.Po
/bin/bash ../libtool  --tag=CC   --mode=link x86_64-linux-gnu-gcc  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall   -Wl,-z,relro -Wl,-z,now -o macutil macutil.o -L. -lavutil -lresolv
libtool: link: x86_64-linux-gnu-gcc -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall -Wl,-z -Wl,relro -Wl,-z -Wl,now -o macutil macutil.o  -L. -lavutil -lresolv
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT match.o -MD -MP -MF .deps/match.Tpo -c -o match.o match.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/match.Tpo .deps/match.Po
/bin/bash ../libtool  --tag=CC   --mode=link x86_64-linux-gnu-gcc  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall   -Wl,-z,relro -Wl,-z,now -o match match.o -L. -lavutil -lresolv
libtool: link: x86_64-linux-gnu-gcc -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall -Wl,-z -Wl,relro -Wl,-z -Wl,now -o match match.o  -L. -lavutil -lresolv
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT smtpdcheck.o -MD -MP -MF .deps/smtpdcheck.Tpo -c -o smtpdcheck.o smtpdcheck.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/smtpdcheck.Tpo .deps/smtpdcheck.Po
/bin/bash ../libtool  --tag=CC   --mode=link x86_64-linux-gnu-gcc  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall   -Wl,-z,relro -Wl,-z,now -o smtpdcheck smtpdcheck.o -L. -lavutil -lresolv
libtool: link: x86_64-linux-gnu-gcc -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall -Wl,-z -Wl,relro -Wl,-z -Wl,now -o smtpdcheck smtpdcheck.o  -L. -lavutil -lresolv
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..  -DAVUTIL_MAIN=1 -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT omacutil.o -MD -MP -MF .deps/omacutil.Tpo -c -o omacutil.o omacutil.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/omacutil.Tpo .deps/omacutil.Po
/bin/bash ../libtool  --tag=CC   --mode=link x86_64-linux-gnu-gcc  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall   -Wl,-z,relro -Wl,-z,now -o omacutil omacutil.o -L. -lavutil -lresolv
libtool: link: x86_64-linux-gnu-gcc -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall -Wl,-z -Wl,relro -Wl,-z -Wl,now -o omacutil omacutil.o  -L. -lavutil -lresolv
make[3]: Leaving directory '/<<PKGBUILDDIR>>/util'
Making all in local
make[3]: Entering directory '/<<PKGBUILDDIR>>/local'
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT deliver.o -MD -MP -MF .deps/deliver.Tpo -c -o deliver.o deliver.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/deliver.Tpo .deps/deliver.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT copymsg.o -MD -MP -MF .deps/copymsg.Tpo -c -o copymsg.o copymsg.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/copymsg.Tpo .deps/copymsg.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT lock.o -MD -MP -MF .deps/lock.Tpo -c -o lock.o lock.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/lock.Tpo .deps/lock.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT mailbox.o -MD -MP -MF .deps/mailbox.Tpo -c -o mailbox.o mailbox.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
mailbox.c:71:26: warning: adding 'int' to a string does not append to the string [-Wstring-plus-int]
    if (strncmp ("From " + 5 - size, buf, size))
                 ~~~~~~~~^~~
mailbox.c:71:26: note: use array indexing to silence this warning
    if (strncmp ("From " + 5 - size, buf, size))
                         ^
                 &       [  ]
2 warnings generated.
mv -f .deps/mailbox.Tpo .deps/mailbox.Po
/bin/bash ../libtool  --tag=CC   --mode=link x86_64-linux-gnu-gcc  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall   -Wl,-z,relro -Wl,-z,now -o deliver deliver.o copymsg.o lock.o mailbox.o -L../util -lavutil -lresolv
libtool: link: x86_64-linux-gnu-gcc -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall -Wl,-z -Wl,relro -Wl,-z -Wl,now -o deliver deliver.o copymsg.o lock.o mailbox.o  -L../util -lavutil -lresolv
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT dotlock.o -MD -MP -MF .deps/dotlock.Tpo -c -o dotlock.o dotlock.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/dotlock.Tpo .deps/dotlock.Po
/bin/bash ../libtool  --tag=CC   --mode=link x86_64-linux-gnu-gcc  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall   -Wl,-z,relro -Wl,-z,now -o dotlock dotlock.o lock.o -L../util -lavutil -lresolv
libtool: link: x86_64-linux-gnu-gcc -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall -Wl,-z -Wl,relro -Wl,-z -Wl,now -o dotlock dotlock.o lock.o  -L../util -lavutil -lresolv
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT mailexec.o -MD -MP -MF .deps/mailexec.Tpo -c -o mailexec.o mailexec.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
mailexec.c:101:64: warning: variable 'err' is uninitialized when used here [-Wuninitialized]
      fprintf (stderr, "%s: fchdir: %s\n", progname, strerror (err));
                                                               ^~~
/usr/include/x86_64-linux-gnu/bits/stdio2.h:113:51: note: expanded from macro 'fprintf'
  __fprintf_chk (stream, __USE_FORTIFY_LEVEL - 1, __VA_ARGS__)
                                                  ^~~~~~~~~~~
mailexec.c:63:10: note: initialize the variable 'err' to silence this warning
  int err;
         ^
          = 0
2 warnings generated.
mv -f .deps/mailexec.Tpo .deps/mailexec.Po
/bin/bash ../libtool  --tag=CC   --mode=link x86_64-linux-gnu-gcc  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall   -Wl,-z,relro -Wl,-z,now -o mailexec mailexec.o lock.o -L../util -lavutil -lresolv
libtool: link: x86_64-linux-gnu-gcc -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall -Wl,-z -Wl,relro -Wl,-z -Wl,now -o mailexec mailexec.o lock.o  -L../util -lavutil -lresolv
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT local.o -MD -MP -MF .deps/local.Tpo -c -o local.o local.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/local.Tpo .deps/local.Po
x86_64-linux-gnu-gcc -DHAVE_CONFIG_H -I. -I..   -Wdate-time -D_FORTIFY_SOURCE=2 -I.. -I/usr/include/pcap  -I/usr/include -DETCDIR=\"/etc/avenger\" -DLIBEXEC=\"/usr/lib/mailavenger\" -DBINDIR=\"/usr/bin\" -DEXECDIR=LIBEXEC -DDATADIR=\"/usr/share/doc/mailavenger\" -DPIDDIR=\"/var/run\" -I../libasync  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall  -MT child.o -MD -MP -MF .deps/child.Tpo -c -o child.o child.c
warning: unknown warning option '-Werror=int-in-bool-context'; did you mean '-Werror=gnu-include-next'? [-Wunknown-warning-option]
1 warning generated.
mv -f .deps/child.Tpo .deps/child.Po
/bin/bash ../libtool  --tag=CC   --mode=link x86_64-linux-gnu-gcc  -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall   -Wl,-z,relro -Wl,-z,now -o avenger.local local.o child.o copymsg.o lock.o mailbox.o -L../util -lavutil -lresolv
libtool: link: x86_64-linux-gnu-gcc -g -O2 -fdebug-prefix-map=/<<PKGBUILDDIR>>=. -fstack-protector-strong -Wformat -Werror=format-security -Wno-error=int-in-bool-context -Wall -Wl,-z -Wl,relro -Wl,-z -Wl,now -o avenger.local local.o child.o copymsg.o lock.o mailbox.o  -L../util -lavutil -lresolv
make[3]: Leaving directory '/<<PKGBUILDDIR>>/local'
Making all in doc
make[3]: Entering directory '/<<PKGBUILDDIR>>/doc'
make[3]: Nothing to be done for 'all'.
make[3]: Leaving directory '/<<PKGBUILDDIR>>/doc'
Making all in etc
make[3]: Entering directory '/<<PKGBUILDDIR>>/etc'
make[3]: Nothing to be done for 'all'.
make[3]: Leaving directory '/<<PKGBUILDDIR>>/etc'
make[3]: Entering directory '/<<PKGBUILDDIR>>'
cd . \
  && CONFIG_FILES=avenger CONFIG_HEADERS= /bin/bash ./config.status
config.status: creating avenger
config.status: executing depfiles commands
config.status: executing libtool commands
chmod +x avenger
make[3]: Leaving directory '/<<PKGBUILDDIR>>'
make[2]: Leaving directory '/<<PKGBUILDDIR>>'
make[1]: Leaving directory '/<<PKGBUILDDIR>>'
touch build-stamp
 fakeroot debian/rules binary
dh_testdir
dh_testroot
dh_prep
dh_installdirs etc/avenger var/lib/mailavenger lib/systemd/system
# Add here commands to install the package into debian/mailavenger.
/usr/bin/make DESTDIR=/<<PKGBUILDDIR>>/debian/mailavenger install		
make[1]: Entering directory '/<<PKGBUILDDIR>>'
Making install in libasync
make[2]: Entering directory '/<<PKGBUILDDIR>>/libasync'
make[3]: Entering directory '/<<PKGBUILDDIR>>/libasync'
make[3]: Nothing to be done for 'install-exec-am'.
make[3]: Nothing to be done for 'install-data-am'.
make[3]: Leaving directory '/<<PKGBUILDDIR>>/libasync'
make[2]: Leaving directory '/<<PKGBUILDDIR>>/libasync'
Making install in asmtpd
make[2]: Entering directory '/<<PKGBUILDDIR>>/asmtpd'
make[3]: Entering directory '/<<PKGBUILDDIR>>/asmtpd'
 /bin/mkdir -p '/<<PKGBUILDDIR>>/debian/mailavenger/usr/sbin'
  /bin/bash ../libtool   --mode=install /usr/bin/install -c asmtpd '/<<PKGBUILDDIR>>/debian/mailavenger/usr/sbin'
libtool: install: /usr/bin/install -c asmtpd /<<PKGBUILDDIR>>/debian/mailavenger/usr/sbin/asmtpd
make[3]: Nothing to be done for 'install-data-am'.
make[3]: Leaving directory '/<<PKGBUILDDIR>>/asmtpd'
make[2]: Leaving directory '/<<PKGBUILDDIR>>/asmtpd'
Making install in util
make[2]: Entering directory '/<<PKGBUILDDIR>>/util'
make[3]: Entering directory '/<<PKGBUILDDIR>>/util'
 /bin/mkdir -p '/<<PKGBUILDDIR>>/debian/mailavenger/usr/bin'
  /bin/bash ../libtool   --mode=install /usr/bin/install -c aliascheck dbutil edinplace escape synos macutil match smtpdcheck '/<<PKGBUILDDIR>>/debian/mailavenger/usr/bin'
libtool: install: /usr/bin/install -c aliascheck /<<PKGBUILDDIR>>/debian/mailavenger/usr/bin/aliascheck
libtool: install: /usr/bin/install -c dbutil /<<PKGBUILDDIR>>/debian/mailavenger/usr/bin/dbutil
libtool: install: /usr/bin/install -c edinplace /<<PKGBUILDDIR>>/debian/mailavenger/usr/bin/edinplace
libtool: install: /usr/bin/install -c escape /<<PKGBUILDDIR>>/debian/mailavenger/usr/bin/escape
libtool: install: /usr/bin/install -c synos /<<PKGBUILDDIR>>/debian/mailavenger/usr/bin/synos
libtool: install: /usr/bin/install -c macutil /<<PKGBUILDDIR>>/debian/mailavenger/usr/bin/macutil
libtool: install: /usr/bin/install -c match /<<PKGBUILDDIR>>/debian/mailavenger/usr/bin/match
libtool: install: /usr/bin/install -c smtpdcheck /<<PKGBUILDDIR>>/debian/mailavenger/usr/bin/smtpdcheck
/usr/bin/make  install-exec-hook
make[4]: Entering directory '/<<PKGBUILDDIR>>/util'
rm -f /<<PKGBUILDDIR>>/debian/mailavenger/usr/bin/sendmac
ln /<<PKGBUILDDIR>>/debian/mailavenger/usr/bin/macutil \
	/<<PKGBUILDDIR>>/debian/mailavenger/usr/bin/sendmac
make[4]: Leaving directory '/<<PKGBUILDDIR>>/util'
make[3]: Nothing to be done for 'install-data-am'.
make[3]: Leaving directory '/<<PKGBUILDDIR>>/util'
make[2]: Leaving directory '/<<PKGBUILDDIR>>/util'
Making install in local
make[2]: Entering directory '/<<PKGBUILDDIR>>/local'
make[3]: Entering directory '/<<PKGBUILDDIR>>/local'
 /bin/mkdir -p '/<<PKGBUILDDIR>>/debian/mailavenger/usr/bin'
  /bin/bash ../libtool   --mode=install /usr/bin/install -c deliver dotlock mailexec '/<<PKGBUILDDIR>>/debian/mailavenger/usr/bin'
libtool: install: /usr/bin/install -c deliver /<<PKGBUILDDIR>>/debian/mailavenger/usr/bin/deliver
libtool: install: /usr/bin/install -c dotlock /<<PKGBUILDDIR>>/debian/mailavenger/usr/bin/dotlock
libtool: install: /usr/bin/install -c mailexec /<<PKGBUILDDIR>>/debian/mailavenger/usr/bin/mailexec
 /bin/mkdir -p '/<<PKGBUILDDIR>>/debian/mailavenger/usr/lib/mailavenger'
  /bin/bash ../libtool   --mode=install /usr/bin/install -c avenger.local '/<<PKGBUILDDIR>>/debian/mailavenger/usr/lib/mailavenger'
libtool: install: /usr/bin/install -c avenger.local /<<PKGBUILDDIR>>/debian/mailavenger/usr/lib/mailavenger/avenger.local
make[3]: Nothing to be done for 'install-data-am'.
make[3]: Leaving directory '/<<PKGBUILDDIR>>/local'
make[2]: Leaving directory '/<<PKGBUILDDIR>>/local'
Making install in doc
make[2]: Entering directory '/<<PKGBUILDDIR>>/doc'
make[3]: Entering directory '/<<PKGBUILDDIR>>/doc'
make[3]: Nothing to be done for 'install-exec-am'.
 /bin/mkdir -p '/<<PKGBUILDDIR>>/debian/mailavenger/usr/share/man/man1'
 /usr/bin/install -c -m 644 aliascheck.1 avenger.1 dbutil.1 deliver.1 dotlock.1 edinplace.1 escape.1 macutil.1 mailexec.1 match.1 smtpdcheck.1 synos.1 '/<<PKGBUILDDIR>>/debian/mailavenger/usr/share/man/man1'
 /bin/mkdir -p '/<<PKGBUILDDIR>>/debian/mailavenger/usr/share/man/man5'
 /usr/bin/install -c -m 644 asmtpd.conf.5 '/<<PKGBUILDDIR>>/debian/mailavenger/usr/share/man/man5'
 /bin/mkdir -p '/<<PKGBUILDDIR>>/debian/mailavenger/usr/share/man/man8'
 /usr/bin/install -c -m 644 asmtpd.8 avenger.local.8 '/<<PKGBUILDDIR>>/debian/mailavenger/usr/share/man/man8'
make[3]: Leaving directory '/<<PKGBUILDDIR>>/doc'
make[2]: Leaving directory '/<<PKGBUILDDIR>>/doc'
Making install in etc
make[2]: Entering directory '/<<PKGBUILDDIR>>/etc'
make[3]: Entering directory '/<<PKGBUILDDIR>>/etc'
make[3]: Nothing to be done for 'install-exec-am'.
 /bin/mkdir -p '/<<PKGBUILDDIR>>/debian/mailavenger/usr/share/doc/mailavenger'
 /usr/bin/install -c -m 644 pf.os '/<<PKGBUILDDIR>>/debian/mailavenger/usr/share/doc/mailavenger'
 /bin/mkdir -p '/<<PKGBUILDDIR>>/debian/mailavenger/usr/share/doc/mailavenger/avenger'
 /usr/bin/install -c -m 644 asmtpd.conf unknown avsendmail.m4 '/<<PKGBUILDDIR>>/debian/mailavenger/usr/share/doc/mailavenger/avenger'
 /bin/mkdir -p '/<<PKGBUILDDIR>>/debian/mailavenger/usr/share/doc/mailavenger/avenger'
 /usr/bin/install -c smtp-filter.pf smtp-filter.iptables '/<<PKGBUILDDIR>>/debian/mailavenger/usr/share/doc/mailavenger/avenger'
make[3]: Leaving directory '/<<PKGBUILDDIR>>/etc'
make[2]: Leaving directory '/<<PKGBUILDDIR>>/etc'
make[2]: Entering directory '/<<PKGBUILDDIR>>'
make[3]: Entering directory '/<<PKGBUILDDIR>>'
 /bin/mkdir -p '/<<PKGBUILDDIR>>/debian/mailavenger/usr/lib/mailavenger'
 /usr/bin/install -c avenger '/<<PKGBUILDDIR>>/debian/mailavenger/usr/lib/mailavenger'
 /bin/mkdir -p '/<<PKGBUILDDIR>>/debian/mailavenger/usr/share/doc/mailavenger/avenger'
 /usr/bin/install -c -m 644 INSTALL INSTALL.html '/<<PKGBUILDDIR>>/debian/mailavenger/usr/share/doc/mailavenger/avenger'
make[3]: Leaving directory '/<<PKGBUILDDIR>>'
make[2]: Leaving directory '/<<PKGBUILDDIR>>'
make[1]: Leaving directory '/<<PKGBUILDDIR>>'
# Ok, now place some basic configuration, but remember,
#  some very basic stuff is needed, that's why we don't start by default
dh_install debian/mailavenger/usr/share/doc/mailavenger/avenger/asmtpd.conf etc/avenger
dh_install debian/mailavenger/usr/share/doc/mailavenger/avenger/unknown etc/avenger
# See #624234
mv /<<PKGBUILDDIR>>/debian/mailavenger/usr/bin/deliver /<<PKGBUILDDIR>>/debian/mailavenger/usr/bin/avenger.deliver
mv /<<PKGBUILDDIR>>/debian/mailavenger/usr/share/man/man1/deliver.1 /<<PKGBUILDDIR>>/debian/mailavenger/usr/share/man/man1/avenger.deliver.1
# See #580397
mv /<<PKGBUILDDIR>>/debian/mailavenger/usr/share/man/man1/macutil.1 /<<PKGBUILDDIR>>/debian/mailavenger/usr/share/man/man8/macutil.8
sed -i 's/macutil 1/macutil 8/g' /<<PKGBUILDDIR>>/debian/mailavenger/usr/share/man/man8/macutil.8
# Lintian suggestion (Is something this guys can't do? ;) )
sed -i 's/writeable/writable/' /<<PKGBUILDDIR>>/debian/mailavenger/usr/share/man/man1/avenger.deliver.1	
# put service file where it should
dh_install etc/avenger.service lib/systemd/system
mv /<<PKGBUILDDIR>>/debian/mailavenger/lib/systemd/system/avenger.service /<<PKGBUILDDIR>>/debian/mailavenger/lib/systemd/system/mailavenger.service
sed -i 's@PIDFile=/var/run/asmtpd.pid@@' /<<PKGBUILDDIR>>/debian/mailavenger/lib/systemd/system/mailavenger.service
# Duplicated doc pages
rm /<<PKGBUILDDIR>>/debian/mailavenger/usr/share/doc/mailavenger/avenger/INSTALL.html
dh_testdir
dh_testroot
dh_installinit --no-enable --no-start
dh_installchangelogs NEWS
dh_installdocs README
dh_installsystemd --no-enable --no-start
dh_installman
dh_lintian
dh_link usr/share/man/man8/macutil.8.gz usr/share/man/man8/sendmac.8.gz
dh_strip
dh_compress -X usr/share/doc/mailavenger/pf.os
dh_fixperms
dh_installdeb
dh_shlibdeps
dh_gencontrol
dh_md5sums
dh_builddeb
dpkg-deb: building package 'mailavenger-dbgsym' in '../mailavenger-dbgsym_0.8.5-2_amd64.deb'.
dpkg-deb: building package 'mailavenger' in '../mailavenger_0.8.5-2_amd64.deb'.
 dpkg-genbuildinfo --build=binary
 dpkg-genchanges --build=binary >../mailavenger_0.8.5-2_amd64.changes
dpkg-genchanges: info: binary-only upload (no source code included)
 dpkg-source --after-build .
dpkg-buildpackage: info: binary-only upload (no source included)
--------------------------------------------------------------------------------
Build finished at 2020-02-25T01:52:35Z

Finished
--------

I: Built successfully

+------------------------------------------------------------------------------+
| Changes                                                                      |
+------------------------------------------------------------------------------+


mailavenger_0.8.5-2_amd64.changes:
----------------------------------

Format: 1.8
Date: Sat, 20 Jul 2019 17:53:09 -0300
Source: mailavenger
Binary: mailavenger mailavenger-dbgsym
Architecture: amd64
Version: 0.8.5-2
Distribution: unstable
Urgency: medium
Maintainer: Ulises Vitulli <dererk@debian.org>
Changed-By: Ulises Vitulli <dererk@debian.org>
Description:
 mailavenger - Highly configurable, MTA-independent SMTP filter server
Closes: 928467 931466
Changes:
 mailavenger (0.8.5-2) unstable; urgency=medium
 .
   * Added Salsa CI, with tests courtesy of PhilHands. Thanks!
   * Replicate sysvinit behaviour on initial install (Closes: #931466),
     Thanks PhilHands!
   * Fix build vs host arguments passed at configure-time, thanks HelmutGrohne!
     (Closes: #928467).
   * Removed already upstream merged patches.
   * Local patch for fixing some manpages typos.
   * Upgraded to debian/copyright machine-readable format.
   * Bump up Standard-version, update compat to v12.
Checksums-Sha1:
 2ac50fd7d0e47bdc4a5717f13bb5b280c7e53a0b 1640820 mailavenger-dbgsym_0.8.5-2_amd64.deb
 1dbd1372975dc9bee3477796ef2cd93e3fb64fe0 5438 mailavenger_0.8.5-2_amd64.buildinfo
 b3437bd8cb61083289f693752183777a7de0e0dd 442004 mailavenger_0.8.5-2_amd64.deb
Checksums-Sha256:
 ead77e7030a63f2bb55b83b58daada577dbdc31ffc8567fec28be74e4ed9f6d8 1640820 mailavenger-dbgsym_0.8.5-2_amd64.deb
 11c091d94332c8bd728d9b9575cd8c2bcbc45dea41e45efdf427e0d014268343 5438 mailavenger_0.8.5-2_amd64.buildinfo
 458f1c6022bf2f396195ebf0482a631ae20d5c70ebbb642f8fb47595e8175e47 442004 mailavenger_0.8.5-2_amd64.deb
Files:
 a51b31f0f8c32ffd20f35065d93f2b53 1640820 debug optional mailavenger-dbgsym_0.8.5-2_amd64.deb
 1f79ef0e21ae65175e87e714efc57dff 5438 mail optional mailavenger_0.8.5-2_amd64.buildinfo
 279af9d14605b634e7ac6d529f555e0f 442004 mail optional mailavenger_0.8.5-2_amd64.deb

+------------------------------------------------------------------------------+
| Buildinfo                                                                    |
+------------------------------------------------------------------------------+

Format: 1.0
Source: mailavenger
Binary: mailavenger
Architecture: amd64
Version: 0.8.5-2
Checksums-Md5:
 a51b31f0f8c32ffd20f35065d93f2b53 1640820 mailavenger-dbgsym_0.8.5-2_amd64.deb
 279af9d14605b634e7ac6d529f555e0f 442004 mailavenger_0.8.5-2_amd64.deb
Checksums-Sha1:
 2ac50fd7d0e47bdc4a5717f13bb5b280c7e53a0b 1640820 mailavenger-dbgsym_0.8.5-2_amd64.deb
 b3437bd8cb61083289f693752183777a7de0e0dd 442004 mailavenger_0.8.5-2_amd64.deb
Checksums-Sha256:
 ead77e7030a63f2bb55b83b58daada577dbdc31ffc8567fec28be74e4ed9f6d8 1640820 mailavenger-dbgsym_0.8.5-2_amd64.deb
 458f1c6022bf2f396195ebf0482a631ae20d5c70ebbb642f8fb47595e8175e47 442004 mailavenger_0.8.5-2_amd64.deb
Build-Origin: Debian
Build-Architecture: amd64
Build-Date: Tue, 25 Feb 2020 01:52:34 +0000
Build-Path: /<<PKGBUILDDIR>>
Installed-Build-Depends:
 autoconf (= 2.69-11.1),
 automake (= 1:1.16.1-4),
 autopoint (= 0.19.8.1-10),
 autotools-dev (= 20180224.1),
 base-files (= 11),
 base-passwd (= 3.5.47),
 bash (= 5.0-5),
 binutils (= 2.34-3),
 binutils-common (= 2.34-3),
 binutils-x86-64-linux-gnu (= 2.34-3),
 bsdmainutils (= 11.1.2+b1),
 bsdutils (= 1:2.34-0.1),
 build-essential (= 12.8),
 bzip2 (= 1.0.8-2),
 clang-8 (= 1:8.0.1-7),
 coreutils (= 8.30-3+b1),
 cpp (= 4:9.2.1-3.1),
 cpp-9 (= 9.2.1-29),
 dash (= 0.5.10.2-6),
 debconf (= 1.5.73),
 debhelper (= 12.9),
 debianutils (= 4.9.1),
 dh-autoreconf (= 19),
 dh-strip-nondeterminism (= 1.6.3-2),
 diffutils (= 1:3.7-3),
 dpkg (= 1.19.7),
 dpkg-dev (= 1.19.7),
 dwz (= 0.13-5),
 fdisk (= 2.34-0.1),
 file (= 1:5.38-4),
 findutils (= 4.7.0-1),
 g++ (= 4:9.2.1-3.1),
 g++-9 (= 9.2.1-29),
 gcc (= 4:9.2.1-3.1),
 gcc-10-base (= 10-20200222-1),
 gcc-8-base (= 8.3.0-29),
 gcc-9 (= 9.2.1-29),
 gcc-9-base (= 9.2.1-29),
 gettext (= 0.19.8.1-10),
 gettext-base (= 0.19.8.1-10),
 grep (= 3.4-1),
 groff-base (= 1.22.4-4),
 gzip (= 1.9-3+b1),
 hostname (= 3.23),
 init-system-helpers (= 1.57),
 intltool-debian (= 0.35.0+20060710.5),
 lib32gcc-s1 (= 10-20200222-1),
 lib32gcc1 (= 1:10-20200222-1),
 lib32stdc++6 (= 10-20200222-1),
 libacl1 (= 2.2.53-5),
 libarchive-zip-perl (= 1.67-1),
 libasan5 (= 9.2.1-29),
 libatomic1 (= 10-20200222-1),
 libattr1 (= 1:2.4.48-5),
 libaudit-common (= 1:2.8.5-2),
 libaudit1 (= 1:2.8.5-2+b1),
 libbinutils (= 2.34-3),
 libblkid1 (= 2.34-0.1),
 libbsd0 (= 0.10.0-1),
 libbz2-1.0 (= 1.0.8-2),
 libc-bin (= 2.29-10),
 libc-dev-bin (= 2.29-10),
 libc6 (= 2.29-10),
 libc6-dev (= 2.29-10),
 libc6-i386 (= 2.29-10),
 libcap-ng0 (= 0.7.9-2.1+b1),
 libcc1-0 (= 10-20200222-1),
 libclang-common-8-dev (= 1:8.0.1-7),
 libclang1-8 (= 1:8.0.1-7),
 libcroco3 (= 0.6.13-1),
 libcrypt-dev (= 1:4.4.10-10),
 libcrypt1 (= 1:4.4.10-10),
 libctf-nobfd0 (= 2.34-3),
 libctf0 (= 2.34-3),
 libdb-dev (= 5.3.1+nmu1),
 libdb5.3 (= 5.3.28+dfsg1-0.6),
 libdb5.3-dev (= 5.3.28+dfsg1-0.6),
 libdebconfclient0 (= 0.251),
 libdebhelper-perl (= 12.9),
 libdpkg-perl (= 1.19.7),
 libedit2 (= 3.1-20191231-1),
 libelf1 (= 0.176-1.1),
 libfdisk1 (= 2.34-0.1),
 libffi7 (= 3.3-3),
 libfile-stripnondeterminism-perl (= 1.6.3-2),
 libgc1c2 (= 1:7.6.4-0.4),
 libgcc-8-dev (= 8.3.0-29),
 libgcc-9-dev (= 9.2.1-29),
 libgcc-s1 (= 10-20200222-1),
 libgcc1 (= 1:10-20200222-1),
 libgcrypt20 (= 1.8.5-5),
 libgdbm-compat4 (= 1.18.1-5),
 libgdbm6 (= 1.18.1-5),
 libglib2.0-0 (= 2.62.4-2),
 libgmp10 (= 2:6.2.0+dfsg-4),
 libgomp1 (= 10-20200222-1),
 libgpg-error0 (= 1.37-1),
 libicu63 (= 63.2-2),
 libisl22 (= 0.22.1-1),
 libitm1 (= 10-20200222-1),
 libllvm8 (= 1:8.0.1-7),
 liblsan0 (= 10-20200222-1),
 liblz4-1 (= 1.9.2-2),
 liblzma5 (= 5.2.4-1+b1),
 libmagic-mgc (= 1:5.38-4),
 libmagic1 (= 1:5.38-4),
 libmount1 (= 2.34-0.1),
 libmpc3 (= 1.1.0-1),
 libmpfr6 (= 4.0.2-1),
 libmpx2 (= 8.3.0-29),
 libncursesw6 (= 6.1+20191019-1),
 libobjc-8-dev (= 8.3.0-29),
 libobjc4 (= 10-20200222-1),
 libpam-modules (= 1.3.1-5),
 libpam-modules-bin (= 1.3.1-5),
 libpam-runtime (= 1.3.1-5),
 libpam0g (= 1.3.1-5),
 libpcap0.8 (= 1.9.1-2),
 libpcap0.8-dev (= 1.9.1-2),
 libpcre2-8-0 (= 10.34-7),
 libpcre3 (= 2:8.39-12+b1),
 libperl5.30 (= 5.30.0-9),
 libpipeline1 (= 1.5.2-2),
 libquadmath0 (= 10-20200222-1),
 libsasl2-2 (= 2.1.27+dfsg-2),
 libsasl2-dev (= 2.1.27+dfsg-2),
 libsasl2-modules-db (= 2.1.27+dfsg-2),
 libseccomp2 (= 2.4.2-2),
 libselinux1 (= 3.0-1+b1),
 libsigsegv2 (= 2.12-2),
 libsmartcols1 (= 2.34-0.1),
 libssl-dev (= 1.1.1d-2),
 libssl1.1 (= 1.1.1d-2),
 libstdc++-8-dev (= 8.3.0-29),
 libstdc++-9-dev (= 9.2.1-29),
 libstdc++6 (= 10-20200222-1),
 libsub-override-perl (= 0.09-2),
 libsystemd0 (= 244.3-1),
 libtinfo6 (= 6.1+20191019-1),
 libtool (= 2.4.6-13),
 libtsan0 (= 10-20200222-1),
 libubsan1 (= 10-20200222-1),
 libuchardet0 (= 0.0.6-3),
 libudev1 (= 244.3-1),
 libunistring2 (= 0.9.10-2),
 libuuid1 (= 2.34-0.1),
 libxml2 (= 2.9.10+dfsg-3),
 linux-libc-dev (= 5.4.19-1),
 login (= 1:4.8.1-1),
 lsb-base (= 11.1.0),
 m4 (= 1.4.18-4),
 make (= 4.2.1-1.2),
 man-db (= 2.9.0-2),
 mawk (= 1.3.4.20200120-2),
 ncurses-base (= 6.1+20191019-1),
 ncurses-bin (= 6.1+20191019-1),
 patch (= 2.7.6-6),
 perl (= 5.30.0-9),
 perl-base (= 5.30.0-9),
 perl-modules-5.30 (= 5.30.0-9),
 po-debconf (= 1.0.21),
 sed (= 4.7-1),
 sensible-utils (= 0.0.12+nmu1),
 sysvinit-utils (= 2.96-2.1),
 tar (= 1.30+dfsg-6+b1),
 util-linux (= 2.34-0.1),
 xz-utils (= 5.2.4-1+b1),
 zlib1g (= 1:1.2.11.dfsg-1.2)
Environment:
 DEB_BUILD_OPTIONS="parallel=4"
 LANG="C.UTF-8"
 LC_ALL="C.UTF-8"
 SOURCE_DATE_EPOCH="1563655989"


+------------------------------------------------------------------------------+
| Package contents                                                             |
+------------------------------------------------------------------------------+


mailavenger-dbgsym_0.8.5-2_amd64.deb
------------------------------------

 new Debian package, version 2.0.
 size 1640820 bytes: control archive=1124 bytes.
     841 bytes,    12 lines      control              
    1378 bytes,    13 lines      md5sums              
 Package: mailavenger-dbgsym
 Source: mailavenger
 Version: 0.8.5-2
 Auto-Built-Package: debug-symbols
 Architecture: amd64
 Maintainer: Ulises Vitulli <dererk@debian.org>
 Installed-Size: 1976
 Depends: mailavenger (= 0.8.5-2)
 Section: debug
 Priority: optional
 Description: debug symbols for mailavenger
 Build-Ids: 065c9b34f169b184133c8029982e5f410644f0f0 10321d8db5926c7ee5b747951eab4118f75f230e 1f1fb3817d8c45e69126ea678921fdd017b165be 572361a1ae9062ba84dcb564741b3c6a2fd1fb6d 7dfdb3f230193d32993bdd0ea41c86089297f629 81423e28fea18abf846b3b0c0bb91697e6758800 89e50d6eb2979126adccb2d774db531c8be3f1b3 8d345010b9e5709503fdd23a087bb5284f385e4a 8e43359dc210e7e583adb52c9c5833c712240180 b8f32dd65934bc803aa9b58d32a842908c970c4a d736b5f889a8ea14dfd0d83888c1ffb4d80a2c02 f64dc710f677692c42018afdbcf34d62e9a22e8f fff2e5867e2ae23ffe2d2dbc0aa50739fe18c4e9

drwxr-xr-x root/root         0 2019-07-20 20:53 ./
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/lib/
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/lib/debug/
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/lib/debug/.build-id/
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/lib/debug/.build-id/06/
-rw-r--r-- root/root     32824 2019-07-20 20:53 ./usr/lib/debug/.build-id/06/5c9b34f169b184133c8029982e5f410644f0f0.debug
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/lib/debug/.build-id/10/
-rw-r--r-- root/root     16144 2019-07-20 20:53 ./usr/lib/debug/.build-id/10/321d8db5926c7ee5b747951eab4118f75f230e.debug
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/lib/debug/.build-id/1f/
-rw-r--r-- root/root     18152 2019-07-20 20:53 ./usr/lib/debug/.build-id/1f/1fb3817d8c45e69126ea678921fdd017b165be.debug
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/lib/debug/.build-id/57/
-rw-r--r-- root/root     29456 2019-07-20 20:53 ./usr/lib/debug/.build-id/57/2361a1ae9062ba84dcb564741b3c6a2fd1fb6d.debug
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/lib/debug/.build-id/7d/
-rw-r--r-- root/root   1707304 2019-07-20 20:53 ./usr/lib/debug/.build-id/7d/fdb3f230193d32993bdd0ea41c86089297f629.debug
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/lib/debug/.build-id/81/
-rw-r--r-- root/root     16696 2019-07-20 20:53 ./usr/lib/debug/.build-id/81/423e28fea18abf846b3b0c0bb91697e6758800.debug
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/lib/debug/.build-id/89/
-rw-r--r-- root/root     26416 2019-07-20 20:53 ./usr/lib/debug/.build-id/89/e50d6eb2979126adccb2d774db531c8be3f1b3.debug
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/lib/debug/.build-id/8d/
-rw-r--r-- root/root     44432 2019-07-20 20:53 ./usr/lib/debug/.build-id/8d/345010b9e5709503fdd23a087bb5284f385e4a.debug
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/lib/debug/.build-id/8e/
-rw-r--r-- root/root     16272 2019-07-20 20:53 ./usr/lib/debug/.build-id/8e/43359dc210e7e583adb52c9c5833c712240180.debug
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/lib/debug/.build-id/b8/
-rw-r--r-- root/root     37272 2019-07-20 20:53 ./usr/lib/debug/.build-id/b8/f32dd65934bc803aa9b58d32a842908c970c4a.debug
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/lib/debug/.build-id/d7/
-rw-r--r-- root/root     24416 2019-07-20 20:53 ./usr/lib/debug/.build-id/d7/36b5f889a8ea14dfd0d83888c1ffb4d80a2c02.debug
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/lib/debug/.build-id/f6/
-rw-r--r-- root/root     11160 2019-07-20 20:53 ./usr/lib/debug/.build-id/f6/4dc710f677692c42018afdbcf34d62e9a22e8f.debug
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/lib/debug/.build-id/ff/
-rw-r--r-- root/root     14976 2019-07-20 20:53 ./usr/lib/debug/.build-id/ff/f2e5867e2ae23ffe2d2dbc0aa50739fe18c4e9.debug
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/share/
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/share/doc/
lrwxrwxrwx root/root         0 2019-07-20 20:53 ./usr/share/doc/mailavenger-dbgsym -> mailavenger


mailavenger_0.8.5-2_amd64.deb
-----------------------------

 new Debian package, version 2.0.
 size 442004 bytes: control archive=3244 bytes.
      95 bytes,     4 lines      conffiles            
    1805 bytes,    43 lines      control              
    2873 bytes,    44 lines      md5sums              
    1545 bytes,    36 lines   *  postinst             #!/bin/sh
     797 bytes,    26 lines   *  postrm               #!/bin/sh
     371 bytes,    17 lines   *  preinst              #!/bin/sh
     225 bytes,     7 lines   *  prerm                #!/bin/sh
 Package: mailavenger
 Version: 0.8.5-2
 Architecture: amd64
 Maintainer: Ulises Vitulli <dererk@debian.org>
 Installed-Size: 1359
 Pre-Depends: adduser (>= 3.40)
 Depends: libc6 (>= 2.17), libdb5.3, libgcc-s1 (>= 3.0), libpcap0.8 (>= 0.9.8), libssl1.1 (>= 1.1.0), libstdc++6 (>= 4.1.1), init-system-helpers (>= 1.51), default-mta | mail-transport-agent | postfix, lsb-base
 Section: mail
 Priority: optional
 Homepage: http://www.mailavenger.org/
 Description: Highly configurable, MTA-independent SMTP filter server
  Mail Avenger is a highly configurable, MTA-independent Spam filtering solution
  at SMTP'ing time.
  .
  The criteria Mail Avenger uses to handle filtering is based on a "how is it
  being send?" fashion, instead of the classical "what are you sending?" model,
  in which the body or mail itself is analysed looking for SPAM patterns,
  keywords, bad words or applying Bayesian filters, like SpamAssassin, DSPAM or
  SpamBayes does.
  .
  A distinguishing feature of Mail Avenger is that it allows you to reject spam
  during SMTP time, before even spooling messages in your local mail queue.
  This carries interesting features like identifying most clients OS (using
  TCP SYN fingerprints), acquiring client's network information, embed
  cryptographically secure expiration times in temporary mail addresses
  to validate mail before receiving the message body, between others.
  .
  This is a partial list of features:
   * Mail-bomb protection
   * TCP filtering
   * Network-level traffic analysis
   * SMTP-level traffic analysis
   * SMTP callbacks
   * Per-user and per-user-extension mail scripts
   * Per-user mail relay checks
   * Virtual domain mapping
   * Alias to user mapping
   * RBL support
   * SPF
   * SPF language queries
   * Asynchronous DNS queries
   * "Bodytest" support
   * SMTP STARTTLS support

drwxr-xr-x root/root         0 2019-07-20 20:53 ./
drwxr-xr-x root/root         0 2019-07-20 20:53 ./etc/
drwxr-xr-x root/root         0 2019-07-20 20:53 ./etc/avenger/
-rw-r--r-- root/root      2837 2019-07-20 20:53 ./etc/avenger/asmtpd.conf
-rw-r--r-- root/root       832 2019-07-20 20:53 ./etc/avenger/unknown
drwxr-xr-x root/root         0 2019-07-20 20:53 ./etc/default/
-rw-r--r-- root/root       634 2019-07-20 19:33 ./etc/default/mailavenger
drwxr-xr-x root/root         0 2019-07-20 20:53 ./etc/init.d/
-rwxr-xr-x root/root      2692 2019-07-20 19:33 ./etc/init.d/mailavenger
drwxr-xr-x root/root         0 2019-07-20 20:53 ./lib/
drwxr-xr-x root/root         0 2019-07-20 20:53 ./lib/systemd/
drwxr-xr-x root/root         0 2019-07-20 20:53 ./lib/systemd/system/
-rw-r--r-- root/root       232 2019-07-20 20:53 ./lib/systemd/system/mailavenger.service
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/bin/
-rwxr-xr-x root/root     18456 2019-07-20 20:53 ./usr/bin/aliascheck
-rwxr-xr-x root/root     34856 2019-07-20 20:53 ./usr/bin/avenger.deliver
-rwxr-xr-x root/root     26656 2019-07-20 20:53 ./usr/bin/dbutil
-rwxr-xr-x root/root     18456 2019-07-20 20:53 ./usr/bin/dotlock
-rwxr-xr-x root/root     22560 2019-07-20 20:53 ./usr/bin/edinplace
-rwxr-xr-x root/root     14360 2019-07-20 20:53 ./usr/bin/escape
-rwxr-xr-x root/root     55320 2019-07-20 20:53 ./usr/bin/macutil
-rwxr-xr-x root/root     30760 2019-07-20 20:53 ./usr/bin/mailexec
-rwxr-xr-x root/root     22560 2019-07-20 20:53 ./usr/bin/match
hrwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/bin/sendmac link to ./usr/bin/macutil
-rwxr-xr-x root/root     18456 2019-07-20 20:53 ./usr/bin/smtpdcheck
-rwxr-xr-x root/root     18472 2019-07-20 20:53 ./usr/bin/synos
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/lib/
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/lib/mailavenger/
-rwxr-xr-x root/root      5376 2019-07-20 20:53 ./usr/lib/mailavenger/avenger
-rwxr-xr-x root/root     47176 2019-07-20 20:53 ./usr/lib/mailavenger/avenger.local
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/sbin/
-rwxr-xr-x root/root    777576 2019-07-20 20:53 ./usr/sbin/asmtpd
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/share/
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/share/doc/
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/share/doc/mailavenger/
-rw-r--r-- root/root      3518 2019-07-20 19:33 ./usr/share/doc/mailavenger/README.Debian.gz
-rw-r--r-- root/root      2358 2009-06-26 21:15 ./usr/share/doc/mailavenger/README.gz
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/share/doc/mailavenger/avenger/
-rw-r--r-- root/root      5897 2019-07-20 20:53 ./usr/share/doc/mailavenger/avenger/INSTALL.gz
-rw-r--r-- root/root      2837 2019-07-20 20:53 ./usr/share/doc/mailavenger/avenger/asmtpd.conf
-rw-r--r-- root/root      3012 2019-07-20 20:53 ./usr/share/doc/mailavenger/avenger/avsendmail.m4
-rw-r--r-- root/root      1587 2019-07-20 20:53 ./usr/share/doc/mailavenger/avenger/smtp-filter.iptables
-rw-r--r-- root/root      1882 2019-07-20 20:53 ./usr/share/doc/mailavenger/avenger/smtp-filter.pf
-rw-r--r-- root/root       832 2019-07-20 20:53 ./usr/share/doc/mailavenger/avenger/unknown
-rw-r--r-- root/root      1766 2019-07-20 20:53 ./usr/share/doc/mailavenger/changelog.Debian.gz
-rw-r--r-- root/root      6518 2018-10-09 06:27 ./usr/share/doc/mailavenger/changelog.gz
-rw-r--r-- root/root      4043 2019-07-20 20:53 ./usr/share/doc/mailavenger/copyright
-rw-r--r-- root/root     28309 2019-07-20 20:53 ./usr/share/doc/mailavenger/pf.os
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/share/lintian/
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/share/lintian/overrides/
-rw-r--r-- root/root       368 2019-07-20 19:33 ./usr/share/lintian/overrides/mailavenger
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/share/man/
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/share/man/man1/
-rw-r--r-- root/root      4040 2019-07-20 20:53 ./usr/share/man/man1/aliascheck.1.gz
-rw-r--r-- root/root     18294 2019-07-20 20:53 ./usr/share/man/man1/avenger.1.gz
-rw-r--r-- root/root      4364 2019-07-20 20:53 ./usr/share/man/man1/avenger.deliver.1.gz
-rw-r--r-- root/root      4585 2019-07-20 20:53 ./usr/share/man/man1/dbutil.1.gz
-rw-r--r-- root/root      3258 2019-07-20 20:53 ./usr/share/man/man1/dotlock.1.gz
-rw-r--r-- root/root      3665 2019-07-20 20:53 ./usr/share/man/man1/edinplace.1.gz
-rw-r--r-- root/root      2546 2019-07-20 20:53 ./usr/share/man/man1/escape.1.gz
-rw-r--r-- root/root      3903 2019-07-20 20:53 ./usr/share/man/man1/mailexec.1.gz
-rw-r--r-- root/root      4424 2019-07-20 20:53 ./usr/share/man/man1/match.1.gz
-rw-r--r-- root/root      3345 2019-07-20 20:53 ./usr/share/man/man1/smtpdcheck.1.gz
-rw-r--r-- root/root      2712 2019-07-20 20:53 ./usr/share/man/man1/synos.1.gz
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/share/man/man5/
-rw-r--r-- root/root     14730 2019-07-20 20:53 ./usr/share/man/man5/asmtpd.conf.5.gz
drwxr-xr-x root/root         0 2019-07-20 20:53 ./usr/share/man/man8/
-rw-r--r-- root/root      7612 2019-07-20 20:53 ./usr/share/man/man8/asmtpd.8.gz
-rw-r--r-- root/root      8960 2019-07-20 20:53 ./usr/share/man/man8/avenger.local.8.gz
-rw-r--r-- root/root      5342 2019-07-20 20:53 ./usr/share/man/man8/macutil.8.gz
lrwxrwxrwx root/root         0 2019-07-20 20:53 ./usr/share/man/man8/sendmac.8.gz -> macutil.8.gz
drwxr-xr-x root/root         0 2019-07-20 20:53 ./var/
drwxr-xr-x root/root         0 2019-07-20 20:53 ./var/lib/
drwxr-xr-x root/root         0 2019-07-20 20:53 ./var/lib/mailavenger/


+------------------------------------------------------------------------------+
| Post Build                                                                   |
+------------------------------------------------------------------------------+


+------------------------------------------------------------------------------+
| Cleanup                                                                      |
+------------------------------------------------------------------------------+

Purging /<<BUILDDIR>>
Not cleaning session: cloned chroot in use

+------------------------------------------------------------------------------+
| Summary                                                                      |
+------------------------------------------------------------------------------+

Build Architecture: amd64
Build Type: binary
Build-Space: 41812
Build-Time: 53
Distribution: unstable
Host Architecture: amd64
Install-Time: 5
Job: mailavenger_0.8.5-2
Machine Architecture: amd64
Package: mailavenger
Package-Time: 70
Source-Version: 0.8.5-2
Space: 41812
Status: successful
Version: 0.8.5-2
--------------------------------------------------------------------------------
Finished at 2020-02-25T01:52:35Z
Build needed 00:01:10, 41812k disk space
DC-Status: OK 70.987782399s
DC-Time-Estimation: 70.987782399 versus expected 121 (r/m: 0.7045186637877636 ; m: 70.987782399)
