DC-Build-Header: hpsockd 0.17 / Fri Jan 13 03:50:32 +0100 2012
Another build requested exclusive access to the build node
Another build requested exclusive access to the build node
sbuild (Debian sbuild) 0.62.2 (05 Apr 2011) on stremi-22.reims.grid5000.fr

╔══════════════════════════════════════════════════════════════════════════════╗
║ hpsockd 0.17 (amd64)                                       13 Jan 2012 03:51 ║
╚══════════════════════════════════════════════════════════════════════════════╝

Package: hpsockd
Version: 0.17
Source Version: 0.17
Distribution: lsid64b
Architecture: amd64


┌──────────────────────────────────────────────────────────────────────────────┐
│ Update chroot                                                                │
└──────────────────────────────────────────────────────────────────────────────┘

Ign http://localhost sid InRelease
Get:1 http://localhost sid Release.gpg [836 B]
Get:2 http://localhost sid Release [188 kB]
Ign http://localhost sid/main Sources/DiffIndex
Ign http://localhost sid/main amd64 Packages/DiffIndex
Ign http://localhost sid/main TranslationIndex
Get:3 http://localhost sid/main Sources [7544 kB]
Get:4 http://localhost sid/main amd64 Packages [10.4 MB]
Ign http://localhost sid/main Translation-en
Fetched 18.2 MB in 18s (966 kB/s)
Reading package lists...
Reading package lists...
Building dependency tree...
Reading state information...
The following packages have been kept back:
  clang cpp-4.6 g++-4.6 gcc-4.6 gcc-4.6-base libgcc1 libgomp1 libquadmath0
  libstdc++6 libstdc++6-4.6-dev
0 upgraded, 0 newly installed, 0 to remove and 10 not upgraded.

┌──────────────────────────────────────────────────────────────────────────────┐
│ Fetch source files                                                           │
└──────────────────────────────────────────────────────────────────────────────┘


Check APT
─────────

Checking available source versions...

Download source files with APT
──────────────────────────────

Reading package lists...
Building dependency tree...
Reading state information...
NOTICE: 'hpsockd' packaging is maintained in the 'Git' version control system at:
git://git.debian.org/~lamont/hpsockd.git
Need to get 89.9 kB of source archives.
Get:1 http://localhost/debian/ sid/main hpsockd 0.17 (dsc) [632 B]
Get:2 http://localhost/debian/ sid/main hpsockd 0.17 (tar) [89.3 kB]
Fetched 89.9 kB in 0s (282 kB/s)
Download complete and in download only mode

Check arch
──────────

Merged Build-Depends: build-essential, fakeroot
Filtered Build-Depends: build-essential, fakeroot
dpkg-deb: building package `sbuild-build-depends-core-dummy' in `/build/hpsockd-DqbQWJ/resolver-ytOIsj/apt_archive/sbuild-build-depends-core-dummy.deb'.
OK
Reading package lists...

┌──────────────────────────────────────────────────────────────────────────────┐
│ Install core build dependencies (apt-based resolver)                         │
└──────────────────────────────────────────────────────────────────────────────┘

Installing build dependencies
Reading package lists...
Building dependency tree...
Reading state information...
The following NEW packages will be installed:
  sbuild-build-depends-core-dummy
0 upgraded, 1 newly installed, 0 to remove and 10 not upgraded.
Need to get 0 B/704 B of archives.
After this operation, 0 B of additional disk space will be used.
WARNING: The following packages cannot be authenticated!
  sbuild-build-depends-core-dummy
Authentication warning overridden.
Selecting previously unselected package sbuild-build-depends-core-dummy.
(Reading database ... 10821 files and directories currently installed.)
Unpacking sbuild-build-depends-core-dummy (from .../sbuild-build-depends-core-dummy.deb) ...
Setting up sbuild-build-depends-core-dummy (0.invalid.0) ...
Cannot open /var/lib/schroot/mount/lsid64b-aa00d0fd-9d59-4421-84fe-174b085b116a/etc/lsb-release: No such file or directory
Merged Build-Depends: base-files, base-passwd, bash, coreutils, dash, debianutils, diffutils, dpkg, e2fsprogs, findutils, grep, gzip, hostname, ncurses-base, ncurses-bin, perl-base, sed, login, sysvinit-utils, sysvinit, tar, bsdutils, mount, util-linux, libc6-dev | libc-dev, gcc (>= 4:4.4.3), g++ (>= 4:4.4.3), make, dpkg-dev (>= 1.13.5), byacc, debhelper (>= 5), flex, libdb-dev (>= 4.6.19)
Filtered Build-Depends: base-files, base-passwd, bash, coreutils, dash, debianutils, diffutils, dpkg, e2fsprogs, findutils, grep, gzip, hostname, ncurses-base, ncurses-bin, perl-base, sed, login, sysvinit-utils, sysvinit, tar, bsdutils, mount, util-linux, libc6-dev, gcc (>= 4:4.4.3), g++ (>= 4:4.4.3), make, dpkg-dev (>= 1.13.5), byacc, debhelper (>= 5), flex, libdb-dev (>= 4.6.19)
dpkg-deb: building package `sbuild-build-depends-hpsockd-dummy' in `/build/hpsockd-DqbQWJ/resolver-yNBEKM/apt_archive/sbuild-build-depends-hpsockd-dummy.deb'.
OK
Reading package lists...

┌──────────────────────────────────────────────────────────────────────────────┐
│ Install hpsockd build dependencies (apt-based resolver)                      │
└──────────────────────────────────────────────────────────────────────────────┘

Installing build dependencies
Reading package lists...
Building dependency tree...
Reading state information...
The following extra packages will be installed:
  bsdmainutils byacc debhelper file flex gettext gettext-base groff-base
  html2text intltool-debian libcroco3 libdb-dev libdb5.1-dev libglib2.0-0
  libmagic1 libpcre3 libpipeline1 libunistring0 libxml2 m4 man-db po-debconf
Suggested packages:
  wamerican wordlist whois vacation dh-make bison gettext-doc groff db5.1-doc
  www-browser libmail-box-perl
Recommended packages:
  curl wget lynx-cur autopoint libglib2.0-data shared-mime-info xml-core
  libmail-sendmail-perl
The following NEW packages will be installed:
  bsdmainutils byacc debhelper file flex gettext gettext-base groff-base
  html2text intltool-debian libcroco3 libdb-dev libdb5.1-dev libglib2.0-0
  libmagic1 libpcre3 libpipeline1 libunistring0 libxml2 m4 man-db po-debconf
  sbuild-build-depends-hpsockd-dummy
0 upgraded, 23 newly installed, 0 to remove and 10 not upgraded.
Need to get 11.0 MB/11.0 MB of archives.
After this operation, 30.9 MB of additional disk space will be used.
WARNING: The following packages cannot be authenticated!
  libpipeline1 libpcre3 m4 flex libglib2.0-0 libxml2 libcroco3 libunistring0
  bsdmainutils groff-base man-db libmagic1 file gettext-base html2text gettext
  intltool-debian po-debconf debhelper byacc libdb5.1-dev libdb-dev
  sbuild-build-depends-hpsockd-dummy
Authentication warning overridden.
Get:1 http://localhost/debian/ sid/main libpipeline1 amd64 1.2.0-5 [38.2 kB]
Get:2 http://localhost/debian/ sid/main libpcre3 amd64 8.12-4 [225 kB]
Get:3 http://localhost/debian/ sid/main m4 amd64 1.4.16-2 [259 kB]
Get:4 http://localhost/debian/ sid/main flex amd64 2.5.35-10 [332 kB]
Get:5 http://localhost/debian/ sid/main libglib2.0-0 amd64 2.30.2-4 [1844 kB]
Get:6 http://localhost/debian/ sid/main libxml2 amd64 2.7.8.dfsg-5.1 [891 kB]
Get:7 http://localhost/debian/ sid/main libcroco3 amd64 0.6.2-2 [122 kB]
Get:8 http://localhost/debian/ sid/main libunistring0 amd64 0.9.3-5 [434 kB]
Get:9 http://localhost/debian/ sid/main bsdmainutils amd64 8.2.3 [208 kB]
Get:10 http://localhost/debian/ sid/main groff-base amd64 1.21-6 [1150 kB]
Get:11 http://localhost/debian/ sid/main man-db amd64 2.6.0.2-3 [1015 kB]
Get:12 http://localhost/debian/ sid/main libmagic1 amd64 5.09-2 [246 kB]
Get:13 http://localhost/debian/ sid/main file amd64 5.09-2 [52.0 kB]
Get:14 http://localhost/debian/ sid/main gettext-base amd64 0.18.1.1-5 [154 kB]
Get:15 http://localhost/debian/ sid/main html2text amd64 1.3.2a-15 [103 kB]
Get:16 http://localhost/debian/ sid/main gettext amd64 0.18.1.1-5 [2080 kB]
Get:17 http://localhost/debian/ sid/main intltool-debian all 0.35.0+20060710.1 [30.8 kB]
Get:18 http://localhost/debian/ sid/main po-debconf all 1.0.16+nmu2 [224 kB]
Get:19 http://localhost/debian/ sid/main debhelper all 8.9.14 [693 kB]
Get:20 http://localhost/debian/ sid/main byacc amd64 20110908-1 [61.0 kB]
Get:21 http://localhost/debian/ sid/main libdb5.1-dev amd64 5.1.29-1 [876 kB]
Get:22 http://localhost/debian/ sid/main libdb-dev all 5.1.4 [2080 B]
Preconfiguring packages ...
Fetched 11.0 MB in 0s (34.4 MB/s)
Selecting previously unselected package libpipeline1.
(Reading database ... 10821 files and directories currently installed.)
Unpacking libpipeline1 (from .../libpipeline1_1.2.0-5_amd64.deb) ...
Selecting previously unselected package libpcre3.
Unpacking libpcre3 (from .../libpcre3_8.12-4_amd64.deb) ...
Selecting previously unselected package m4.
Unpacking m4 (from .../archives/m4_1.4.16-2_amd64.deb) ...
Selecting previously unselected package flex.
Unpacking flex (from .../flex_2.5.35-10_amd64.deb) ...
Selecting previously unselected package libglib2.0-0.
Unpacking libglib2.0-0 (from .../libglib2.0-0_2.30.2-4_amd64.deb) ...
Selecting previously unselected package libxml2.
Unpacking libxml2 (from .../libxml2_2.7.8.dfsg-5.1_amd64.deb) ...
Selecting previously unselected package libcroco3.
Unpacking libcroco3 (from .../libcroco3_0.6.2-2_amd64.deb) ...
Selecting previously unselected package libunistring0.
Unpacking libunistring0 (from .../libunistring0_0.9.3-5_amd64.deb) ...
Selecting previously unselected package bsdmainutils.
Unpacking bsdmainutils (from .../bsdmainutils_8.2.3_amd64.deb) ...
Selecting previously unselected package groff-base.
Unpacking groff-base (from .../groff-base_1.21-6_amd64.deb) ...
Selecting previously unselected package man-db.
Unpacking man-db (from .../man-db_2.6.0.2-3_amd64.deb) ...
Selecting previously unselected package libmagic1.
Unpacking libmagic1 (from .../libmagic1_5.09-2_amd64.deb) ...
Selecting previously unselected package file.
Unpacking file (from .../archives/file_5.09-2_amd64.deb) ...
Selecting previously unselected package gettext-base.
Unpacking gettext-base (from .../gettext-base_0.18.1.1-5_amd64.deb) ...
Selecting previously unselected package html2text.
Unpacking html2text (from .../html2text_1.3.2a-15_amd64.deb) ...
Selecting previously unselected package gettext.
Unpacking gettext (from .../gettext_0.18.1.1-5_amd64.deb) ...
Selecting previously unselected package intltool-debian.
Unpacking intltool-debian (from .../intltool-debian_0.35.0+20060710.1_all.deb) ...
Selecting previously unselected package po-debconf.
Unpacking po-debconf (from .../po-debconf_1.0.16+nmu2_all.deb) ...
Selecting previously unselected package debhelper.
Unpacking debhelper (from .../debhelper_8.9.14_all.deb) ...
Selecting previously unselected package byacc.
Unpacking byacc (from .../byacc_20110908-1_amd64.deb) ...
Selecting previously unselected package libdb5.1-dev.
Unpacking libdb5.1-dev (from .../libdb5.1-dev_5.1.29-1_amd64.deb) ...
Selecting previously unselected package libdb-dev.
Unpacking libdb-dev (from .../libdb-dev_5.1.4_all.deb) ...
Selecting previously unselected package sbuild-build-depends-hpsockd-dummy.
Unpacking sbuild-build-depends-hpsockd-dummy (from .../sbuild-build-depends-hpsockd-dummy.deb) ...
Processing triggers for install-info ...
Setting up libpipeline1 (1.2.0-5) ...
Setting up libpcre3 (8.12-4) ...
Setting up m4 (1.4.16-2) ...
Setting up flex (2.5.35-10) ...
Setting up libglib2.0-0 (2.30.2-4) ...
No schema files found: doing nothing.
Setting up libxml2 (2.7.8.dfsg-5.1) ...
Setting up libcroco3 (0.6.2-2) ...
Setting up libunistring0 (0.9.3-5) ...
Setting up bsdmainutils (8.2.3) ...
update-alternatives: using /usr/bin/bsd-write to provide /usr/bin/write (write) in auto mode.
update-alternatives: using /usr/bin/bsd-from to provide /usr/bin/from (from) in auto mode.
Setting up groff-base (1.21-6) ...
Setting up man-db (2.6.0.2-3) ...
Building database of manual pages ...
Setting up libmagic1 (5.09-2) ...
Setting up file (5.09-2) ...
Setting up gettext-base (0.18.1.1-5) ...
Setting up html2text (1.3.2a-15) ...
Setting up gettext (0.18.1.1-5) ...
Setting up intltool-debian (0.35.0+20060710.1) ...
Setting up po-debconf (1.0.16+nmu2) ...
Setting up debhelper (8.9.14) ...
Setting up byacc (20110908-1) ...
update-alternatives: using /usr/bin/byacc to provide /usr/bin/yacc (yacc) in auto mode.
Setting up libdb5.1-dev (5.1.29-1) ...
Setting up libdb-dev (5.1.4) ...
Setting up sbuild-build-depends-hpsockd-dummy (0.invalid.0) ...

┌──────────────────────────────────────────────────────────────────────────────┐
│ Build environment                                                            │
└──────────────────────────────────────────────────────────────────────────────┘

Kernel: Linux 2.6.32-5-amd64 amd64 (x86_64)
Toolchain package versions: binutils_2.22-4 dpkg-dev_1.16.1.2 g++-4.6_4.6.2-9 gcc-4.6_4.6.2-9 libc6-dev_2.13-24 libstdc++6_4.6.2-9 libstdc++6-4.6-dev_4.6.2-9 linux-libc-dev_3.1.8-2
Package versions: apt_0.8.15.9 apt-utils_0.8.15.9 base-files_6.5 base-passwd_3.5.24 bash_4.2-1 binutils_2.22-4 bsdmainutils_8.2.3 bsdutils_1:2.20.1-1.1 build-essential_11.5 byacc_20110908-1 bzip2_1.0.6-1 clang_3.0-5 coreutils_8.13-3 cpp_4:4.6.2-4 cpp-4.6_4.6.2-9 dash_0.5.7-2 debconf_1.5.41 debfoster_2.7-1.1 debhelper_8.9.14 debian-archive-keyring_2010.08.28 debianutils_4.1 diffutils_1:3.2-1 dpkg_1.16.1.2 dpkg-dev_1.16.1.2 e2fslibs_1.42-1 e2fsprogs_1.42-1 fakeroot_1.18.2-1 file_5.09-2 findutils_4.4.2-4 flex_2.5.35-10 g++_4:4.6.2-4 g++-4.6_4.6.2-9 gcc_4:4.6.2-4 gcc-4.6_4.6.2-9 gcc-4.6-base_4.6.2-9 gettext_0.18.1.1-5 gettext-base_0.18.1.1-5 gnupg_1.4.11-3 gpgv_1.4.11-3 grep_2.10-1 groff-base_1.21-6 gzip_1.4-2 hostname_3.09 html2text_1.3.2a-15 initscripts_2.88dsf-18 insserv_1.14.0-2.1 install-info_4.13a.dfsg.1-8 intltool-debian_0.35.0+20060710.1 less_444-1 libacl1_2.2.51-5 libattr1_1:2.4.46-5 libblkid1_2.20.1-1.1 libbz2-1.0_1.0.6-1 libc-bin_2.13-24 libc-dev-bin_2.13-24 libc6_2.13-24 libc6-dev_2.13-24 libclang-common-dev_3.0-5 libclass-isa-perl_0.36-3 libcomerr2_1.42-1 libcroco3_0.6.2-2 libdb-dev_5.1.4 libdb5.1_5.1.29-1 libdb5.1-dev_5.1.29-1 libdpkg-perl_1.16.1.2 libffi5_3.0.10-3 libgc1c2_1:7.1-8 libgcc1_1:4.6.2-9 libgdbm3_1.8.3-10 libglib2.0-0_2.30.2-4 libgmp10_2:5.0.2+dfsg-2 libgomp1_4.6.2-9 libllvm3.0_3.0-5 liblzma2_5.1.1alpha+20110809-2 liblzma5_5.1.1alpha+20110809-3 libmagic1_5.09-2 libmount1_2.20.1-1.1 libmpc2_0.9-4 libmpfr4_3.1.0-3 libncurses5_5.9-4 libncursesw5_5.9-4 libpam-modules_1.1.3-6 libpam-modules-bin_1.1.3-6 libpam-runtime_1.1.3-6 libpam0g_1.1.3-6 libpcre3_8.12-4 libpipeline1_1.2.0-5 libquadmath0_4.6.2-9 libreadline6_6.2-8 libselinux1_2.1.0-4 libsepol1_2.1.0-1.2 libslang2_2.2.4-5 libss2_1.42-1 libstdc++6_4.6.2-9 libstdc++6-4.6-dev_4.6.2-9 libswitch-perl_2.16-2 libtimedate-perl_1.2000-1 libtinfo5_5.9-4 libunistring0_0.9.3-5 libusb-0.1-4_2:0.1.12-20 libuuid1_2.20.1-1.1 libxml2_2.7.8.dfsg-5.1 linux-libc-dev_3.1.8-2 login_1:4.1.4.2+svn3283-3 lsb-base_3.2-28 m4_1.4.16-2 make_3.81-8.1 man-db_2.6.0.2-3 mawk_1.3.3-16 mount_2.20.1-1.1 multiarch-support_2.13-24 ncurses-base_5.9-4 ncurses-bin_5.9-4 nvi_1.81.6-8.2 passwd_1:4.1.4.2+svn3283-3 patch_2.6.1-2 perl_5.14.2-6 perl-base_5.14.2-6 perl-modules_5.14.2-6 po-debconf_1.0.16+nmu2 readline-common_6.2-8 sbuild-build-depends-core-dummy_0.invalid.0 sbuild-build-depends-hpsockd-dummy_0.invalid.0 sed_4.2.1-9 sensible-utils_0.0.6 sysv-rc_2.88dsf-18 sysvinit_2.88dsf-18 sysvinit-utils_2.88dsf-18 tar_1.26-4 tzdata_2011n-2 util-linux_2.20.1-1.1 xz-utils_5.1.1alpha+20110809-3 zlib1g_1:1.2.3.4.dfsg-3

┌──────────────────────────────────────────────────────────────────────────────┐
│ Build                                                                        │
└──────────────────────────────────────────────────────────────────────────────┘


Unpack source
─────────────

gpgv: keyblock resource `/var/lib/sbuild/.gnupg/trustedkeys.gpg': file open error
gpgv: Signature made Sat Jun 14 17:08:31 2008 CEST using DSA key ID 0A0AC927
gpgv: Can't check signature: public key not found
dpkg-source: warning: failed to verify signature on ./hpsockd_0.17.dsc
dpkg-source: info: extracting hpsockd in hpsockd-0.17
dpkg-source: info: unpacking hpsockd_0.17.tar.gz

Check disc space
────────────────

Sufficient free space for build

dpkg-buildpackage
─────────────────

dpkg-buildpackage: source package hpsockd
dpkg-buildpackage: source version 0.17
 dpkg-source --before-build hpsockd-0.17
dpkg-buildpackage: host architecture amd64
 fakeroot debian/rules clean
dh_testdir
dh_testroot
rm -f build-stamp configure-stamp
# Add here commands to clean up after the build process.
cd src && /usr/bin/make clobber
make[1]: Entering directory `/build/hpsockd-DqbQWJ/hpsockd-0.17/src'
for i in util sockd; do (cd $i && make clobber); done
make[2]: Entering directory `/build/hpsockd-DqbQWJ/hpsockd-0.17/src/util'
rm -f *.o
rm -f libutil.a
make[2]: Leaving directory `/build/hpsockd-DqbQWJ/hpsockd-0.17/src/util'
make[2]: Entering directory `/build/hpsockd-DqbQWJ/hpsockd-0.17/src/sockd'
rm -f *.o gram.output gram.tab.c gram.tab.h lexer.c
rm -f sockd sdc log2ascii usage vers.c
make[2]: Leaving directory `/build/hpsockd-DqbQWJ/hpsockd-0.17/src/sockd'
make[1]: Leaving directory `/build/hpsockd-DqbQWJ/hpsockd-0.17/src'
dh_clean
 dpkg-source -b hpsockd-0.17
dpkg-source: warning: no source format specified in debian/source/format, see dpkg-source(1)
dpkg-source: info: using source format `1.0'
dpkg-source: info: building hpsockd in hpsockd_0.17.tar.gz
dpkg-source: info: building hpsockd in hpsockd_0.17.dsc
 debian/rules build
dh_testdir
# Add here commands to configure the package.
#CONFIGURE#
touch configure-stamp
dh_testdir
# Add here commands to compile the package.
cd src && /usr/bin/make
make[1]: Entering directory `/build/hpsockd-DqbQWJ/hpsockd-0.17/src'
/usr/bin/make `uname -s`
make[2]: Entering directory `/build/hpsockd-DqbQWJ/hpsockd-0.17/src'
/usr/bin/make CFLAGS="-O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\\\"/etc/hpsockd.conf\\\" -DSOCKD_PATH=\\\"/usr/sbin/hpsockd\\\" -I../util -DYYDEBUG=1" CLFLAGS="-ldl -ldb" all
make[3]: Entering directory `/build/hpsockd-DqbQWJ/hpsockd-0.17/src'
for i in util sockd; do (cd $i && make all); done
make[4]: Entering directory `/build/hpsockd-DqbQWJ/hpsockd-0.17/src/util'
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o btree.o btree.c
btree.c:285:12: warning: type specifier missing, defaults to 'int' [-Wimplicit-int]
                register nix=ix;
                ~~~~~~~~ ^
btree.c:481:23: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                ERR("Empty node at %x\n",0);
                ~~~~~~~~~~~~~~~~~~~~^~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:481:28: warning: data argument not used by format string [-Wformat-extra-args]
                ERR("Empty node at %x\n",0);
                ~~~~~~~~~~~~~~~~~~~~~~~~~^~
btree.c:478:40: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                       ^
btree.c:486:33: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                ERR("Key out of order/dup in %x[%d]\n",pn->nel-1);
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:489:34: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                        ERR("Key out of order/dup in %x[%d]\n",i);
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:496:30: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                        ERR("bad left pointer in %x[0]\n",0);
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:496:38: warning: data argument not used by format string [-Wformat-extra-args]
                        ERR("bad left pointer in %x[0]\n",0);
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
btree.c:478:40: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                       ^
btree.c:501:31: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                        ERR("bad right pointer in %x[%d]\n",pn->nel-1);
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:505:21: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                        ERR("bad key in %x[%d]\n",i);
                        ~~~~~~~~~~~~~~~~~^~~~~~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:508:30: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                        ERR("bad left pointer in %x[%d]\n",i);
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:512:31: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                        ERR("bad right pointer in %x[%d]\n",i);
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:514:38: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                        ERR("Key out of order/dup key in %x[%d]\n",i);
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:517:32: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                        ERR("bad parent pointer in %x[%d]\n",i);
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:540:28: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
        Fprintf(stderr,"%s%2d: %08x (l=%08x r=%08x p=%08x) %s nel=%d\n",
                               ~~~^
btree.c:540:36: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
        Fprintf(stderr,"%s%2d: %08x (l=%08x r=%08x p=%08x) %s nel=%d\n",
                                       ~~~^
btree.c:540:43: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
        Fprintf(stderr,"%s%2d: %08x (l=%08x r=%08x p=%08x) %s nel=%d\n",
                                              ~~~^
btree.c:540:50: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
        Fprintf(stderr,"%s%2d: %08x (l=%08x r=%08x p=%08x) %s nel=%d\n",
                                                     ~~~^
btree.c:545:28: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                Fprintf(stderr,"%s    %08x[%d] %08x %08x\n",indent,
                                      ~~~^
btree.c:545:37: warning: conversion specifies type 'unsigned int' but the argument has type 'void *' [-Wformat]
                Fprintf(stderr,"%s    %08x[%d] %08x %08x\n",indent,
                                               ~~~^
btree.c:545:42: warning: conversion specifies type 'unsigned int' but the argument has type 'void *' [-Wformat]
                Fprintf(stderr,"%s    %08x[%d] %08x %08x\n",indent,
                                                    ~~~^
20 warnings generated.
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o inetdsec.o inetdsec.c
inetdsec.c:180:8: warning: type specifier missing, defaults to 'int' [-Wimplicit-int]
static internet_parse(char *string,byte *addr,char *service)
~~~~~~ ^
1 warning generated.
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o inet_ntoa.o inet_ntoa.c
ar rv libutil.a btree.o inetdsec.o inet_ntoa.o
ar: creating libutil.a
a - btree.o
a - inetdsec.o
a - inet_ntoa.o
ranlib libutil.a
make[4]: Leaving directory `/build/hpsockd-DqbQWJ/hpsockd-0.17/src/util'
make[4]: Entering directory `/build/hpsockd-DqbQWJ/hpsockd-0.17/src/sockd'
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o methods.o methods.c
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o sockd.o sockd.c
sockd.c:94:5: warning: implicit declaration of function 'negotInit' is invalid in C99 [-Wimplicit-function-declaration]
    negotInit();
    ^
sockd.c:135:5: warning: implicit declaration of function 'gettimeofday' is invalid in C99 [-Wimplicit-function-declaration]
    gettimeofday(&lastAccept,(struct timezone*)NULL);   /* make it something close... */
    ^
sockd.c:193:44: warning: conversion specifies type 'int' but the argument has type '__time_t' (aka 'long') [-Wformat]
            fprintf(stderr,"selecting - timeout==%d\n",timeout.tv_sec);
                                                 ~^    ~~~~~~~~~~~~~~
                                                 %ld
sockd.c:495:10: warning: implicit declaration of function 'yyparse' is invalid in C99 [-Wimplicit-function-declaration]
    if (!yyparse()) {
         ^
sockd.c:502:2: warning: implicit declaration of function 'umask' is invalid in C99 [-Wimplicit-function-declaration]
        umask(config.daemon.umask);
        ^
5 warnings generated.
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o signal.o signal.c
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o util.o util.c
util.c:79:46: warning: conversion specifies type 'int' but the argument has type 'long' [-Wformat]
    syslog(LOG_NOTICE,"freeSomeMemory freed %d bytes",freed);
                                            ~^        ~~~~~
                                            %ld
util.c:155:50: warning: passing 'int *' to parameter of type 'socklen_t *' (aka 'unsigned int *') converts between pointers to integer types with different sign [-Wpointer-sign]
    if (getsockopt(fd,SOL_SOCKET,SO_RCVBUF,&bval,&blen)==0 && bval<bufSize) {
                                                 ^~~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:192:32: note: passing argument to parameter '__optlen' here
                       socklen_t *__restrict __optlen) __THROW;
                                             ^
util.c:159:50: warning: passing 'int *' to parameter of type 'socklen_t *' (aka 'unsigned int *') converts between pointers to integer types with different sign [-Wpointer-sign]
    if (getsockopt(fd,SOL_SOCKET,SO_SNDBUF,&bval,&blen)==0 && bval<bufSize) {
                                                 ^~~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:192:32: note: passing argument to parameter '__optlen' here
                       socklen_t *__restrict __optlen) __THROW;
                                             ^
util.c:220:37: warning: conversion specifies type 'int' but the argument has type 'long' [-Wformat]
        syslog(LOG_DEBUG,"closeConnection(%d,%d,%d) fd=%d flags=x%x",info-fdInfo, why, closeNow, info->fd,info->flags);
                                          ~^                         ~~~~~~~~~~~
                                          %ld
util.c:256:29: warning: conversion specifies type 'int' but the argument has type 'long' [-Wformat]
        syslog(LOG_DEBUG," client=%d peer=%d udp=%d", conn->client-fdInfo, peer ? peer-fdInfo : -1,
                                  ~^                  ~~~~~~~~~~~~~~~~~~~
                                  %ld
util.c:256:37: warning: conversion specifies type 'int' but the argument has type 'long' [-Wformat]
        syslog(LOG_DEBUG," client=%d peer=%d udp=%d", conn->client-fdInfo, peer ? peer-fdInfo : -1,
                                          ~^                               ~~~~~~~~~~~~~~~~~~~~~~~
                                          %ld
util.c:256:44: warning: conversion specifies type 'int' but the argument has type 'long' [-Wformat]
        syslog(LOG_DEBUG," client=%d peer=%d udp=%d", conn->client-fdInfo, peer ? peer-fdInfo : -1,
                                                 ~^
                                                 %ld
util.c:292:52: warning: conversion specifies type 'unsigned int' but the argument has type 'fdInfoType *' (aka 'struct fdInfo *') [-Wformat]
        syslog(LOG_ERR,"Null connection pointer origInfo=%x conn=%x info=%x",origInfo,conn,info);
                                                         ~^                  ~~~~~~~~
util.c:292:60: warning: conversion specifies type 'unsigned int' but the argument has type 'connInfoType *' (aka 'struct connInfo *') [-Wformat]
        syslog(LOG_ERR,"Null connection pointer origInfo=%x conn=%x info=%x",origInfo,conn,info);
                                                                 ~^                   ~~~~
util.c:292:68: warning: conversion specifies type 'unsigned int' but the argument has type 'fdInfoType *' (aka 'struct fdInfo *') [-Wformat]
        syslog(LOG_ERR,"Null connection pointer origInfo=%x conn=%x info=%x",origInfo,conn,info);
                                                                         ~^                ~~~~
util.c:348:52: warning: conversion specifies type 'unsigned int' but the argument has type 'fdInfoType *' (aka 'struct fdInfo *') [-Wformat]
            syslog(LOG_ERR,"using unused connection info=%x, conn=%x",info,conn);
                                                         ~^           ~~~~
util.c:348:61: warning: conversion specifies type 'unsigned int' but the argument has type 'connInfoType *' (aka 'struct connInfo *') [-Wformat]
            syslog(LOG_ERR,"using unused connection info=%x, conn=%x",info,conn);
                                                                  ~^       ~~~~
util.c:369:33: warning: conversion specifies type 'unsigned int' but the argument has type 'connInfoType *' (aka 'struct connInfo *') [-Wformat]
            syslog(LOG_ERR,"free conn(%x) in use",conn);
                                      ~^          ~~~~
util.c:376:33: warning: conversion specifies type 'unsigned int' but the argument has type 'connInfoType *' (aka 'struct connInfo *') [-Wformat]
            syslog(LOG_ERR,"lost conn(%x)",conn);
                                      ~^   ~~~~
util.c:381:44: warning: conversion specifies type 'unsigned int' but the argument has type 'connInfoType *' (aka 'struct connInfo *') [-Wformat]
                syslog(LOG_ERR,"badly broken connection %x",conn);
                                                        ~^  ~~~~
util.c:878:16: warning: conversion specifies type 'unsigned int' but the argument has type 'fdInfoType *' (aka 'struct fdInfo *') [-Wformat]
        fprintf(f,"%08x %08x %08x %8d %08x %08x %5d\n",
                   ~~~^
util.c:878:21: warning: conversion specifies type 'unsigned int' but the argument has type 'fdInfoType *' (aka 'struct fdInfo *') [-Wformat]
        fprintf(f,"%08x %08x %08x %8d %08x %08x %5d\n",
                        ~~~^
util.c:878:26: warning: conversion specifies type 'unsigned int' but the argument has type 'connInfoType *' (aka 'struct connInfo *') [-Wformat]
        fprintf(f,"%08x %08x %08x %8d %08x %08x %5d\n",
                             ~~~^
util.c:886:16: warning: conversion specifies type 'unsigned int' but the argument has type 'connInfoType *' (aka 'struct connInfo *') [-Wformat]
        fprintf(f,"%08x %08x %08x %8x %08x\n",
                   ~~~^
util.c:886:21: warning: conversion specifies type 'unsigned int' but the argument has type 'fdInfoType *' (aka 'struct fdInfo *') [-Wformat]
        fprintf(f,"%08x %08x %08x %8x %08x\n",
                        ~~~^
util.c:886:26: warning: conversion specifies type 'unsigned int' but the argument has type 'fdInfoType *' (aka 'struct fdInfo *') [-Wformat]
        fprintf(f,"%08x %08x %08x %8x %08x\n",
                             ~~~^
21 warnings generated.
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o logging.o logging.c
logging.c:86:65: warning: conversion specifies type 'unsigned int' but the argument has type 'fdInfoType *' (aka 'struct fdInfo *') [-Wformat]
        syslog(LOG_CRIT,"makeLogRec got null request pointer.  Info=%08x flags=%08x pid=%d",info,info->flags,conn->pid);        /* XXX */
                                                                    ~~~^                    ~~~~
1 warning generated.
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o dns.o dns.c
dns.c:107:20: warning: incompatible pointer types passing 'struct sockaddr_in *' to parameter of type 'struct sockaddr *' [-Wincompatible-pointer-types]
        res=getsockname(s,&dnsAddr,&sinLen);
                          ^~~~~~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:119:50: note: passing argument to parameter '__addr' here
extern int getsockname (int __fd, __SOCKADDR_ARG __addr,
                                                 ^
dns.c:107:29: warning: passing 'int *' to parameter of type 'socklen_t *' (aka 'unsigned int *') converts between pointers to integer types with different sign [-Wpointer-sign]
        res=getsockname(s,&dnsAddr,&sinLen);
                                   ^~~~~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:120:26: note: passing argument to parameter '__len' here
                        socklen_t *__restrict __len) __THROW;
                                              ^
dns.c:358:42: warning: incompatible pointer types passing 'struct sockaddr_in *' to parameter of type 'struct sockaddr *' [-Wincompatible-pointer-types]
            ret=recvfrom(fd,sbuf,sizeof(sbuf),0,&from,&fromLen);
                                                ^~~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:167:33: note: passing argument to parameter '__addr' here
                         int __flags, __SOCKADDR_ARG __addr,
                                                     ^
dns.c:358:48: warning: passing 'int *' to parameter of type 'socklen_t *' (aka 'unsigned int *') converts between pointers to integer types with different sign [-Wpointer-sign]
            ret=recvfrom(fd,sbuf,sizeof(sbuf),0,&from,&fromLen);
                                                      ^~~~~~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:168:27: note: passing argument to parameter '__addr_len' here
                         socklen_t *__restrict __addr_len);
                                               ^
dns.c:365:53: warning: more '%' conversions than data arguments [-Wformat]
            syslog(LOG_ERR,"dnsHandler: bad size request (%d)");
                                                          ~^
dns.c:394:36: warning: incompatible pointer types passing 'struct sockaddr_in *' to parameter of type 'const struct sockaddr *' [-Wincompatible-pointer-types]
        sendto(fd,dbuf,next-(char*)dbuf,0,&from,fromLen);
                                          ^~~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:156:44: note: passing argument to parameter '__addr' here
                       int __flags, __CONST_SOCKADDR_ARG __addr,
                                                         ^
6 warnings generated.
if [ -f /usr/bin/byacc ]; then		\
	    byacc -b gram -d -v gram.y;		\
	else					\
	    yacc -b gram -d -v gram.y;		\
	fi
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o gram.tab.o gram.tab.c
gram.y:766:1: warning: type specifier missing, defaults to 'int' [-Wimplicit-int]
yyerror(char *s)
^~~~~~~
gram.y:771:1: warning: control reaches end of non-void function [-Wreturn-type]
}
^
2 warnings generated.
flex -p -s -t lexer.l > lexer.c
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o lexer.o lexer.c
lexer.l:122:15: warning: implicit declaration of function 'strToTime' is invalid in C99 [-Wimplicit-function-declaration]
{ yylval.iVal=strToTime(yytext); return I_TIME; }
              ^
1 warning generated.
sed -n '1,1s/.*(\(.*\)).*$/char *socks_version="@(#)sockd version \1";/p' < ../../debian/changelog > vers.c
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o vers.o vers.c
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o listen.o listen.c
listen.c:67:41: warning: passing 'int *' to parameter of type 'socklen_t *' (aka 'unsigned int *') converts between pointers to integer types with different sign [-Wpointer-sign]
        newFd=accept(fd,(struct sockaddr*)&sin,&len);
                                               ^~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:215:28: note: passing argument to parameter '__addr_len' here
                   socklen_t *__restrict __addr_len);
                                         ^
listen.c:90:5: warning: implicit declaration of function 'gettimeofday' is invalid in C99 [-Wimplicit-function-declaration]
    gettimeofday(&myTime,(struct timezone*)NULL);
    ^
listen.c:150:39: warning: implicit declaration of function 'DoInetdSec' is invalid in C99 [-Wimplicit-function-declaration]
    if (config.daemon.inetdSecFile && DoInetdSec(config.daemon.service,&sin,config.daemon.inetdSecFile)<0) {
                                      ^
listen.c:211:1: warning: control reaches end of non-void function [-Wreturn-type]
}
^
4 warnings generated.
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o v4.o v4.c
v4.c:161:25: warning: '&&' within '||' [-Wlogical-op-parentheses]
    if (res==0 || res<0 && errno==EINPROGRESS) {
               ~~ ~~~~~~^~~~~~~~~~~~~~~~~~~~~
v4.c:161:25: note: place parentheses around the '&&' expression to silence this warning
    if (res==0 || res<0 && errno==EINPROGRESS) {
                  ~~~~~~^~~~~~~~~~~~~~~~~~~~~
v4.c:195:44: warning: passing 'int *' to parameter of type 'socklen_t *' (aka 'unsigned int *') converts between pointers to integer types with different sign [-Wpointer-sign]
        res=getsockname(fd,(struct sockaddr*)&sin,&sinlen);
                                                  ^~~~~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:120:26: note: passing argument to parameter '__len' here
                        socklen_t *__restrict __len) __THROW;
                                              ^
v4.c:243:50: warning: passing 'int *' to parameter of type 'socklen_t *' (aka 'unsigned int *') converts between pointers to integer types with different sign [-Wpointer-sign]
    res=getsockname(outFd,(struct sockaddr*)&sin,&len);
                                                 ^~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:120:26: note: passing argument to parameter '__len' here
                        socklen_t *__restrict __len) __THROW;
                                              ^
v4.c:284:44: warning: passing 'int *' to parameter of type 'socklen_t *' (aka 'unsigned int *') converts between pointers to integer types with different sign [-Wpointer-sign]
    newFd=accept(fd,(struct sockaddr*)&sin,&len);
                                           ^~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:215:28: note: passing argument to parameter '__addr_len' here
                   socklen_t *__restrict __addr_len);
                                         ^
4 warnings generated.
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o v5.o v5.c
v5.c:162:3: error: non-void function 'v5Request' should return a value [-Wreturn-type]
                return;
                ^
v5.c:391:66: warning: conversion specifies type 'int' but the argument has type 'long' [-Wformat]
            syslog(LOG_NOTICE,"validate(%d, %s:%s, %s:%d) --> %d, rule %d",
                                                                       ~^
                                                                       %ld
1 warning and 1 error generated.
make[4]: *** [v5.o] Error 1
make[4]: Leaving directory `/build/hpsockd-DqbQWJ/hpsockd-0.17/src/sockd'
make[3]: *** [all] Error 2
make[3]: Leaving directory `/build/hpsockd-DqbQWJ/hpsockd-0.17/src'
make[2]: *** [Linux] Error 2
make[2]: Leaving directory `/build/hpsockd-DqbQWJ/hpsockd-0.17/src'
make[1]: *** [default] Error 2
make: *** [build-stamp] Error 2
dpkg-buildpackage: error: debian/rules build gave error exit status 2
make[1]: Leaving directory `/build/hpsockd-DqbQWJ/hpsockd-0.17/src'
────────────────────────────────────────────────────────────────────────────────
Build finished at 20120113-0352

Finished
────────

E: Build failure (dpkg-buildpackage died)

┌──────────────────────────────────────────────────────────────────────────────┐
│ Cleanup                                                                      │
└──────────────────────────────────────────────────────────────────────────────┘

Purging /var/lib/schroot/mount/lsid64b-aa00d0fd-9d59-4421-84fe-174b085b116a/build/hpsockd-DqbQWJ
Not cleaning session: cloned chroot in use

┌──────────────────────────────────────────────────────────────────────────────┐
│ Summary                                                                      │
└──────────────────────────────────────────────────────────────────────────────┘

Architecture: amd64
Build-Space: 880
Build-Time: 4
Distribution: lsid64b
Fail-Stage: build
Install-Time: 7
Job: hpsockd_0.17
Package: hpsockd
Package-Time: 39
Source-Version: 0.17
Space: 880
Status: attempted
Version: 0.17
────────────────────────────────────────────────────────────────────────────────
Finished at 20120113-0352
Build needed 00:00:39, 880k disc space
DC-Message: Failed, but took only 100.461452. Retrying, you never know.
Requested exclusive mode, but other builds running.
sbuild (Debian sbuild) 0.62.2 (05 Apr 2011) on stremi-22.reims.grid5000.fr

╔══════════════════════════════════════════════════════════════════════════════╗
║ hpsockd 0.17 (amd64)                                       13 Jan 2012 03:52 ║
╚══════════════════════════════════════════════════════════════════════════════╝

Package: hpsockd
Version: 0.17
Source Version: 0.17
Distribution: lsid64b
Architecture: amd64


┌──────────────────────────────────────────────────────────────────────────────┐
│ Update chroot                                                                │
└──────────────────────────────────────────────────────────────────────────────┘

Ign http://localhost sid InRelease
Get:1 http://localhost sid Release.gpg [836 B]
Get:2 http://localhost sid Release [188 kB]
Ign http://localhost sid/main Sources/DiffIndex
Ign http://localhost sid/main amd64 Packages/DiffIndex
Ign http://localhost sid/main TranslationIndex
Get:3 http://localhost sid/main Sources [7544 kB]
Get:4 http://localhost sid/main amd64 Packages [10.4 MB]
Ign http://localhost sid/main Translation-en
Fetched 18.2 MB in 4s (4169 kB/s)
Reading package lists...
Reading package lists...
Building dependency tree...
Reading state information...
The following packages have been kept back:
  clang cpp-4.6 g++-4.6 gcc-4.6 gcc-4.6-base libgcc1 libgomp1 libquadmath0
  libstdc++6 libstdc++6-4.6-dev
0 upgraded, 0 newly installed, 0 to remove and 10 not upgraded.

┌──────────────────────────────────────────────────────────────────────────────┐
│ Fetch source files                                                           │
└──────────────────────────────────────────────────────────────────────────────┘


Check APT
─────────

Checking available source versions...

Download source files with APT
──────────────────────────────

Reading package lists...
Building dependency tree...
Reading state information...
NOTICE: 'hpsockd' packaging is maintained in the 'Git' version control system at:
git://git.debian.org/~lamont/hpsockd.git
Need to get 89.9 kB of source archives.
Get:1 http://localhost/debian/ sid/main hpsockd 0.17 (dsc) [632 B]
Get:2 http://localhost/debian/ sid/main hpsockd 0.17 (tar) [89.3 kB]
Fetched 89.9 kB in 0s (7377 kB/s)
Download complete and in download only mode

Check arch
──────────

Merged Build-Depends: build-essential, fakeroot
Filtered Build-Depends: build-essential, fakeroot
dpkg-deb: building package `sbuild-build-depends-core-dummy' in `/build/hpsockd-JOnjnK/resolver-2KihVL/apt_archive/sbuild-build-depends-core-dummy.deb'.
OK
Reading package lists...

┌──────────────────────────────────────────────────────────────────────────────┐
│ Install core build dependencies (apt-based resolver)                         │
└──────────────────────────────────────────────────────────────────────────────┘

Installing build dependencies
Reading package lists...
Building dependency tree...
Reading state information...
The following NEW packages will be installed:
  sbuild-build-depends-core-dummy
0 upgraded, 1 newly installed, 0 to remove and 10 not upgraded.
Need to get 0 B/704 B of archives.
After this operation, 0 B of additional disk space will be used.
WARNING: The following packages cannot be authenticated!
  sbuild-build-depends-core-dummy
Authentication warning overridden.
Selecting previously unselected package sbuild-build-depends-core-dummy.
(Reading database ... 10821 files and directories currently installed.)
Unpacking sbuild-build-depends-core-dummy (from .../sbuild-build-depends-core-dummy.deb) ...
Setting up sbuild-build-depends-core-dummy (0.invalid.0) ...
Cannot open /var/lib/schroot/mount/lsid64b-5dbf83a5-83f2-41ed-aeee-8962ab2b1f9b/etc/lsb-release: No such file or directory
Merged Build-Depends: base-files, base-passwd, bash, coreutils, dash, debianutils, diffutils, dpkg, e2fsprogs, findutils, grep, gzip, hostname, ncurses-base, ncurses-bin, perl-base, sed, login, sysvinit-utils, sysvinit, tar, bsdutils, mount, util-linux, libc6-dev | libc-dev, gcc (>= 4:4.4.3), g++ (>= 4:4.4.3), make, dpkg-dev (>= 1.13.5), byacc, debhelper (>= 5), flex, libdb-dev (>= 4.6.19)
Filtered Build-Depends: base-files, base-passwd, bash, coreutils, dash, debianutils, diffutils, dpkg, e2fsprogs, findutils, grep, gzip, hostname, ncurses-base, ncurses-bin, perl-base, sed, login, sysvinit-utils, sysvinit, tar, bsdutils, mount, util-linux, libc6-dev, gcc (>= 4:4.4.3), g++ (>= 4:4.4.3), make, dpkg-dev (>= 1.13.5), byacc, debhelper (>= 5), flex, libdb-dev (>= 4.6.19)
dpkg-deb: building package `sbuild-build-depends-hpsockd-dummy' in `/build/hpsockd-JOnjnK/resolver-bnXPjX/apt_archive/sbuild-build-depends-hpsockd-dummy.deb'.
OK
Reading package lists...

┌──────────────────────────────────────────────────────────────────────────────┐
│ Install hpsockd build dependencies (apt-based resolver)                      │
└──────────────────────────────────────────────────────────────────────────────┘

Installing build dependencies
Reading package lists...
Building dependency tree...
Reading state information...
The following extra packages will be installed:
  bsdmainutils byacc debhelper file flex gettext gettext-base groff-base
  html2text intltool-debian libcroco3 libdb-dev libdb5.1-dev libglib2.0-0
  libmagic1 libpcre3 libpipeline1 libunistring0 libxml2 m4 man-db po-debconf
Suggested packages:
  wamerican wordlist whois vacation dh-make bison gettext-doc groff db5.1-doc
  www-browser libmail-box-perl
Recommended packages:
  curl wget lynx-cur autopoint libglib2.0-data shared-mime-info xml-core
  libmail-sendmail-perl
The following NEW packages will be installed:
  bsdmainutils byacc debhelper file flex gettext gettext-base groff-base
  html2text intltool-debian libcroco3 libdb-dev libdb5.1-dev libglib2.0-0
  libmagic1 libpcre3 libpipeline1 libunistring0 libxml2 m4 man-db po-debconf
  sbuild-build-depends-hpsockd-dummy
0 upgraded, 23 newly installed, 0 to remove and 10 not upgraded.
Need to get 11.0 MB/11.0 MB of archives.
After this operation, 30.9 MB of additional disk space will be used.
WARNING: The following packages cannot be authenticated!
  libpipeline1 libpcre3 m4 flex libglib2.0-0 libxml2 libcroco3 libunistring0
  bsdmainutils groff-base man-db libmagic1 file gettext-base html2text gettext
  intltool-debian po-debconf debhelper byacc libdb5.1-dev libdb-dev
  sbuild-build-depends-hpsockd-dummy
Authentication warning overridden.
Get:1 http://localhost/debian/ sid/main libpipeline1 amd64 1.2.0-5 [38.2 kB]
Get:2 http://localhost/debian/ sid/main libpcre3 amd64 8.12-4 [225 kB]
Get:3 http://localhost/debian/ sid/main m4 amd64 1.4.16-2 [259 kB]
Get:4 http://localhost/debian/ sid/main flex amd64 2.5.35-10 [332 kB]
Get:5 http://localhost/debian/ sid/main libglib2.0-0 amd64 2.30.2-4 [1844 kB]
Get:6 http://localhost/debian/ sid/main libxml2 amd64 2.7.8.dfsg-5.1 [891 kB]
Get:7 http://localhost/debian/ sid/main libcroco3 amd64 0.6.2-2 [122 kB]
Get:8 http://localhost/debian/ sid/main libunistring0 amd64 0.9.3-5 [434 kB]
Get:9 http://localhost/debian/ sid/main bsdmainutils amd64 8.2.3 [208 kB]
Get:10 http://localhost/debian/ sid/main groff-base amd64 1.21-6 [1150 kB]
Get:11 http://localhost/debian/ sid/main man-db amd64 2.6.0.2-3 [1015 kB]
Get:12 http://localhost/debian/ sid/main libmagic1 amd64 5.09-2 [246 kB]
Get:13 http://localhost/debian/ sid/main file amd64 5.09-2 [52.0 kB]
Get:14 http://localhost/debian/ sid/main gettext-base amd64 0.18.1.1-5 [154 kB]
Get:15 http://localhost/debian/ sid/main html2text amd64 1.3.2a-15 [103 kB]
Get:16 http://localhost/debian/ sid/main gettext amd64 0.18.1.1-5 [2080 kB]
Get:17 http://localhost/debian/ sid/main intltool-debian all 0.35.0+20060710.1 [30.8 kB]
Get:18 http://localhost/debian/ sid/main po-debconf all 1.0.16+nmu2 [224 kB]
Get:19 http://localhost/debian/ sid/main debhelper all 8.9.14 [693 kB]
Get:20 http://localhost/debian/ sid/main byacc amd64 20110908-1 [61.0 kB]
Get:21 http://localhost/debian/ sid/main libdb5.1-dev amd64 5.1.29-1 [876 kB]
Get:22 http://localhost/debian/ sid/main libdb-dev all 5.1.4 [2080 B]
Preconfiguring packages ...
Fetched 11.0 MB in 0s (41.9 MB/s)
Selecting previously unselected package libpipeline1.
(Reading database ... 10821 files and directories currently installed.)
Unpacking libpipeline1 (from .../libpipeline1_1.2.0-5_amd64.deb) ...
Selecting previously unselected package libpcre3.
Unpacking libpcre3 (from .../libpcre3_8.12-4_amd64.deb) ...
Selecting previously unselected package m4.
Unpacking m4 (from .../archives/m4_1.4.16-2_amd64.deb) ...
Selecting previously unselected package flex.
Unpacking flex (from .../flex_2.5.35-10_amd64.deb) ...
Selecting previously unselected package libglib2.0-0.
Unpacking libglib2.0-0 (from .../libglib2.0-0_2.30.2-4_amd64.deb) ...
Selecting previously unselected package libxml2.
Unpacking libxml2 (from .../libxml2_2.7.8.dfsg-5.1_amd64.deb) ...
Selecting previously unselected package libcroco3.
Unpacking libcroco3 (from .../libcroco3_0.6.2-2_amd64.deb) ...
Selecting previously unselected package libunistring0.
Unpacking libunistring0 (from .../libunistring0_0.9.3-5_amd64.deb) ...
Selecting previously unselected package bsdmainutils.
Unpacking bsdmainutils (from .../bsdmainutils_8.2.3_amd64.deb) ...
Selecting previously unselected package groff-base.
Unpacking groff-base (from .../groff-base_1.21-6_amd64.deb) ...
Selecting previously unselected package man-db.
Unpacking man-db (from .../man-db_2.6.0.2-3_amd64.deb) ...
Selecting previously unselected package libmagic1.
Unpacking libmagic1 (from .../libmagic1_5.09-2_amd64.deb) ...
Selecting previously unselected package file.
Unpacking file (from .../archives/file_5.09-2_amd64.deb) ...
Selecting previously unselected package gettext-base.
Unpacking gettext-base (from .../gettext-base_0.18.1.1-5_amd64.deb) ...
Selecting previously unselected package html2text.
Unpacking html2text (from .../html2text_1.3.2a-15_amd64.deb) ...
Selecting previously unselected package gettext.
Unpacking gettext (from .../gettext_0.18.1.1-5_amd64.deb) ...
Selecting previously unselected package intltool-debian.
Unpacking intltool-debian (from .../intltool-debian_0.35.0+20060710.1_all.deb) ...
Selecting previously unselected package po-debconf.
Unpacking po-debconf (from .../po-debconf_1.0.16+nmu2_all.deb) ...
Selecting previously unselected package debhelper.
Unpacking debhelper (from .../debhelper_8.9.14_all.deb) ...
Selecting previously unselected package byacc.
Unpacking byacc (from .../byacc_20110908-1_amd64.deb) ...
Selecting previously unselected package libdb5.1-dev.
Unpacking libdb5.1-dev (from .../libdb5.1-dev_5.1.29-1_amd64.deb) ...
Selecting previously unselected package libdb-dev.
Unpacking libdb-dev (from .../libdb-dev_5.1.4_all.deb) ...
Selecting previously unselected package sbuild-build-depends-hpsockd-dummy.
Unpacking sbuild-build-depends-hpsockd-dummy (from .../sbuild-build-depends-hpsockd-dummy.deb) ...
Processing triggers for install-info ...
Setting up libpipeline1 (1.2.0-5) ...
Setting up libpcre3 (8.12-4) ...
Setting up m4 (1.4.16-2) ...
Setting up flex (2.5.35-10) ...
Setting up libglib2.0-0 (2.30.2-4) ...
No schema files found: doing nothing.
Setting up libxml2 (2.7.8.dfsg-5.1) ...
Setting up libcroco3 (0.6.2-2) ...
Setting up libunistring0 (0.9.3-5) ...
Setting up bsdmainutils (8.2.3) ...
update-alternatives: using /usr/bin/bsd-write to provide /usr/bin/write (write) in auto mode.
update-alternatives: using /usr/bin/bsd-from to provide /usr/bin/from (from) in auto mode.
Setting up groff-base (1.21-6) ...
Setting up man-db (2.6.0.2-3) ...
Building database of manual pages ...
Setting up libmagic1 (5.09-2) ...
Setting up file (5.09-2) ...
Setting up gettext-base (0.18.1.1-5) ...
Setting up html2text (1.3.2a-15) ...
Setting up gettext (0.18.1.1-5) ...
Setting up intltool-debian (0.35.0+20060710.1) ...
Setting up po-debconf (1.0.16+nmu2) ...
Setting up debhelper (8.9.14) ...
Setting up byacc (20110908-1) ...
update-alternatives: using /usr/bin/byacc to provide /usr/bin/yacc (yacc) in auto mode.
Setting up libdb5.1-dev (5.1.29-1) ...
Setting up libdb-dev (5.1.4) ...
Setting up sbuild-build-depends-hpsockd-dummy (0.invalid.0) ...

┌──────────────────────────────────────────────────────────────────────────────┐
│ Build environment                                                            │
└──────────────────────────────────────────────────────────────────────────────┘

Kernel: Linux 2.6.32-5-amd64 amd64 (x86_64)
Toolchain package versions: binutils_2.22-4 dpkg-dev_1.16.1.2 g++-4.6_4.6.2-9 gcc-4.6_4.6.2-9 libc6-dev_2.13-24 libstdc++6_4.6.2-9 libstdc++6-4.6-dev_4.6.2-9 linux-libc-dev_3.1.8-2
Package versions: apt_0.8.15.9 apt-utils_0.8.15.9 base-files_6.5 base-passwd_3.5.24 bash_4.2-1 binutils_2.22-4 bsdmainutils_8.2.3 bsdutils_1:2.20.1-1.1 build-essential_11.5 byacc_20110908-1 bzip2_1.0.6-1 clang_3.0-5 coreutils_8.13-3 cpp_4:4.6.2-4 cpp-4.6_4.6.2-9 dash_0.5.7-2 debconf_1.5.41 debfoster_2.7-1.1 debhelper_8.9.14 debian-archive-keyring_2010.08.28 debianutils_4.1 diffutils_1:3.2-1 dpkg_1.16.1.2 dpkg-dev_1.16.1.2 e2fslibs_1.42-1 e2fsprogs_1.42-1 fakeroot_1.18.2-1 file_5.09-2 findutils_4.4.2-4 flex_2.5.35-10 g++_4:4.6.2-4 g++-4.6_4.6.2-9 gcc_4:4.6.2-4 gcc-4.6_4.6.2-9 gcc-4.6-base_4.6.2-9 gettext_0.18.1.1-5 gettext-base_0.18.1.1-5 gnupg_1.4.11-3 gpgv_1.4.11-3 grep_2.10-1 groff-base_1.21-6 gzip_1.4-2 hostname_3.09 html2text_1.3.2a-15 initscripts_2.88dsf-18 insserv_1.14.0-2.1 install-info_4.13a.dfsg.1-8 intltool-debian_0.35.0+20060710.1 less_444-1 libacl1_2.2.51-5 libattr1_1:2.4.46-5 libblkid1_2.20.1-1.1 libbz2-1.0_1.0.6-1 libc-bin_2.13-24 libc-dev-bin_2.13-24 libc6_2.13-24 libc6-dev_2.13-24 libclang-common-dev_3.0-5 libclass-isa-perl_0.36-3 libcomerr2_1.42-1 libcroco3_0.6.2-2 libdb-dev_5.1.4 libdb5.1_5.1.29-1 libdb5.1-dev_5.1.29-1 libdpkg-perl_1.16.1.2 libffi5_3.0.10-3 libgc1c2_1:7.1-8 libgcc1_1:4.6.2-9 libgdbm3_1.8.3-10 libglib2.0-0_2.30.2-4 libgmp10_2:5.0.2+dfsg-2 libgomp1_4.6.2-9 libllvm3.0_3.0-5 liblzma2_5.1.1alpha+20110809-2 liblzma5_5.1.1alpha+20110809-3 libmagic1_5.09-2 libmount1_2.20.1-1.1 libmpc2_0.9-4 libmpfr4_3.1.0-3 libncurses5_5.9-4 libncursesw5_5.9-4 libpam-modules_1.1.3-6 libpam-modules-bin_1.1.3-6 libpam-runtime_1.1.3-6 libpam0g_1.1.3-6 libpcre3_8.12-4 libpipeline1_1.2.0-5 libquadmath0_4.6.2-9 libreadline6_6.2-8 libselinux1_2.1.0-4 libsepol1_2.1.0-1.2 libslang2_2.2.4-5 libss2_1.42-1 libstdc++6_4.6.2-9 libstdc++6-4.6-dev_4.6.2-9 libswitch-perl_2.16-2 libtimedate-perl_1.2000-1 libtinfo5_5.9-4 libunistring0_0.9.3-5 libusb-0.1-4_2:0.1.12-20 libuuid1_2.20.1-1.1 libxml2_2.7.8.dfsg-5.1 linux-libc-dev_3.1.8-2 login_1:4.1.4.2+svn3283-3 lsb-base_3.2-28 m4_1.4.16-2 make_3.81-8.1 man-db_2.6.0.2-3 mawk_1.3.3-16 mount_2.20.1-1.1 multiarch-support_2.13-24 ncurses-base_5.9-4 ncurses-bin_5.9-4 nvi_1.81.6-8.2 passwd_1:4.1.4.2+svn3283-3 patch_2.6.1-2 perl_5.14.2-6 perl-base_5.14.2-6 perl-modules_5.14.2-6 po-debconf_1.0.16+nmu2 readline-common_6.2-8 sbuild-build-depends-core-dummy_0.invalid.0 sbuild-build-depends-hpsockd-dummy_0.invalid.0 sed_4.2.1-9 sensible-utils_0.0.6 sysv-rc_2.88dsf-18 sysvinit_2.88dsf-18 sysvinit-utils_2.88dsf-18 tar_1.26-4 tzdata_2011n-2 util-linux_2.20.1-1.1 xz-utils_5.1.1alpha+20110809-3 zlib1g_1:1.2.3.4.dfsg-3

┌──────────────────────────────────────────────────────────────────────────────┐
│ Build                                                                        │
└──────────────────────────────────────────────────────────────────────────────┘


Unpack source
─────────────

gpgv: keyblock resource `/var/lib/sbuild/.gnupg/trustedkeys.gpg': file open error
gpgv: Signature made Sat Jun 14 17:08:31 2008 CEST using DSA key ID 0A0AC927
gpgv: Can't check signature: public key not found
dpkg-source: warning: failed to verify signature on ./hpsockd_0.17.dsc
dpkg-source: info: extracting hpsockd in hpsockd-0.17
dpkg-source: info: unpacking hpsockd_0.17.tar.gz

Check disc space
────────────────

Sufficient free space for build

dpkg-buildpackage
─────────────────

dpkg-buildpackage: source package hpsockd
dpkg-buildpackage: source version 0.17
 dpkg-source --before-build hpsockd-0.17
dpkg-buildpackage: host architecture amd64
 fakeroot debian/rules clean
dh_testdir
dh_testroot
rm -f build-stamp configure-stamp
# Add here commands to clean up after the build process.
cd src && /usr/bin/make clobber
make[1]: Entering directory `/build/hpsockd-JOnjnK/hpsockd-0.17/src'
for i in util sockd; do (cd $i && make clobber); done
make[2]: Entering directory `/build/hpsockd-JOnjnK/hpsockd-0.17/src/util'
rm -f *.o
rm -f libutil.a
make[2]: Leaving directory `/build/hpsockd-JOnjnK/hpsockd-0.17/src/util'
make[2]: Entering directory `/build/hpsockd-JOnjnK/hpsockd-0.17/src/sockd'
rm -f *.o gram.output gram.tab.c gram.tab.h lexer.c
rm -f sockd sdc log2ascii usage vers.c
make[2]: Leaving directory `/build/hpsockd-JOnjnK/hpsockd-0.17/src/sockd'
make[1]: Leaving directory `/build/hpsockd-JOnjnK/hpsockd-0.17/src'
dh_clean
 dpkg-source -b hpsockd-0.17
dpkg-source: warning: no source format specified in debian/source/format, see dpkg-source(1)
dpkg-source: info: using source format `1.0'
dpkg-source: info: building hpsockd in hpsockd_0.17.tar.gz
dpkg-source: info: building hpsockd in hpsockd_0.17.dsc
 debian/rules build
dh_testdir
# Add here commands to configure the package.
#CONFIGURE#
touch configure-stamp
dh_testdir
# Add here commands to compile the package.
cd src && /usr/bin/make
make[1]: Entering directory `/build/hpsockd-JOnjnK/hpsockd-0.17/src'
/usr/bin/make `uname -s`
make[2]: Entering directory `/build/hpsockd-JOnjnK/hpsockd-0.17/src'
/usr/bin/make CFLAGS="-O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\\\"/etc/hpsockd.conf\\\" -DSOCKD_PATH=\\\"/usr/sbin/hpsockd\\\" -I../util -DYYDEBUG=1" CLFLAGS="-ldl -ldb" all
make[3]: Entering directory `/build/hpsockd-JOnjnK/hpsockd-0.17/src'
for i in util sockd; do (cd $i && make all); done
make[4]: Entering directory `/build/hpsockd-JOnjnK/hpsockd-0.17/src/util'
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o btree.o btree.c
btree.c:285:12: warning: type specifier missing, defaults to 'int' [-Wimplicit-int]
                register nix=ix;
                ~~~~~~~~ ^
btree.c:481:23: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                ERR("Empty node at %x\n",0);
                ~~~~~~~~~~~~~~~~~~~~^~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:481:28: warning: data argument not used by format string [-Wformat-extra-args]
                ERR("Empty node at %x\n",0);
                ~~~~~~~~~~~~~~~~~~~~~~~~~^~
btree.c:478:40: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                       ^
btree.c:486:33: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                ERR("Key out of order/dup in %x[%d]\n",pn->nel-1);
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:489:34: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                        ERR("Key out of order/dup in %x[%d]\n",i);
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:496:30: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                        ERR("bad left pointer in %x[0]\n",0);
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:496:38: warning: data argument not used by format string [-Wformat-extra-args]
                        ERR("bad left pointer in %x[0]\n",0);
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
btree.c:478:40: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                       ^
btree.c:501:31: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                        ERR("bad right pointer in %x[%d]\n",pn->nel-1);
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:505:21: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                        ERR("bad key in %x[%d]\n",i);
                        ~~~~~~~~~~~~~~~~~^~~~~~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:508:30: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                        ERR("bad left pointer in %x[%d]\n",i);
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:512:31: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                        ERR("bad right pointer in %x[%d]\n",i);
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:514:38: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                        ERR("Key out of order/dup key in %x[%d]\n",i);
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:517:32: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                        ERR("bad parent pointer in %x[%d]\n",i);
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~
btree.c:478:35: note: expanded from:
#define ERR(s,n) ( Fprintf(stderr,s,pn,n),errs++ )
                                  ^ ~~
btree.c:540:28: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
        Fprintf(stderr,"%s%2d: %08x (l=%08x r=%08x p=%08x) %s nel=%d\n",
                               ~~~^
btree.c:540:36: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
        Fprintf(stderr,"%s%2d: %08x (l=%08x r=%08x p=%08x) %s nel=%d\n",
                                       ~~~^
btree.c:540:43: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
        Fprintf(stderr,"%s%2d: %08x (l=%08x r=%08x p=%08x) %s nel=%d\n",
                                              ~~~^
btree.c:540:50: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
        Fprintf(stderr,"%s%2d: %08x (l=%08x r=%08x p=%08x) %s nel=%d\n",
                                                     ~~~^
btree.c:545:28: warning: conversion specifies type 'unsigned int' but the argument has type 'node_t *' (aka 'struct node *') [-Wformat]
                Fprintf(stderr,"%s    %08x[%d] %08x %08x\n",indent,
                                      ~~~^
btree.c:545:37: warning: conversion specifies type 'unsigned int' but the argument has type 'void *' [-Wformat]
                Fprintf(stderr,"%s    %08x[%d] %08x %08x\n",indent,
                                               ~~~^
btree.c:545:42: warning: conversion specifies type 'unsigned int' but the argument has type 'void *' [-Wformat]
                Fprintf(stderr,"%s    %08x[%d] %08x %08x\n",indent,
                                                    ~~~^
20 warnings generated.
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o inetdsec.o inetdsec.c
inetdsec.c:180:8: warning: type specifier missing, defaults to 'int' [-Wimplicit-int]
static internet_parse(char *string,byte *addr,char *service)
~~~~~~ ^
1 warning generated.
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o inet_ntoa.o inet_ntoa.c
ar rv libutil.a btree.o inetdsec.o inet_ntoa.o
ar: creating libutil.a
a - btree.o
a - inetdsec.o
a - inet_ntoa.o
ranlib libutil.a
make[4]: Leaving directory `/build/hpsockd-JOnjnK/hpsockd-0.17/src/util'
make[4]: Entering directory `/build/hpsockd-JOnjnK/hpsockd-0.17/src/sockd'
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o methods.o methods.c
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o sockd.o sockd.c
sockd.c:94:5: warning: implicit declaration of function 'negotInit' is invalid in C99 [-Wimplicit-function-declaration]
    negotInit();
    ^
sockd.c:135:5: warning: implicit declaration of function 'gettimeofday' is invalid in C99 [-Wimplicit-function-declaration]
    gettimeofday(&lastAccept,(struct timezone*)NULL);   /* make it something close... */
    ^
sockd.c:193:44: warning: conversion specifies type 'int' but the argument has type '__time_t' (aka 'long') [-Wformat]
            fprintf(stderr,"selecting - timeout==%d\n",timeout.tv_sec);
                                                 ~^    ~~~~~~~~~~~~~~
                                                 %ld
sockd.c:495:10: warning: implicit declaration of function 'yyparse' is invalid in C99 [-Wimplicit-function-declaration]
    if (!yyparse()) {
         ^
sockd.c:502:2: warning: implicit declaration of function 'umask' is invalid in C99 [-Wimplicit-function-declaration]
        umask(config.daemon.umask);
        ^
5 warnings generated.
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o signal.o signal.c
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o util.o util.c
util.c:79:46: warning: conversion specifies type 'int' but the argument has type 'long' [-Wformat]
    syslog(LOG_NOTICE,"freeSomeMemory freed %d bytes",freed);
                                            ~^        ~~~~~
                                            %ld
util.c:155:50: warning: passing 'int *' to parameter of type 'socklen_t *' (aka 'unsigned int *') converts between pointers to integer types with different sign [-Wpointer-sign]
    if (getsockopt(fd,SOL_SOCKET,SO_RCVBUF,&bval,&blen)==0 && bval<bufSize) {
                                                 ^~~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:192:32: note: passing argument to parameter '__optlen' here
                       socklen_t *__restrict __optlen) __THROW;
                                             ^
util.c:159:50: warning: passing 'int *' to parameter of type 'socklen_t *' (aka 'unsigned int *') converts between pointers to integer types with different sign [-Wpointer-sign]
    if (getsockopt(fd,SOL_SOCKET,SO_SNDBUF,&bval,&blen)==0 && bval<bufSize) {
                                                 ^~~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:192:32: note: passing argument to parameter '__optlen' here
                       socklen_t *__restrict __optlen) __THROW;
                                             ^
util.c:220:37: warning: conversion specifies type 'int' but the argument has type 'long' [-Wformat]
        syslog(LOG_DEBUG,"closeConnection(%d,%d,%d) fd=%d flags=x%x",info-fdInfo, why, closeNow, info->fd,info->flags);
                                          ~^                         ~~~~~~~~~~~
                                          %ld
util.c:256:29: warning: conversion specifies type 'int' but the argument has type 'long' [-Wformat]
        syslog(LOG_DEBUG," client=%d peer=%d udp=%d", conn->client-fdInfo, peer ? peer-fdInfo : -1,
                                  ~^                  ~~~~~~~~~~~~~~~~~~~
                                  %ld
util.c:256:37: warning: conversion specifies type 'int' but the argument has type 'long' [-Wformat]
        syslog(LOG_DEBUG," client=%d peer=%d udp=%d", conn->client-fdInfo, peer ? peer-fdInfo : -1,
                                          ~^                               ~~~~~~~~~~~~~~~~~~~~~~~
                                          %ld
util.c:256:44: warning: conversion specifies type 'int' but the argument has type 'long' [-Wformat]
        syslog(LOG_DEBUG," client=%d peer=%d udp=%d", conn->client-fdInfo, peer ? peer-fdInfo : -1,
                                                 ~^
                                                 %ld
util.c:292:52: warning: conversion specifies type 'unsigned int' but the argument has type 'fdInfoType *' (aka 'struct fdInfo *') [-Wformat]
        syslog(LOG_ERR,"Null connection pointer origInfo=%x conn=%x info=%x",origInfo,conn,info);
                                                         ~^                  ~~~~~~~~
util.c:292:60: warning: conversion specifies type 'unsigned int' but the argument has type 'connInfoType *' (aka 'struct connInfo *') [-Wformat]
        syslog(LOG_ERR,"Null connection pointer origInfo=%x conn=%x info=%x",origInfo,conn,info);
                                                                 ~^                   ~~~~
util.c:292:68: warning: conversion specifies type 'unsigned int' but the argument has type 'fdInfoType *' (aka 'struct fdInfo *') [-Wformat]
        syslog(LOG_ERR,"Null connection pointer origInfo=%x conn=%x info=%x",origInfo,conn,info);
                                                                         ~^                ~~~~
util.c:348:52: warning: conversion specifies type 'unsigned int' but the argument has type 'fdInfoType *' (aka 'struct fdInfo *') [-Wformat]
            syslog(LOG_ERR,"using unused connection info=%x, conn=%x",info,conn);
                                                         ~^           ~~~~
util.c:348:61: warning: conversion specifies type 'unsigned int' but the argument has type 'connInfoType *' (aka 'struct connInfo *') [-Wformat]
            syslog(LOG_ERR,"using unused connection info=%x, conn=%x",info,conn);
                                                                  ~^       ~~~~
util.c:369:33: warning: conversion specifies type 'unsigned int' but the argument has type 'connInfoType *' (aka 'struct connInfo *') [-Wformat]
            syslog(LOG_ERR,"free conn(%x) in use",conn);
                                      ~^          ~~~~
util.c:376:33: warning: conversion specifies type 'unsigned int' but the argument has type 'connInfoType *' (aka 'struct connInfo *') [-Wformat]
            syslog(LOG_ERR,"lost conn(%x)",conn);
                                      ~^   ~~~~
util.c:381:44: warning: conversion specifies type 'unsigned int' but the argument has type 'connInfoType *' (aka 'struct connInfo *') [-Wformat]
                syslog(LOG_ERR,"badly broken connection %x",conn);
                                                        ~^  ~~~~
util.c:878:16: warning: conversion specifies type 'unsigned int' but the argument has type 'fdInfoType *' (aka 'struct fdInfo *') [-Wformat]
        fprintf(f,"%08x %08x %08x %8d %08x %08x %5d\n",
                   ~~~^
util.c:878:21: warning: conversion specifies type 'unsigned int' but the argument has type 'fdInfoType *' (aka 'struct fdInfo *') [-Wformat]
        fprintf(f,"%08x %08x %08x %8d %08x %08x %5d\n",
                        ~~~^
util.c:878:26: warning: conversion specifies type 'unsigned int' but the argument has type 'connInfoType *' (aka 'struct connInfo *') [-Wformat]
        fprintf(f,"%08x %08x %08x %8d %08x %08x %5d\n",
                             ~~~^
util.c:886:16: warning: conversion specifies type 'unsigned int' but the argument has type 'connInfoType *' (aka 'struct connInfo *') [-Wformat]
        fprintf(f,"%08x %08x %08x %8x %08x\n",
                   ~~~^
util.c:886:21: warning: conversion specifies type 'unsigned int' but the argument has type 'fdInfoType *' (aka 'struct fdInfo *') [-Wformat]
        fprintf(f,"%08x %08x %08x %8x %08x\n",
                        ~~~^
util.c:886:26: warning: conversion specifies type 'unsigned int' but the argument has type 'fdInfoType *' (aka 'struct fdInfo *') [-Wformat]
        fprintf(f,"%08x %08x %08x %8x %08x\n",
                             ~~~^
21 warnings generated.
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o logging.o logging.c
logging.c:86:65: warning: conversion specifies type 'unsigned int' but the argument has type 'fdInfoType *' (aka 'struct fdInfo *') [-Wformat]
        syslog(LOG_CRIT,"makeLogRec got null request pointer.  Info=%08x flags=%08x pid=%d",info,info->flags,conn->pid);        /* XXX */
                                                                    ~~~^                    ~~~~
1 warning generated.
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o dns.o dns.c
dns.c:107:20: warning: incompatible pointer types passing 'struct sockaddr_in *' to parameter of type 'struct sockaddr *' [-Wincompatible-pointer-types]
        res=getsockname(s,&dnsAddr,&sinLen);
                          ^~~~~~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:119:50: note: passing argument to parameter '__addr' here
extern int getsockname (int __fd, __SOCKADDR_ARG __addr,
                                                 ^
dns.c:107:29: warning: passing 'int *' to parameter of type 'socklen_t *' (aka 'unsigned int *') converts between pointers to integer types with different sign [-Wpointer-sign]
        res=getsockname(s,&dnsAddr,&sinLen);
                                   ^~~~~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:120:26: note: passing argument to parameter '__len' here
                        socklen_t *__restrict __len) __THROW;
                                              ^
dns.c:358:42: warning: incompatible pointer types passing 'struct sockaddr_in *' to parameter of type 'struct sockaddr *' [-Wincompatible-pointer-types]
            ret=recvfrom(fd,sbuf,sizeof(sbuf),0,&from,&fromLen);
                                                ^~~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:167:33: note: passing argument to parameter '__addr' here
                         int __flags, __SOCKADDR_ARG __addr,
                                                     ^
dns.c:358:48: warning: passing 'int *' to parameter of type 'socklen_t *' (aka 'unsigned int *') converts between pointers to integer types with different sign [-Wpointer-sign]
            ret=recvfrom(fd,sbuf,sizeof(sbuf),0,&from,&fromLen);
                                                      ^~~~~~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:168:27: note: passing argument to parameter '__addr_len' here
                         socklen_t *__restrict __addr_len);
                                               ^
dns.c:365:53: warning: more '%' conversions than data arguments [-Wformat]
            syslog(LOG_ERR,"dnsHandler: bad size request (%d)");
                                                          ~^
dns.c:394:36: warning: incompatible pointer types passing 'struct sockaddr_in *' to parameter of type 'const struct sockaddr *' [-Wincompatible-pointer-types]
        sendto(fd,dbuf,next-(char*)dbuf,0,&from,fromLen);
                                          ^~~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:156:44: note: passing argument to parameter '__addr' here
                       int __flags, __CONST_SOCKADDR_ARG __addr,
                                                         ^
6 warnings generated.
if [ -f /usr/bin/byacc ]; then		\
	    byacc -b gram -d -v gram.y;		\
	else					\
	    yacc -b gram -d -v gram.y;		\
	fi
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o gram.tab.o gram.tab.c
gram.y:766:1: warning: type specifier missing, defaults to 'int' [-Wimplicit-int]
yyerror(char *s)
^~~~~~~
gram.y:771:1: warning: control reaches end of non-void function [-Wreturn-type]
}
^
2 warnings generated.
flex -p -s -t lexer.l > lexer.c
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o lexer.o lexer.c
lexer.l:122:15: warning: implicit declaration of function 'strToTime' is invalid in C99 [-Wimplicit-function-declaration]
{ yylval.iVal=strToTime(yytext); return I_TIME; }
              ^
1 warning generated.
sed -n '1,1s/.*(\(.*\)).*$/char *socks_version="@(#)sockd version \1";/p' < ../../debian/changelog > vers.c
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o vers.o vers.c
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o listen.o listen.c
listen.c:67:41: warning: passing 'int *' to parameter of type 'socklen_t *' (aka 'unsigned int *') converts between pointers to integer types with different sign [-Wpointer-sign]
        newFd=accept(fd,(struct sockaddr*)&sin,&len);
                                               ^~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:215:28: note: passing argument to parameter '__addr_len' here
                   socklen_t *__restrict __addr_len);
                                         ^
listen.c:90:5: warning: implicit declaration of function 'gettimeofday' is invalid in C99 [-Wimplicit-function-declaration]
    gettimeofday(&myTime,(struct timezone*)NULL);
    ^
listen.c:150:39: warning: implicit declaration of function 'DoInetdSec' is invalid in C99 [-Wimplicit-function-declaration]
    if (config.daemon.inetdSecFile && DoInetdSec(config.daemon.service,&sin,config.daemon.inetdSecFile)<0) {
                                      ^
listen.c:211:1: warning: control reaches end of non-void function [-Wreturn-type]
}
^
4 warnings generated.
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o v4.o v4.c
v4.c:161:25: warning: '&&' within '||' [-Wlogical-op-parentheses]
    if (res==0 || res<0 && errno==EINPROGRESS) {
               ~~ ~~~~~~^~~~~~~~~~~~~~~~~~~~~
v4.c:161:25: note: place parentheses around the '&&' expression to silence this warning
    if (res==0 || res<0 && errno==EINPROGRESS) {
                  ~~~~~~^~~~~~~~~~~~~~~~~~~~~
v4.c:195:44: warning: passing 'int *' to parameter of type 'socklen_t *' (aka 'unsigned int *') converts between pointers to integer types with different sign [-Wpointer-sign]
        res=getsockname(fd,(struct sockaddr*)&sin,&sinlen);
                                                  ^~~~~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:120:26: note: passing argument to parameter '__len' here
                        socklen_t *__restrict __len) __THROW;
                                              ^
v4.c:243:50: warning: passing 'int *' to parameter of type 'socklen_t *' (aka 'unsigned int *') converts between pointers to integer types with different sign [-Wpointer-sign]
    res=getsockname(outFd,(struct sockaddr*)&sin,&len);
                                                 ^~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:120:26: note: passing argument to parameter '__len' here
                        socklen_t *__restrict __len) __THROW;
                                              ^
v4.c:284:44: warning: passing 'int *' to parameter of type 'socklen_t *' (aka 'unsigned int *') converts between pointers to integer types with different sign [-Wpointer-sign]
    newFd=accept(fd,(struct sockaddr*)&sin,&len);
                                           ^~~~
/usr/include/x86_64-linux-gnu/sys/socket.h:215:28: note: passing argument to parameter '__addr_len' here
                   socklen_t *__restrict __addr_len);
                                         ^
4 warnings generated.
cc -O -UHAVE_THREADS -DHAVE_DLOPEN -DHAVE_MMAP -DDB_185 -DCONFIG_FILE=\"/etc/hpsockd.conf\" -DSOCKD_PATH=\"/usr/sbin/hpsockd\" -I../util -DYYDEBUG=1   -c -o v5.o v5.c
v5.c:162:3: error: non-void function 'v5Request' should return a value [-Wreturn-type]
                return;
                ^
v5.c:391:66: warning: conversion specifies type 'int' but the argument has type 'long' [-Wformat]
            syslog(LOG_NOTICE,"validate(%d, %s:%s, %s:%d) --> %d, rule %d",
                                                                       ~^
                                                                       %ld
1 warning and 1 error generated.
make[4]: *** [v5.o] Error 1
make[4]: Leaving directory `/build/hpsockd-JOnjnK/hpsockd-0.17/src/sockd'
make[3]: *** [all] Error 2
make[3]: Leaving directory `/build/hpsockd-JOnjnK/hpsockd-0.17/src'
make[2]: *** [Linux] Error 2
make[2]: Leaving directory `/build/hpsockd-JOnjnK/hpsockd-0.17/src'
make[1]: *** [default] Error 2
make[1]: Leaving directory `/build/hpsockd-JOnjnK/hpsockd-0.17/src'
make: *** [build-stamp] Error 2
dpkg-buildpackage: error: debian/rules build gave error exit status 2
────────────────────────────────────────────────────────────────────────────────
Build finished at 20120113-0353

Finished
────────

E: Build failure (dpkg-buildpackage died)

┌──────────────────────────────────────────────────────────────────────────────┐
│ Cleanup                                                                      │
└──────────────────────────────────────────────────────────────────────────────┘

Purging /var/lib/schroot/mount/lsid64b-5dbf83a5-83f2-41ed-aeee-8962ab2b1f9b/build/hpsockd-JOnjnK
Not cleaning session: cloned chroot in use

┌──────────────────────────────────────────────────────────────────────────────┐
│ Summary                                                                      │
└──────────────────────────────────────────────────────────────────────────────┘

Architecture: amd64
Build-Space: 880
Build-Time: 4
Distribution: lsid64b
Fail-Stage: build
Install-Time: 6
Job: hpsockd_0.17
Package: hpsockd
Package-Time: 23
Source-Version: 0.17
Space: 880
Status: attempted
Version: 0.17
────────────────────────────────────────────────────────────────────────────────
Finished at 20120113-0353
Build needed 00:00:23, 880k disc space
DC-Build-Status: Failed 155.205421s
### Content of /var/log/daemon.log ###
Jan 12 21:02:56 stremi-22 approx: Concurrent download of debian/dists/sid/Release.gpg is taking too long
Jan 12 21:03:31 stremi-22 approx: Concurrent download of debian/dists/sid/Release is taking too long
Jan 12 21:03:58 stremi-22 approx: Concurrent download of debian/dists/sid/Release.gpg is taking too long
Jan 12 21:04:09 stremi-22 approx: Concurrent download of debian/dists/sid/Release.gpg is taking too long
Jan 12 21:04:20 stremi-22 approx: Concurrent download of debian/dists/sid/Release.gpg is taking too long
Jan 12 21:04:31 stremi-22 approx: Concurrent download of debian/dists/sid/Release.gpg is taking too long
Jan 12 21:04:55 stremi-22 approx: Concurrent download of debian/dists/sid/Release.gpg is taking too long
Jan 12 21:05:07 stremi-22 approx: Concurrent download of debian/dists/sid/Release.gpg is taking too long
Jan 12 21:05:11 stremi-22 approx: Concurrent download of debian/dists/sid/main/binary-amd64/Packages.xz is taking too long
Jan 12 21:05:25 stremi-22 approx: Concurrent download of debian/dists/sid/main/i18n/Index is taking too long
Jan 12 21:05:45 stremi-22 approx: Concurrent download of debian/dists/sid/main/binary-amd64/Packages.xz is taking too long
Jan 12 21:05:56 stremi-22 approx: Concurrent download of debian/dists/sid/main/i18n/Translation-en.gz is taking too long
Jan 13 02:46:19 stremi-22 approx: Concurrent download of debian/dists/sid/Release.gpg is taking too long
Jan 13 03:22:25 stremi-22 approx: Concurrent download of debian/dists/sid/main/i18n/Translation-en is taking too long
Jan 13 03:31:20 stremi-22 approx: Concurrent download of debian/dists/sid/main/i18n/Index is taking too long
Jan 13 03:41:19 stremi-22 approx: Concurrent download of debian/dists/sid/main/i18n/Index is taking too long
Jan 13 03:43:59 stremi-22 approx: Concurrent download of debian/dists/sid/Release.gpg is taking too long
Jan 13 03:45:15 stremi-22 approx: Concurrent download of debian/dists/sid/main/i18n/Index is taking too long
Jan 13 03:45:31 stremi-22 approx: Concurrent download of debian/dists/sid/main/i18n/Translation-en.bz2 is taking too long
### End of content of /var/log/daemon.log ###
DC-Time-Estimation: 155.205421 versus expected 20 (r/m: 6.76027105 ; m: 20.0)
DC-Build-Network: USED. See /tmp/rulesafter.2su0Cu !
************************************************************
# Generated by iptables-save v1.4.8 on Fri Jan 13 03:53:07 2012
*filter
:INPUT ACCEPT [6397310:48066409327]
:FORWARD ACCEPT [0:0]
:OUTPUT DROP [0:0]
:LD - [0:0]
[3506050:43564867009] -A OUTPUT -o lo -j ACCEPT 
[0:0] -A OUTPUT -d 129.88.0.0/16 -j ACCEPT 
[0:0] -A OUTPUT -d 10.0.0.0/8 -j ACCEPT 
[0:0] -A OUTPUT -d 192.168.133.0/24 -j ACCEPT 
[0:0] -A OUTPUT -d 192.168.159.0/24 -j ACCEPT 
[0:0] -A OUTPUT -d 192.168.160.0/24 -j ACCEPT 
[0:0] -A OUTPUT -d 10.69.0.0/17 -j ACCEPT 
[0:0] -A OUTPUT -d 172.28.52.0/22 -j ACCEPT 
[0:0] -A OUTPUT -d 172.24.0.0/16 -j ACCEPT 
[0:0] -A OUTPUT -d 131.254.202.0/23 -j ACCEPT 
[0:0] -A OUTPUT -d 138.96.20.0/22 -j ACCEPT 
[0:0] -A OUTPUT -d 192.168.22.0/24 -j ACCEPT 
[539161:179224048] -A OUTPUT -d 172.16.0.0/16 -j ACCEPT 
[0:0] -A OUTPUT -d 192.168.67.0/24 -j ACCEPT 
[50137:6692652] -A OUTPUT -d 224.0.0.0/4 -p udp -j ACCEPT 
[10:600] -A OUTPUT -j LD 
[10:600] -A LD -j LOG 
[10:600] -A LD -j REJECT --reject-with icmp-port-unreachable 
COMMIT
# Completed on Fri Jan 13 03:53:07 2012
************************************************************
--- /tmp/rulesbefore.JJEqQW	2012-01-13 03:50:32.153753615 +0100
+++ /tmp/rulesafter.2su0Cu	2012-01-13 03:53:07.370520209 +0100
@@ -1,10 +1,10 @@
-# Generated by iptables-save v1.4.8 on Fri Jan 13 03:50:32 2012
+# Generated by iptables-save v1.4.8 on Fri Jan 13 03:53:07 2012
 *filter
-:INPUT ACCEPT [6341370:47569564179]
+:INPUT ACCEPT [6397310:48066409327]
 :FORWARD ACCEPT [0:0]
 :OUTPUT DROP [0:0]
 :LD - [0:0]
-[3469403:43073492204] -A OUTPUT -o lo -j ACCEPT 
+[3506050:43564867009] -A OUTPUT -o lo -j ACCEPT 
 [0:0] -A OUTPUT -d 129.88.0.0/16 -j ACCEPT 
 [0:0] -A OUTPUT -d 10.0.0.0/8 -j ACCEPT 
 [0:0] -A OUTPUT -d 192.168.133.0/24 -j ACCEPT 
@@ -16,11 +16,11 @@
 [0:0] -A OUTPUT -d 131.254.202.0/23 -j ACCEPT 
 [0:0] -A OUTPUT -d 138.96.20.0/22 -j ACCEPT 
 [0:0] -A OUTPUT -d 192.168.22.0/24 -j ACCEPT 
-[534543:177416691] -A OUTPUT -d 172.16.0.0/16 -j ACCEPT 
+[539161:179224048] -A OUTPUT -d 172.16.0.0/16 -j ACCEPT 
 [0:0] -A OUTPUT -d 192.168.67.0/24 -j ACCEPT 
-[49838:6652816] -A OUTPUT -d 224.0.0.0/4 -p udp -j ACCEPT 
+[50137:6692652] -A OUTPUT -d 224.0.0.0/4 -p udp -j ACCEPT 
 [10:600] -A OUTPUT -j LD 
 [10:600] -A LD -j LOG 
 [10:600] -A LD -j REJECT --reject-with icmp-port-unreachable 
 COMMIT
-# Completed on Fri Jan 13 03:50:32 2012
+# Completed on Fri Jan 13 03:53:07 2012
************************************************************
[    7.971465] ohci_hcd 0000:00:14.5: irq 18, io mem 0xfe9ff000
[    8.036029] usb usb7: New USB device found, idVendor=1d6b, idProduct=0001
[    8.043713] usb usb7: New USB device strings: Mfr=3, Product=2, SerialNumber=1
[    8.051912] usb usb7: Product: OHCI Host Controller
[    8.057449] usb usb7: Manufacturer: Linux 2.6.32-5-amd64 ohci_hcd
[    8.064354] usb usb7: SerialNumber: 0000:00:14.5
[    8.069697] usb usb7: configuration #1 chosen from 1 choice
[    8.076054] hub 7-0:1.0: USB hub found
[    8.080347] hub 7-0:1.0: 2 ports detected
[   10.078591] Adding 3911788k swap on /dev/sda1.  Priority:-1 extents:1 across:3911788k 
[   10.100196] EXT3 FS on sda3, internal journal
[   10.377427] kjournald starting.  Commit interval 5 seconds
[   10.387547] EXT3 FS on sda5, internal journal
[   10.392599] EXT3-fs: mounted filesystem with ordered data mode.
[   10.739860] ADDRCONF(NETDEV_UP): eth0: link is not ready
[   13.012536] igb: eth0 NIC Link is Up 1000 Mbps Full Duplex, Flow Control: RX
[   13.023717] ADDRCONF(NETDEV_CHANGE): eth0: link becomes ready
[   14.174384] fuse init (API version 7.13)
[   23.308009] eth0: no IPv6 routers present
[  215.458684] RPC: Registered udp transport module.
[  215.464075] RPC: Registered tcp transport module.
[  215.469437] RPC: Registered tcp NFSv4.1 backchannel transport module.
[  215.511605] Slow work thread pool: Starting up
[  215.516792] Slow work thread pool: Ready
[  215.521362] FS-Cache: Loaded
[  215.546228] FS-Cache: Netfs 'nfs' registered for caching
[  215.650561] svc: failed to register lockdv1 RPC service (errno 97).
[  297.000126] Adding 228556712k swap on /dev/sda5.  Priority:-2 extents:1 across:228556712k 
[  344.694958] ip_tables: (C) 2000-2006 Netfilter Core Team
[ 2863.317455] IN= OUT=eth0 SRC=172.16.160.22 DST=193.51.224.42 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=64184 DF PROTO=TCP SPT=51341 DPT=80 WINDOW=5840 RES=0x00 SYN URGP=0 
[ 2866.332028] IN= OUT=eth0 SRC=172.16.160.22 DST=193.51.224.42 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=64185 DF PROTO=TCP SPT=51341 DPT=80 WINDOW=5840 RES=0x00 SYN URGP=0 
[10571.873854] conftest[2807]: segfault at 4003c800 ip 00000000004008b1 sp 00007fffe9de30f0 error 4 in conftest[400000+1000]
[10572.026540] conftest[2818]: segfault at 412cc800 ip 00000000004008b1 sp 00007fff7ca7be30 error 6 in conftest[400000+1000]
[10572.178694] conftest[2829]: segfault at 40a47800 ip 00000000004008c3 sp 00007fffba781550 error 7 in conftest[400000+1000]
[10624.213680] conftest[5810]: segfault at 40550800 ip 00000000004008b1 sp 00007fff55e55910 error 4 in conftest[400000+1000]
[10624.371087] conftest[5821]: segfault at 40eab800 ip 00000000004008b1 sp 00007fff62a98780 error 6 in conftest[400000+1000]
[10624.528252] conftest[5832]: segfault at 404b9800 ip 00000000004008c3 sp 00007fffbedd3750 error 7 in conftest[400000+1000]
[12516.590855] IN= OUT=eth0 SRC=172.16.160.22 DST=216.34.181.96 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=33165 DF PROTO=TCP SPT=41676 DPT=80 WINDOW=5840 RES=0x00 SYN URGP=0 
[12519.604028] IN= OUT=eth0 SRC=172.16.160.22 DST=216.34.181.96 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=33166 DF PROTO=TCP SPT=41676 DPT=80 WINDOW=5840 RES=0x00 SYN URGP=0 
[12570.158736] IN= OUT=eth0 SRC=172.16.160.22 DST=216.34.181.96 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=12709 DF PROTO=TCP SPT=41678 DPT=80 WINDOW=5840 RES=0x00 SYN URGP=0 
[12573.172043] IN= OUT=eth0 SRC=172.16.160.22 DST=216.34.181.96 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=12710 DF PROTO=TCP SPT=41678 DPT=80 WINDOW=5840 RES=0x00 SYN URGP=0 
[18489.270180] gtest_break_on_[26238]: segfault at 0 ip 0000000000440aad sp 00007fff903995c0 error 6 in gtest_break_on_failure_unittest_[400000+77000]
[18489.300737] gtest_break_on_[26268]: segfault at 0 ip 0000000000440aad sp 00007fff6505c210 error 6 in gtest_break_on_failure_unittest_[400000+77000]
[18489.324540] gtest_break_on_[26294]: segfault at 0 ip 0000000000440aad sp 00007fffe53c8820 error 6 in gtest_break_on_failure_unittest_[400000+77000]
[18489.348609] gtest_break_on_[26319]: segfault at 0 ip 0000000000440aad sp 00007fffbfd86df0 error 6 in gtest_break_on_failure_unittest_[400000+77000]
[18489.372147] gtest_break_on_[26343]: segfault at 0 ip 0000000000440aad sp 00007fffe99c1220 error 6 in gtest_break_on_failure_unittest_[400000+77000]
[21835.718673] IN= OUT=eth0 SRC=172.16.160.22 DST=132.174.1.119 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=51789 DF PROTO=TCP SPT=55960 DPT=80 WINDOW=5840 RES=0x00 SYN URGP=0 
[21838.736029] IN= OUT=eth0 SRC=172.16.160.22 DST=132.174.1.119 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=51790 DF PROTO=TCP SPT=55960 DPT=80 WINDOW=5840 RES=0x00 SYN URGP=0 
[22848.472732] IN= OUT=eth0 SRC=172.16.160.22 DST=140.98.193.16 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=24634 DF PROTO=TCP SPT=49758 DPT=80 WINDOW=5840 RES=0x00 SYN URGP=0 
[22851.492017] IN= OUT=eth0 SRC=172.16.160.22 DST=140.98.193.16 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=24635 DF PROTO=TCP SPT=49758 DPT=80 WINDOW=5840 RES=0x00 SYN URGP=0 
************************************************************
